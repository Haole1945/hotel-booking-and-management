var Lj=Object.defineProperty;var Fj=(e,t,n)=>t in e?Lj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Me=(e,t,n)=>Fj(e,typeof t!="symbol"?t+"":t,n);function Ij(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Dv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pv={exports:{}},qh={},Av={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc=Symbol.for("react.element"),Bj=Symbol.for("react.portal"),$j=Symbol.for("react.fragment"),Hj=Symbol.for("react.strict_mode"),Uj=Symbol.for("react.profiler"),Vj=Symbol.for("react.provider"),Kj=Symbol.for("react.context"),Wj=Symbol.for("react.forward_ref"),Yj=Symbol.for("react.suspense"),zj=Symbol.for("react.memo"),qj=Symbol.for("react.lazy"),fx=Symbol.iterator;function Gj(e){return e===null||typeof e!="object"?null:(e=fx&&e[fx]||e["@@iterator"],typeof e=="function"?e:null)}var Ov={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rv=Object.assign,Mv={};function Do(e,t,n){this.props=e,this.context=t,this.refs=Mv,this.updater=n||Ov}Do.prototype.isReactComponent={};Do.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Do.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lv(){}Lv.prototype=Do.prototype;function bm(e,t,n){this.props=e,this.context=t,this.refs=Mv,this.updater=n||Ov}var jm=bm.prototype=new Lv;jm.constructor=bm;Rv(jm,Do.prototype);jm.isPureReactComponent=!0;var mx=Array.isArray,Fv=Object.prototype.hasOwnProperty,Tm={current:null},Iv={key:!0,ref:!0,__self:!0,__source:!0};function Bv(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Fv.call(t,r)&&!Iv.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:cc,type:e,key:i,ref:o,props:a,_owner:Tm.current}}function Qj(e,t){return{$$typeof:cc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function km(e){return typeof e=="object"&&e!==null&&e.$$typeof===cc}function Xj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var px=/\/+/g;function Yd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xj(""+e.key):t.toString(36)}function du(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cc:case Bj:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Yd(o,0):r,mx(a)?(n="",e!=null&&(n=e.replace(px,"$&/")+"/"),du(a,t,n,"",function(u){return u})):a!=null&&(km(a)&&(a=Qj(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(px,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",mx(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Yd(i,l);o+=du(i,t,n,c,a)}else if(c=Gj(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Yd(i,l++),o+=du(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dc(e,t,n){if(e==null)return e;var r=[],a=0;return du(e,r,"","",function(i){return t.call(n,i,a++)}),r}function Jj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Un={current:null},fu={transition:null},Zj={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:fu,ReactCurrentOwner:Tm};function $v(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Dc,forEach:function(e,t,n){Dc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!km(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=Do;Xe.Fragment=$j;Xe.Profiler=Uj;Xe.PureComponent=bm;Xe.StrictMode=Hj;Xe.Suspense=Yj;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zj;Xe.act=$v;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rv({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Tm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Fv.call(t,c)&&!Iv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:cc,type:e.type,key:a,ref:i,props:r,_owner:o}};Xe.createContext=function(e){return e={$$typeof:Kj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vj,_context:e},e.Consumer=e};Xe.createElement=Bv;Xe.createFactory=function(e){var t=Bv.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:Wj,render:e}};Xe.isValidElement=km;Xe.lazy=function(e){return{$$typeof:qj,_payload:{_status:-1,_result:e},_init:Jj}};Xe.memo=function(e,t){return{$$typeof:zj,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=fu.transition;fu.transition={};try{e()}finally{fu.transition=t}};Xe.unstable_act=$v;Xe.useCallback=function(e,t){return Un.current.useCallback(e,t)};Xe.useContext=function(e){return Un.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return Un.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return Un.current.useEffect(e,t)};Xe.useId=function(){return Un.current.useId()};Xe.useImperativeHandle=function(e,t,n){return Un.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return Un.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return Un.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return Un.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return Un.current.useReducer(e,t,n)};Xe.useRef=function(e){return Un.current.useRef(e)};Xe.useState=function(e){return Un.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return Un.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return Un.current.useTransition()};Xe.version="18.3.1";Av.exports=Xe;var N=Av.exports;const re=Dv(N),Hv=Ij({__proto__:null,default:re},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT=N,tT=Symbol.for("react.element"),nT=Symbol.for("react.fragment"),rT=Object.prototype.hasOwnProperty,sT=eT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aT={key:!0,ref:!0,__self:!0,__source:!0};function Uv(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)rT.call(t,r)&&!aT.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:tT,type:e,key:i,ref:o,props:a,_owner:sT.current}}qh.Fragment=nT;qh.jsx=Uv;qh.jsxs=Uv;Pv.exports=qh;var s=Pv.exports,Yf={},Vv={exports:{}},xr={},Kv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(se,z){var J=se.length;se.push(z);e:for(;0<J;){var pe=J-1>>>1,P=se[pe];if(0<a(P,z))se[pe]=z,se[J]=P,J=pe;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var z=se[0],J=se.pop();if(J!==z){se[0]=J;e:for(var pe=0,P=se.length,ee=P>>>1;pe<ee;){var Y=2*(pe+1)-1,q=se[Y],U=Y+1,he=se[U];if(0>a(q,J))U<P&&0>a(he,q)?(se[pe]=he,se[U]=J,pe=U):(se[pe]=q,se[Y]=J,pe=Y);else if(U<P&&0>a(he,J))se[pe]=he,se[U]=J,pe=U;else break e}}return z}function a(se,z){var J=se.sortIndex-z.sortIndex;return J!==0?J:se.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,m=!1,x=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(se){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=se)r(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(u)}}function b(se){if(p=!1,y(se),!x)if(n(c)!==null)x=!0,I(j);else{var z=n(u);z!==null&&K(b,z.startTime-se)}}function j(se,z){x=!1,p&&(p=!1,v(k),k=-1),m=!0;var J=f;try{for(y(z),d=n(c);d!==null&&(!(d.expirationTime>z)||se&&!O());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,f=d.priorityLevel;var P=pe(d.expirationTime<=z);z=e.unstable_now(),typeof P=="function"?d.callback=P:d===n(c)&&r(c),y(z)}else r(c);d=n(c)}if(d!==null)var ee=!0;else{var Y=n(u);Y!==null&&K(b,Y.startTime-z),ee=!1}return ee}finally{d=null,f=J,m=!1}}var C=!1,T=null,k=-1,D=5,H=-1;function O(){return!(e.unstable_now()-H<D)}function B(){if(T!==null){var se=e.unstable_now();H=se;var z=!0;try{z=T(!0,se)}finally{z?W():(C=!1,T=null)}}else C=!1}var W;if(typeof g=="function")W=function(){g(B)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,G=ue.port2;ue.port1.onmessage=B,W=function(){G.postMessage(null)}}else W=function(){w(B,0)};function I(se){T=se,C||(C=!0,W())}function K(se,z){k=w(function(){se(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,I(j))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(se){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var J=f;f=z;try{return se()}finally{f=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,z){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var J=f;f=se;try{return z()}finally{f=J}},e.unstable_scheduleCallback=function(se,z,J){var pe=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?pe+J:pe):J=pe,se){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=J+P,se={id:h++,callback:z,priorityLevel:se,startTime:J,expirationTime:P,sortIndex:-1},J>pe?(se.sortIndex=J,t(u,se),n(c)===null&&se===n(u)&&(p?(v(k),k=-1):p=!0,K(b,J-pe))):(se.sortIndex=P,t(c,se),x||m||(x=!0,I(j))),se},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(se){var z=f;return function(){var J=f;f=z;try{return se.apply(this,arguments)}finally{f=J}}}})(Wv);Kv.exports=Wv;var iT=Kv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT=N,fr=iT;function be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yv=new Set,_l={};function xi(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(_l[e]=t,e=0;e<t.length;e++)Yv.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=Object.prototype.hasOwnProperty,lT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xx={},gx={};function cT(e){return zf.call(gx,e)?!0:zf.call(xx,e)?!1:lT.test(e)?gx[e]=!0:(xx[e]=!0,!1)}function uT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hT(e,t,n,r){if(t===null||typeof t>"u"||uT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new Vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new Vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new Vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new Vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new Vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new Vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new Vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new Vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new Vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function Cm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sm,Cm);wn[t]=new Vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sm,Cm);wn[t]=new Vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sm,Cm);wn[t]=new Vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Em(e,t,n,r){var a=wn.hasOwnProperty(t)?wn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hT(t,n,a,r)&&(n=null),r||a===null?cT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $s=oT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),zv=Symbol.for("react.provider"),qv=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),Gv=Symbol.for("react.offscreen"),yx=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=yx&&e[yx]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,zd;function sl(e){if(zd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zd=t&&t[1]||""}return`
`+zd+e}var qd=!1;function Gd(e,t){if(!e||qd)return"";qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sl(e):""}function dT(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=Gd(e.type,!1),e;case 11:return e=Gd(e.type.render,!1),e;case 1:return e=Gd(e.type,!0),e;default:return""}}function Xf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case Li:return"Portal";case qf:return"Profiler";case _m:return"StrictMode";case Gf:return"Suspense";case Qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qv:return(e.displayName||"Context")+".Consumer";case zv:return(e._context.displayName||"Context")+".Provider";case Dm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pm:return t=e.displayName||null,t!==null?t:Xf(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return Xf(e(t))}catch{}}return null}function fT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xf(t);case 8:return t===_m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mT(e){var t=Qv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ac(e){e._valueTracker||(e._valueTracker=mT(e))}function Xv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jf(e,t){var n=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ja(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jv(e,t){t=t.checked,t!=null&&Em(e,"checked",t,!1)}function Zf(e,t){Jv(e,t);var n=ja(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e0(e,t.type,n):t.hasOwnProperty("defaultValue")&&e0(e,t.type,ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function e0(e,t,n){(t!=="number"||Fu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var al=Array.isArray;function Gi(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ja(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function t0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(be(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(be(92));if(al(n)){if(1<n.length)throw Error(be(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ja(n)}}function Zv(e,t){var n=ja(t.value),r=ja(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oc,t1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pT=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(e){pT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hl[t]=hl[e]})});function n1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hl.hasOwnProperty(e)&&hl[e]?(""+t).trim():t+"px"}function r1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=n1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var xT=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r0(e,t){if(t){if(xT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(be(62))}}function s0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=null;function Am(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i0=null,Qi=null,Xi=null;function jx(e){if(e=dc(e)){if(typeof i0!="function")throw Error(be(280));var t=e.stateNode;t&&(t=Zh(t),i0(e.stateNode,e.type,t))}}function s1(e){Qi?Xi?Xi.push(e):Xi=[e]:Qi=e}function a1(){if(Qi){var e=Qi,t=Xi;if(Xi=Qi=null,jx(e),t)for(e=0;e<t.length;e++)jx(t[e])}}function i1(e,t){return e(t)}function o1(){}var Qd=!1;function l1(e,t,n){if(Qd)return e(t,n);Qd=!0;try{return i1(e,t,n)}finally{Qd=!1,(Qi!==null||Xi!==null)&&(o1(),a1())}}function Pl(e,t){var n=e.stateNode;if(n===null)return null;var r=Zh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(be(231,t,typeof n));return n}var o0=!1;if(Ps)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){o0=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{o0=!1}function gT(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var dl=!1,Iu=null,Bu=!1,l0=null,yT={onError:function(e){dl=!0,Iu=e}};function vT(e,t,n,r,a,i,o,l,c){dl=!1,Iu=null,gT.apply(yT,arguments)}function wT(e,t,n,r,a,i,o,l,c){if(vT.apply(this,arguments),dl){if(dl){var u=Iu;dl=!1,Iu=null}else throw Error(be(198));Bu||(Bu=!0,l0=u)}}function gi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function c1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tx(e){if(gi(e)!==e)throw Error(be(188))}function NT(e){var t=e.alternate;if(!t){if(t=gi(e),t===null)throw Error(be(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Tx(a),e;if(i===r)return Tx(a),t;i=i.sibling}throw Error(be(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?e:t}function u1(e){return e=NT(e),e!==null?h1(e):null}function h1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h1(e);if(t!==null)return t;e=e.sibling}return null}var d1=fr.unstable_scheduleCallback,kx=fr.unstable_cancelCallback,bT=fr.unstable_shouldYield,jT=fr.unstable_requestPaint,Lt=fr.unstable_now,TT=fr.unstable_getCurrentPriorityLevel,Om=fr.unstable_ImmediatePriority,f1=fr.unstable_UserBlockingPriority,$u=fr.unstable_NormalPriority,kT=fr.unstable_LowPriority,m1=fr.unstable_IdlePriority,Gh=null,as=null;function ST(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Gh,e,void 0,(e.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:_T,CT=Math.log,ET=Math.LN2;function _T(e){return e>>>=0,e===0?32:31-(CT(e)/ET|0)|0}var Rc=64,Mc=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=il(l):(i&=o,i!==0&&(r=il(i)))}else o=n&~a,o!==0?r=il(o):i!==0&&(r=il(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Hr(t),a=1<<n,r|=e[n],t&=~a;return r}function DT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Hr(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=DT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function c0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function p1(){var e=Rc;return Rc<<=1,!(Rc&4194240)&&(Rc=64),e}function Xd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hr(t),e[t]=n}function AT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Hr(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Rm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Hr(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var dt=0;function x1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var g1,Mm,y1,v1,w1,u0=!1,Lc=[],ca=null,ua=null,ha=null,Al=new Map,Ol=new Map,ea=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sx(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(t.pointerId)}}function zo(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=dc(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function RT(e,t,n,r,a){switch(t){case"focusin":return ca=zo(ca,e,t,n,r,a),!0;case"dragenter":return ua=zo(ua,e,t,n,r,a),!0;case"mouseover":return ha=zo(ha,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Al.set(i,zo(Al.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ol.set(i,zo(Ol.get(i)||null,e,t,n,r,a)),!0}return!1}function N1(e){var t=Ka(e.target);if(t!==null){var n=gi(t);if(n!==null){if(t=n.tag,t===13){if(t=c1(n),t!==null){e.blockedOn=t,w1(e.priority,function(){y1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=h0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);a0=r,n.target.dispatchEvent(r),a0=null}else return t=dc(n),t!==null&&Mm(t),e.blockedOn=n,!1;t.shift()}return!0}function Cx(e,t,n){mu(e)&&n.delete(t)}function MT(){u0=!1,ca!==null&&mu(ca)&&(ca=null),ua!==null&&mu(ua)&&(ua=null),ha!==null&&mu(ha)&&(ha=null),Al.forEach(Cx),Ol.forEach(Cx)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,u0||(u0=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,MT)))}function Rl(e){function t(a){return qo(a,e)}if(0<Lc.length){qo(Lc[0],e);for(var n=1;n<Lc.length;n++){var r=Lc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ca!==null&&qo(ca,e),ua!==null&&qo(ua,e),ha!==null&&qo(ha,e),Al.forEach(t),Ol.forEach(t),n=0;n<ea.length;n++)r=ea[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)N1(n),n.blockedOn===null&&ea.shift()}var Ji=$s.ReactCurrentBatchConfig,Uu=!0;function LT(e,t,n,r){var a=dt,i=Ji.transition;Ji.transition=null;try{dt=1,Lm(e,t,n,r)}finally{dt=a,Ji.transition=i}}function FT(e,t,n,r){var a=dt,i=Ji.transition;Ji.transition=null;try{dt=4,Lm(e,t,n,r)}finally{dt=a,Ji.transition=i}}function Lm(e,t,n,r){if(Uu){var a=h0(e,t,n,r);if(a===null)lf(e,t,r,Vu,n),Sx(e,r);else if(RT(a,e,t,n,r))r.stopPropagation();else if(Sx(e,r),t&4&&-1<OT.indexOf(e)){for(;a!==null;){var i=dc(a);if(i!==null&&g1(i),i=h0(e,t,n,r),i===null&&lf(e,t,r,Vu,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else lf(e,t,r,null,n)}}var Vu=null;function h0(e,t,n,r){if(Vu=null,e=Am(r),e=Ka(e),e!==null)if(t=gi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=c1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vu=e,null}function b1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TT()){case Om:return 1;case f1:return 4;case $u:case kT:return 16;case m1:return 536870912;default:return 16}default:return 16}}var ra=null,Fm=null,pu=null;function j1(){if(pu)return pu;var e,t=Fm,n=t.length,r,a="value"in ra?ra.value:ra.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return pu=a.slice(e,1<r?1-r:void 0)}function xu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fc(){return!0}function Ex(){return!1}function gr(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fc:Ex,this.isPropagationStopped=Ex,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),t}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Im=gr(Po),hc=Dt({},Po,{view:0,detail:0}),IT=gr(hc),Jd,Zd,Go,Qh=Dt({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Go&&(Go&&e.type==="mousemove"?(Jd=e.screenX-Go.screenX,Zd=e.screenY-Go.screenY):Zd=Jd=0,Go=e),Jd)},movementY:function(e){return"movementY"in e?e.movementY:Zd}}),_x=gr(Qh),BT=Dt({},Qh,{dataTransfer:0}),$T=gr(BT),HT=Dt({},hc,{relatedTarget:0}),ef=gr(HT),UT=Dt({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),VT=gr(UT),KT=Dt({},Po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WT=gr(KT),YT=Dt({},Po,{data:0}),Dx=gr(YT),zT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GT[e])?!!t[e]:!1}function Bm(){return QT}var XT=Dt({},hc,{key:function(e){if(e.key){var t=zT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bm,charCode:function(e){return e.type==="keypress"?xu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JT=gr(XT),ZT=Dt({},Qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Px=gr(ZT),ek=Dt({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bm}),tk=gr(ek),nk=Dt({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),rk=gr(nk),sk=Dt({},Qh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ak=gr(sk),ik=[9,13,27,32],$m=Ps&&"CompositionEvent"in window,fl=null;Ps&&"documentMode"in document&&(fl=document.documentMode);var ok=Ps&&"TextEvent"in window&&!fl,T1=Ps&&(!$m||fl&&8<fl&&11>=fl),Ax=" ",Ox=!1;function k1(e,t){switch(e){case"keyup":return ik.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function lk(e,t){switch(e){case"compositionend":return S1(t);case"keypress":return t.which!==32?null:(Ox=!0,Ax);case"textInput":return e=t.data,e===Ax&&Ox?null:e;default:return null}}function ck(e,t){if(Ii)return e==="compositionend"||!$m&&k1(e,t)?(e=j1(),pu=Fm=ra=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return T1&&t.locale!=="ko"?null:t.data;default:return null}}var uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uk[e.type]:t==="textarea"}function C1(e,t,n,r){s1(r),t=Ku(t,"onChange"),0<t.length&&(n=new Im("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ml=null,Ml=null;function hk(e){I1(e,0)}function Xh(e){var t=Hi(e);if(Xv(t))return e}function dk(e,t){if(e==="change")return t}var E1=!1;if(Ps){var tf;if(Ps){var nf="oninput"in document;if(!nf){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),nf=typeof Mx.oninput=="function"}tf=nf}else tf=!1;E1=tf&&(!document.documentMode||9<document.documentMode)}function Lx(){ml&&(ml.detachEvent("onpropertychange",_1),Ml=ml=null)}function _1(e){if(e.propertyName==="value"&&Xh(Ml)){var t=[];C1(t,Ml,e,Am(e)),l1(hk,t)}}function fk(e,t,n){e==="focusin"?(Lx(),ml=t,Ml=n,ml.attachEvent("onpropertychange",_1)):e==="focusout"&&Lx()}function mk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xh(Ml)}function pk(e,t){if(e==="click")return Xh(t)}function xk(e,t){if(e==="input"||e==="change")return Xh(t)}function gk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kr=typeof Object.is=="function"?Object.is:gk;function Ll(e,t){if(Kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!zf.call(t,a)||!Kr(e[a],t[a]))return!1}return!0}function Fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ix(e,t){var n=Fx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fx(n)}}function D1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P1(){for(var e=window,t=Fu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fu(e.document)}return t}function Hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yk(e){var t=P1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&D1(n.ownerDocument.documentElement,n)){if(r!==null&&Hm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Ix(n,i);var o=Ix(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vk=Ps&&"documentMode"in document&&11>=document.documentMode,Bi=null,d0=null,pl=null,f0=!1;function Bx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;f0||Bi==null||Bi!==Fu(r)||(r=Bi,"selectionStart"in r&&Hm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pl&&Ll(pl,r)||(pl=r,r=Ku(d0,"onSelect"),0<r.length&&(t=new Im("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bi)))}function Ic(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $i={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},rf={},A1={};Ps&&(A1=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Jh(e){if(rf[e])return rf[e];if(!$i[e])return e;var t=$i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in A1)return rf[e]=t[n];return e}var O1=Jh("animationend"),R1=Jh("animationiteration"),M1=Jh("animationstart"),L1=Jh("transitionend"),F1=new Map,$x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){F1.set(e,t),xi(t,[e])}for(var sf=0;sf<$x.length;sf++){var af=$x[sf],wk=af.toLowerCase(),Nk=af[0].toUpperCase()+af.slice(1);Aa(wk,"on"+Nk)}Aa(O1,"onAnimationEnd");Aa(R1,"onAnimationIteration");Aa(M1,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(L1,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Hx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wT(r,t,void 0,e),e.currentTarget=null}function I1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Hx(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Hx(a,l,u),i=c}}}if(Bu)throw e=l0,Bu=!1,l0=null,e}function vt(e,t){var n=t[y0];n===void 0&&(n=t[y0]=new Set);var r=e+"__bubble";n.has(r)||(B1(t,e,2,!1),n.add(r))}function of(e,t,n){var r=0;t&&(r|=4),B1(n,e,r,t)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Fl(e){if(!e[Bc]){e[Bc]=!0,Yv.forEach(function(n){n!=="selectionchange"&&(bk.has(n)||of(n,!1,e),of(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bc]||(t[Bc]=!0,of("selectionchange",!1,t))}}function B1(e,t,n,r){switch(b1(t)){case 1:var a=LT;break;case 4:a=FT;break;default:a=Lm}n=a.bind(null,t,n,e),a=void 0,!o0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function lf(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ka(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}l1(function(){var u=i,h=Am(n),d=[];e:{var f=F1.get(e);if(f!==void 0){var m=Im,x=e;switch(e){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":m=JT;break;case"focusin":x="focus",m=ef;break;case"focusout":x="blur",m=ef;break;case"beforeblur":case"afterblur":m=ef;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tk;break;case O1:case R1:case M1:m=VT;break;case L1:m=rk;break;case"scroll":m=IT;break;case"wheel":m=ak;break;case"copy":case"cut":case"paste":m=WT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Px}var p=(t&4)!==0,w=!p&&e==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var g=u,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=Pl(g,v),b!=null&&p.push(Il(g,b,y)))),w)break;g=g.return}0<p.length&&(f=new m(f,x,null,n,h),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==a0&&(x=n.relatedTarget||n.fromElement)&&(Ka(x)||x[As]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?Ka(x):null,x!==null&&(w=gi(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(p=_x,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=Px,b="onPointerLeave",v="onPointerEnter",g="pointer"),w=m==null?f:Hi(m),y=x==null?f:Hi(x),f=new p(b,g+"leave",m,n,h),f.target=w,f.relatedTarget=y,b=null,Ka(h)===u&&(p=new p(v,g+"enter",x,n,h),p.target=y,p.relatedTarget=w,b=p),w=b,m&&x)t:{for(p=m,v=x,g=0,y=p;y;y=Si(y))g++;for(y=0,b=v;b;b=Si(b))y++;for(;0<g-y;)p=Si(p),g--;for(;0<y-g;)v=Si(v),y--;for(;g--;){if(p===v||v!==null&&p===v.alternate)break t;p=Si(p),v=Si(v)}p=null}else p=null;m!==null&&Ux(d,f,m,p,!1),x!==null&&w!==null&&Ux(d,w,x,p,!0)}}e:{if(f=u?Hi(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=dk;else if(Rx(f))if(E1)j=xk;else{j=mk;var C=fk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=pk);if(j&&(j=j(e,u))){C1(d,j,n,h);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&e0(f,"number",f.value)}switch(C=u?Hi(u):window,e){case"focusin":(Rx(C)||C.contentEditable==="true")&&(Bi=C,d0=u,pl=null);break;case"focusout":pl=d0=Bi=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,Bx(d,n,h);break;case"selectionchange":if(vk)break;case"keydown":case"keyup":Bx(d,n,h)}var T;if($m)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ii?k1(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(T1&&n.locale!=="ko"&&(Ii||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ii&&(T=j1()):(ra=h,Fm="value"in ra?ra.value:ra.textContent,Ii=!0)),C=Ku(u,k),0<C.length&&(k=new Dx(k,e,null,n,h),d.push({event:k,listeners:C}),T?k.data=T:(T=S1(n),T!==null&&(k.data=T)))),(T=ok?lk(e,n):ck(e,n))&&(u=Ku(u,"onBeforeInput"),0<u.length&&(h=new Dx("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=T))}I1(d,t)})}function Il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ku(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Pl(e,n),i!=null&&r.unshift(Il(e,i,a)),i=Pl(e,t),i!=null&&r.push(Il(e,i,a))),e=e.return}return r}function Si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ux(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Pl(n,i),c!=null&&o.unshift(Il(n,c,l))):a||(c=Pl(n,i),c!=null&&o.push(Il(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jk=/\r\n?/g,Tk=/\u0000|\uFFFD/g;function Vx(e){return(typeof e=="string"?e:""+e).replace(jk,`
`).replace(Tk,"")}function $c(e,t,n){if(t=Vx(t),Vx(e)!==t&&n)throw Error(be(425))}function Wu(){}var m0=null,p0=null;function x0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g0=typeof setTimeout=="function"?setTimeout:void 0,kk=typeof clearTimeout=="function"?clearTimeout:void 0,Kx=typeof Promise=="function"?Promise:void 0,Sk=typeof queueMicrotask=="function"?queueMicrotask:typeof Kx<"u"?function(e){return Kx.resolve(null).then(e).catch(Ck)}:g0;function Ck(e){setTimeout(function(){throw e})}function cf(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Rl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Rl(t)}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),es="__reactFiber$"+Ao,Bl="__reactProps$"+Ao,As="__reactContainer$"+Ao,y0="__reactEvents$"+Ao,Ek="__reactListeners$"+Ao,_k="__reactHandles$"+Ao;function Ka(e){var t=e[es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[As]||n[es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wx(e);e!==null;){if(n=e[es])return n;e=Wx(e)}return t}e=n,n=e.parentNode}return null}function dc(e){return e=e[es]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(be(33))}function Zh(e){return e[Bl]||null}var v0=[],Ui=-1;function Oa(e){return{current:e}}function wt(e){0>Ui||(e.current=v0[Ui],v0[Ui]=null,Ui--)}function yt(e,t){Ui++,v0[Ui]=e.current,e.current=t}var Ta={},Dn=Oa(Ta),qn=Oa(!1),ai=Ta;function lo(e,t){var n=e.type.contextTypes;if(!n)return Ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Gn(e){return e=e.childContextTypes,e!=null}function Yu(){wt(qn),wt(Dn)}function Yx(e,t,n){if(Dn.current!==Ta)throw Error(be(168));yt(Dn,t),yt(qn,n)}function $1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(be(108,fT(e)||"Unknown",a));return Dt({},n,r)}function zu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,ai=Dn.current,yt(Dn,e),yt(qn,qn.current),!0}function zx(e,t,n){var r=e.stateNode;if(!r)throw Error(be(169));n?(e=$1(e,t,ai),r.__reactInternalMemoizedMergedChildContext=e,wt(qn),wt(Dn),yt(Dn,e)):wt(qn),yt(qn,n)}var Ns=null,ed=!1,uf=!1;function H1(e){Ns===null?Ns=[e]:Ns.push(e)}function Dk(e){ed=!0,H1(e)}function Ra(){if(!uf&&Ns!==null){uf=!0;var e=0,t=dt;try{var n=Ns;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ns=null,ed=!1}catch(a){throw Ns!==null&&(Ns=Ns.slice(e+1)),d1(Om,Ra),a}finally{dt=t,uf=!1}}return null}var Vi=[],Ki=0,qu=null,Gu=0,Nr=[],br=0,ii=null,js=1,Ts="";function $a(e,t){Vi[Ki++]=Gu,Vi[Ki++]=qu,qu=e,Gu=t}function U1(e,t,n){Nr[br++]=js,Nr[br++]=Ts,Nr[br++]=ii,ii=e;var r=js;e=Ts;var a=32-Hr(r)-1;r&=~(1<<a),n+=1;var i=32-Hr(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,js=1<<32-Hr(t)+a|n<<a|r,Ts=i+e}else js=1<<i|n<<a|r,Ts=e}function Um(e){e.return!==null&&($a(e,1),U1(e,1,0))}function Vm(e){for(;e===qu;)qu=Vi[--Ki],Vi[Ki]=null,Gu=Vi[--Ki],Vi[Ki]=null;for(;e===ii;)ii=Nr[--br],Nr[br]=null,Ts=Nr[--br],Nr[br]=null,js=Nr[--br],Nr[br]=null}var hr=null,ur=null,jt=!1,Ir=null;function V1(e,t){var n=jr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hr=e,ur=da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hr=e,ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ii!==null?{id:js,overflow:Ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hr=e,ur=null,!0):!1;default:return!1}}function w0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function N0(e){if(jt){var t=ur;if(t){var n=t;if(!qx(e,t)){if(w0(e))throw Error(be(418));t=da(n.nextSibling);var r=hr;t&&qx(e,t)?V1(r,n):(e.flags=e.flags&-4097|2,jt=!1,hr=e)}}else{if(w0(e))throw Error(be(418));e.flags=e.flags&-4097|2,jt=!1,hr=e}}}function Gx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hr=e}function Hc(e){if(e!==hr)return!1;if(!jt)return Gx(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x0(e.type,e.memoizedProps)),t&&(t=ur)){if(w0(e))throw K1(),Error(be(418));for(;t;)V1(e,t),t=da(t.nextSibling)}if(Gx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ur=da(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ur=null}}else ur=hr?da(e.stateNode.nextSibling):null;return!0}function K1(){for(var e=ur;e;)e=da(e.nextSibling)}function co(){ur=hr=null,jt=!1}function Km(e){Ir===null?Ir=[e]:Ir.push(e)}var Pk=$s.ReactCurrentBatchConfig;function Qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,e))}return e}function Uc(e,t){throw e=Object.prototype.toString.call(t),Error(be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qx(e){var t=e._init;return t(e._payload)}function W1(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=xa(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,y,b){return g===null||g.tag!==6?(g=gf(y,v.mode,b),g.return=v,g):(g=a(g,y),g.return=v,g)}function c(v,g,y,b){var j=y.type;return j===Fi?h(v,g,y.props.children,b,y.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&Qx(j)===g.type)?(b=a(g,y.props),b.ref=Qo(v,g,y),b.return=v,b):(b=ju(y.type,y.key,y.props,null,v.mode,b),b.ref=Qo(v,g,y),b.return=v,b)}function u(v,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=yf(y,v.mode,b),g.return=v,g):(g=a(g,y.children||[]),g.return=v,g)}function h(v,g,y,b,j){return g===null||g.tag!==7?(g=Ja(y,v.mode,b,j),g.return=v,g):(g=a(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=gf(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pc:return y=ju(g.type,g.key,g.props,null,v.mode,y),y.ref=Qo(v,null,g),y.return=v,y;case Li:return g=yf(g,v.mode,y),g.return=v,g;case Gs:var b=g._init;return d(v,b(g._payload),y)}if(al(g)||Wo(g))return g=Ja(g,v.mode,y,null),g.return=v,g;Uc(v,g)}return null}function f(v,g,y,b){var j=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(v,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pc:return y.key===j?c(v,g,y,b):null;case Li:return y.key===j?u(v,g,y,b):null;case Gs:return j=y._init,f(v,g,j(y._payload),b)}if(al(y)||Wo(y))return j!==null?null:h(v,g,y,b,null);Uc(v,y)}return null}function m(v,g,y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(y)||null,l(g,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pc:return v=v.get(b.key===null?y:b.key)||null,c(g,v,b,j);case Li:return v=v.get(b.key===null?y:b.key)||null,u(g,v,b,j);case Gs:var C=b._init;return m(v,g,y,C(b._payload),j)}if(al(b)||Wo(b))return v=v.get(y)||null,h(g,v,b,j,null);Uc(g,b)}return null}function x(v,g,y,b){for(var j=null,C=null,T=g,k=g=0,D=null;T!==null&&k<y.length;k++){T.index>k?(D=T,T=null):D=T.sibling;var H=f(v,T,y[k],b);if(H===null){T===null&&(T=D);break}e&&T&&H.alternate===null&&t(v,T),g=i(H,g,k),C===null?j=H:C.sibling=H,C=H,T=D}if(k===y.length)return n(v,T),jt&&$a(v,k),j;if(T===null){for(;k<y.length;k++)T=d(v,y[k],b),T!==null&&(g=i(T,g,k),C===null?j=T:C.sibling=T,C=T);return jt&&$a(v,k),j}for(T=r(v,T);k<y.length;k++)D=m(T,v,k,y[k],b),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?k:D.key),g=i(D,g,k),C===null?j=D:C.sibling=D,C=D);return e&&T.forEach(function(O){return t(v,O)}),jt&&$a(v,k),j}function p(v,g,y,b){var j=Wo(y);if(typeof j!="function")throw Error(be(150));if(y=j.call(y),y==null)throw Error(be(151));for(var C=j=null,T=g,k=g=0,D=null,H=y.next();T!==null&&!H.done;k++,H=y.next()){T.index>k?(D=T,T=null):D=T.sibling;var O=f(v,T,H.value,b);if(O===null){T===null&&(T=D);break}e&&T&&O.alternate===null&&t(v,T),g=i(O,g,k),C===null?j=O:C.sibling=O,C=O,T=D}if(H.done)return n(v,T),jt&&$a(v,k),j;if(T===null){for(;!H.done;k++,H=y.next())H=d(v,H.value,b),H!==null&&(g=i(H,g,k),C===null?j=H:C.sibling=H,C=H);return jt&&$a(v,k),j}for(T=r(v,T);!H.done;k++,H=y.next())H=m(T,v,k,H.value,b),H!==null&&(e&&H.alternate!==null&&T.delete(H.key===null?k:H.key),g=i(H,g,k),C===null?j=H:C.sibling=H,C=H);return e&&T.forEach(function(B){return t(v,B)}),jt&&$a(v,k),j}function w(v,g,y,b){if(typeof y=="object"&&y!==null&&y.type===Fi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Pc:e:{for(var j=y.key,C=g;C!==null;){if(C.key===j){if(j=y.type,j===Fi){if(C.tag===7){n(v,C.sibling),g=a(C,y.props.children),g.return=v,v=g;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&Qx(j)===C.type){n(v,C.sibling),g=a(C,y.props),g.ref=Qo(v,C,y),g.return=v,v=g;break e}n(v,C);break}else t(v,C);C=C.sibling}y.type===Fi?(g=Ja(y.props.children,v.mode,b,y.key),g.return=v,v=g):(b=ju(y.type,y.key,y.props,null,v.mode,b),b.ref=Qo(v,g,y),b.return=v,v=b)}return o(v);case Li:e:{for(C=y.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=a(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=yf(y,v.mode,b),g.return=v,v=g}return o(v);case Gs:return C=y._init,w(v,g,C(y._payload),b)}if(al(y))return x(v,g,y,b);if(Wo(y))return p(v,g,y,b);Uc(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=a(g,y),g.return=v,v=g):(n(v,g),g=gf(y,v.mode,b),g.return=v,v=g),o(v)):n(v,g)}return w}var uo=W1(!0),Y1=W1(!1),Qu=Oa(null),Xu=null,Wi=null,Wm=null;function Ym(){Wm=Wi=Xu=null}function zm(e){var t=Qu.current;wt(Qu),e._currentValue=t}function b0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zi(e,t){Xu=e,Wm=Wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yn=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(Wm!==e)if(e={context:e,memoizedValue:t,next:null},Wi===null){if(Xu===null)throw Error(be(308));Wi=e,Xu.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Wa=null;function qm(e){Wa===null?Wa=[e]:Wa.push(e)}function z1(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,qm(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qs=!1;function Gm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return a=r.interleaved,a===null?(t.next=t,qm(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function gu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rm(e,n)}}function Xx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ju(e,t,n,r){var a=e.updateQueue;Qs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;o=0,h=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(f=t,m=n,p.tag){case 1:if(x=p.payload,typeof x=="function"){d=x.call(m,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,d,f):x,f==null)break e;d=Dt({},d,f);break e;case 2:Qs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,c=d):h=h.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(h===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);li|=o,e.lanes=o,e.memoizedState=d}}function Jx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(be(191,a));a.call(r)}}}var fc={},is=Oa(fc),$l=Oa(fc),Hl=Oa(fc);function Ya(e){if(e===fc)throw Error(be(174));return e}function Qm(e,t){switch(yt(Hl,t),yt($l,e),yt(is,fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:n0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=n0(t,e)}wt(is),yt(is,t)}function ho(){wt(is),wt($l),wt(Hl)}function G1(e){Ya(Hl.current);var t=Ya(is.current),n=n0(t,e.type);t!==n&&(yt($l,e),yt(is,n))}function Xm(e){$l.current===e&&(wt(is),wt($l))}var St=Oa(0);function Zu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hf=[];function Jm(){for(var e=0;e<hf.length;e++)hf[e]._workInProgressVersionPrimary=null;hf.length=0}var yu=$s.ReactCurrentDispatcher,df=$s.ReactCurrentBatchConfig,oi=0,Et=null,Gt=null,Xt=null,eh=!1,xl=!1,Ul=0,Ak=0;function Tn(){throw Error(be(321))}function Zm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kr(e[n],t[n]))return!1;return!0}function ep(e,t,n,r,a,i){if(oi=i,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?Lk:Fk,e=n(r,a),xl){i=0;do{if(xl=!1,Ul=0,25<=i)throw Error(be(301));i+=1,Xt=Gt=null,t.updateQueue=null,yu.current=Ik,e=n(r,a)}while(xl)}if(yu.current=th,t=Gt!==null&&Gt.next!==null,oi=0,Xt=Gt=Et=null,eh=!1,t)throw Error(be(300));return e}function tp(){var e=Ul!==0;return Ul=0,e}function Qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Et.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function Er(){if(Gt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=Xt===null?Et.memoizedState:Xt.next;if(t!==null)Xt=t,Gt=e;else{if(e===null)throw Error(be(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Xt===null?Et.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function Vl(e,t){return typeof t=="function"?t(e):t}function ff(e){var t=Er(),n=t.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=e;var r=Gt,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((oi&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=r):c=c.next=d,Et.lanes|=h,li|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Kr(r,t.memoizedState)||(Yn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Et.lanes|=i,li|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mf(e){var t=Er(),n=t.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Kr(i,t.memoizedState)||(Yn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Q1(){}function X1(e,t){var n=Et,r=Er(),a=t(),i=!Kr(r.memoizedState,a);if(i&&(r.memoizedState=a,Yn=!0),r=r.queue,np(ew.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Kl(9,Z1.bind(null,n,r,a,t),void 0,null),tn===null)throw Error(be(349));oi&30||J1(n,t,a)}return a}function J1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Z1(e,t,n,r){t.value=n,t.getSnapshot=r,tw(t)&&nw(e)}function ew(e,t,n){return n(function(){tw(t)&&nw(e)})}function tw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kr(e,n)}catch{return!0}}function nw(e){var t=Os(e,1);t!==null&&Ur(t,e,1,-1)}function Zx(e){var t=Qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Mk.bind(null,Et,e),[t.memoizedState,e]}function Kl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rw(){return Er().memoizedState}function vu(e,t,n,r){var a=Qr();Et.flags|=e,a.memoizedState=Kl(1|t,n,void 0,r===void 0?null:r)}function td(e,t,n,r){var a=Er();r=r===void 0?null:r;var i=void 0;if(Gt!==null){var o=Gt.memoizedState;if(i=o.destroy,r!==null&&Zm(r,o.deps)){a.memoizedState=Kl(t,n,i,r);return}}Et.flags|=e,a.memoizedState=Kl(1|t,n,i,r)}function eg(e,t){return vu(8390656,8,e,t)}function np(e,t){return td(2048,8,e,t)}function sw(e,t){return td(4,2,e,t)}function aw(e,t){return td(4,4,e,t)}function iw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ow(e,t,n){return n=n!=null?n.concat([e]):null,td(4,4,iw.bind(null,t,e),n)}function rp(){}function lw(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cw(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uw(e,t,n){return oi&21?(Kr(n,t)||(n=p1(),Et.lanes|=n,li|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yn=!0),e.memoizedState=n)}function Ok(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=df.transition;df.transition={};try{e(!1),t()}finally{dt=n,df.transition=r}}function hw(){return Er().memoizedState}function Rk(e,t,n){var r=pa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dw(e))fw(t,n);else if(n=z1(e,t,n,r),n!==null){var a=Fn();Ur(n,e,r,a),mw(n,t,r)}}function Mk(e,t,n){var r=pa(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dw(e))fw(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Kr(l,o)){var c=t.interleaved;c===null?(a.next=a,qm(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=z1(e,t,a,r),n!==null&&(a=Fn(),Ur(n,e,r,a),mw(n,t,r))}}function dw(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function fw(e,t){xl=eh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rm(e,n)}}var th={readContext:Cr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Lk={readContext:Cr,useCallback:function(e,t){return Qr().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:eg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vu(4194308,4,iw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var n=Qr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rk.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var t=Qr();return e={current:e},t.memoizedState=e},useState:Zx,useDebugValue:rp,useDeferredValue:function(e){return Qr().memoizedState=e},useTransition:function(){var e=Zx(!1),t=e[0];return e=Ok.bind(null,e[1]),Qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Et,a=Qr();if(jt){if(n===void 0)throw Error(be(407));n=n()}else{if(n=t(),tn===null)throw Error(be(349));oi&30||J1(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,eg(ew.bind(null,r,i,e),[e]),r.flags|=2048,Kl(9,Z1.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qr(),t=tn.identifierPrefix;if(jt){var n=Ts,r=js;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ak++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fk={readContext:Cr,useCallback:lw,useContext:Cr,useEffect:np,useImperativeHandle:ow,useInsertionEffect:sw,useLayoutEffect:aw,useMemo:cw,useReducer:ff,useRef:rw,useState:function(){return ff(Vl)},useDebugValue:rp,useDeferredValue:function(e){var t=Er();return uw(t,Gt.memoizedState,e)},useTransition:function(){var e=ff(Vl)[0],t=Er().memoizedState;return[e,t]},useMutableSource:Q1,useSyncExternalStore:X1,useId:hw,unstable_isNewReconciler:!1},Ik={readContext:Cr,useCallback:lw,useContext:Cr,useEffect:np,useImperativeHandle:ow,useInsertionEffect:sw,useLayoutEffect:aw,useMemo:cw,useReducer:mf,useRef:rw,useState:function(){return mf(Vl)},useDebugValue:rp,useDeferredValue:function(e){var t=Er();return Gt===null?t.memoizedState=e:uw(t,Gt.memoizedState,e)},useTransition:function(){var e=mf(Vl)[0],t=Er().memoizedState;return[e,t]},useMutableSource:Q1,useSyncExternalStore:X1,useId:hw,unstable_isNewReconciler:!1};function Lr(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function j0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nd={isMounted:function(e){return(e=e._reactInternals)?gi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fn(),a=pa(e),i=ks(r,a);i.payload=t,n!=null&&(i.callback=n),t=fa(e,i,a),t!==null&&(Ur(t,e,a,r),gu(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fn(),a=pa(e),i=ks(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=fa(e,i,a),t!==null&&(Ur(t,e,a,r),gu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fn(),r=pa(e),a=ks(n,r);a.tag=2,t!=null&&(a.callback=t),t=fa(e,a,r),t!==null&&(Ur(t,e,r,n),gu(t,e,r))}};function tg(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ll(n,r)||!Ll(a,i):!0}function pw(e,t,n){var r=!1,a=Ta,i=t.contextType;return typeof i=="object"&&i!==null?i=Cr(i):(a=Gn(t)?ai:Dn.current,r=t.contextTypes,i=(r=r!=null)?lo(e,a):Ta),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ng(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nd.enqueueReplaceState(t,t.state,null)}function T0(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Gm(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Cr(i):(i=Gn(t)?ai:Dn.current,a.context=lo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(j0(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nd.enqueueReplaceState(a,a.state,null),Ju(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do n+=dT(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function pf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function k0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bk=typeof WeakMap=="function"?WeakMap:Map;function xw(e,t,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rh||(rh=!0,M0=r),k0(e,t)},n}function gw(e,t,n){n=ks(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){k0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){k0(e,t),typeof r!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bk;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Zk.bind(null,e,t,n),t.then(e,e))}function sg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ag(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ks(-1,1),t.tag=2,fa(n,t,1))),n.lanes|=1),e)}var $k=$s.ReactCurrentOwner,Yn=!1;function An(e,t,n,r){t.child=e===null?Y1(t,null,n,r):uo(t,e.child,n,r)}function ig(e,t,n,r,a){n=n.render;var i=t.ref;return Zi(t,a),r=ep(e,t,n,r,i,a),n=tp(),e!==null&&!Yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rs(e,t,a)):(jt&&n&&Um(t),t.flags|=1,An(e,t,r,a),t.child)}function og(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!hp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,yw(e,t,i,r,a)):(e=ju(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(o,r)&&e.ref===t.ref)return Rs(e,t,a)}return t.flags|=1,e=xa(i,r),e.ref=t.ref,e.return=t,t.child=e}function yw(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Ll(i,r)&&e.ref===t.ref)if(Yn=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Yn=!0);else return t.lanes=e.lanes,Rs(e,t,a)}return S0(e,t,n,r,a)}function vw(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(zi,ar),ar|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yt(zi,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,yt(zi,ar),ar|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,yt(zi,ar),ar|=r;return An(e,t,a,n),t.child}function ww(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function S0(e,t,n,r,a){var i=Gn(n)?ai:Dn.current;return i=lo(t,i),Zi(t,a),n=ep(e,t,n,r,i,a),r=tp(),e!==null&&!Yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rs(e,t,a)):(jt&&r&&Um(t),t.flags|=1,An(e,t,n,a),t.child)}function lg(e,t,n,r,a){if(Gn(n)){var i=!0;zu(t)}else i=!1;if(Zi(t,a),t.stateNode===null)wu(e,t),pw(t,n,r),T0(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=Gn(n)?ai:Dn.current,u=lo(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ng(t,o,r,u),Qs=!1;var f=t.memoizedState;o.state=f,Ju(t,r,o,a),c=t.memoizedState,l!==r||f!==c||qn.current||Qs?(typeof h=="function"&&(j0(t,n,h,r),c=t.memoizedState),(l=Qs||tg(t,n,l,r,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,q1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Lr(t.type,l),o.props=u,d=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Gn(n)?ai:Dn.current,c=lo(t,c));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&ng(t,o,r,c),Qs=!1,f=t.memoizedState,o.state=f,Ju(t,r,o,a);var x=t.memoizedState;l!==d||f!==x||qn.current||Qs?(typeof m=="function"&&(j0(t,n,m,r),x=t.memoizedState),(u=Qs||tg(t,n,u,r,f,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return C0(e,t,n,r,i,a)}function C0(e,t,n,r,a,i){ww(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&zx(t,n,!1),Rs(e,t,i);r=t.stateNode,$k.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=uo(t,e.child,null,i),t.child=uo(t,null,l,i)):An(e,t,l,i),t.memoizedState=r.state,a&&zx(t,n,!0),t.child}function Nw(e){var t=e.stateNode;t.pendingContext?Yx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yx(e,t.context,!1),Qm(e,t.containerInfo)}function cg(e,t,n,r,a){return co(),Km(a),t.flags|=256,An(e,t,n,r),t.child}var E0={dehydrated:null,treeContext:null,retryLane:0};function _0(e){return{baseLanes:e,cachePool:null,transitions:null}}function bw(e,t,n){var r=t.pendingProps,a=St.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),yt(St,a&1),e===null)return N0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ad(o,r,0,null),e=Ja(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_0(n),t.memoizedState=E0,e):sp(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Hk(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xa(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=xa(l,i):(i=Ja(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?_0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=E0,r}return i=e.child,e=i.sibling,r=xa(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sp(e,t){return t=ad({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vc(e,t,n,r){return r!==null&&Km(r),uo(t,e.child,null,n),e=sp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hk(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=pf(Error(be(422))),Vc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ad({mode:"visible",children:r.children},a,0,null),i=Ja(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&uo(t,e.child,null,o),t.child.memoizedState=_0(o),t.memoizedState=E0,i);if(!(t.mode&1))return Vc(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(be(419)),r=pf(i,r,void 0),Vc(e,t,o,r)}if(l=(o&e.childLanes)!==0,Yn||l){if(r=tn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),Ur(r,e,a,-1))}return up(),r=pf(Error(be(421))),Vc(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=eS.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ur=da(a.nextSibling),hr=t,jt=!0,Ir=null,e!==null&&(Nr[br++]=js,Nr[br++]=Ts,Nr[br++]=ii,js=e.id,Ts=e.overflow,ii=t),t=sp(t,r.children),t.flags|=4096,t)}function ug(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),b0(e.return,t,n)}function xf(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function jw(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(An(e,t,r.children,n),r=St.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ug(e,n,t);else if(e.tag===19)ug(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(yt(St,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Zu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),xf(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}xf(t,!0,n,null,i);break;case"together":xf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(be(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uk(e,t,n){switch(t.tag){case 3:Nw(t),co();break;case 5:G1(t);break;case 1:Gn(t.type)&&zu(t);break;case 4:Qm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;yt(Qu,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(yt(St,St.current&1),t.flags|=128,null):n&t.child.childLanes?bw(e,t,n):(yt(St,St.current&1),e=Rs(e,t,n),e!==null?e.sibling:null);yt(St,St.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jw(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),yt(St,St.current),r)break;return null;case 22:case 23:return t.lanes=0,vw(e,t,n)}return Rs(e,t,n)}var Tw,D0,kw,Sw;Tw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D0=function(){};kw=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ya(is.current);var i=null;switch(n){case"input":a=Jf(e,a),r=Jf(e,r),i=[];break;case"select":a=Dt({},a,{value:void 0}),r=Dt({},r,{value:void 0}),i=[];break;case"textarea":a=t0(e,a),r=t0(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wu)}r0(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_l.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&vt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Sw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vk(e,t,n){var r=t.pendingProps;switch(Vm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(t),null;case 1:return Gn(t.type)&&Yu(),kn(t),null;case 3:return r=t.stateNode,ho(),wt(qn),wt(Dn),Jm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ir!==null&&(I0(Ir),Ir=null))),D0(e,t),kn(t),null;case 5:Xm(t);var a=Ya(Hl.current);if(n=t.type,e!==null&&t.stateNode!=null)kw(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(be(166));return kn(t),null}if(e=Ya(is.current),Hc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[es]=t,r[Bl]=i,e=(t.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<ol.length;a++)vt(ol[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vx(r,i),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vt("invalid",r);break;case"textarea":Nx(r,i),vt("invalid",r)}r0(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$c(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$c(r.textContent,l,e),a=["children",""+l]):_l.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&vt("scroll",r)}switch(n){case"input":Ac(r),wx(r,i,!0);break;case"textarea":Ac(r),bx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wu)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[es]=t,e[Bl]=r,Tw(e,t,!1,!1),t.stateNode=e;e:{switch(o=s0(n,r),n){case"dialog":vt("cancel",e),vt("close",e),a=r;break;case"iframe":case"object":case"embed":vt("load",e),a=r;break;case"video":case"audio":for(a=0;a<ol.length;a++)vt(ol[a],e);a=r;break;case"source":vt("error",e),a=r;break;case"img":case"image":case"link":vt("error",e),vt("load",e),a=r;break;case"details":vt("toggle",e),a=r;break;case"input":vx(e,r),a=Jf(e,r),vt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Dt({},r,{value:void 0}),vt("invalid",e);break;case"textarea":Nx(e,r),a=t0(e,r),vt("invalid",e);break;default:a=r}r0(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?r1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&t1(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Dl(e,c):typeof c=="number"&&Dl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_l.hasOwnProperty(i)?c!=null&&i==="onScroll"&&vt("scroll",e):c!=null&&Em(e,i,c,o))}switch(n){case"input":Ac(e),wx(e,r,!1);break;case"textarea":Ac(e),bx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ja(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gi(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kn(t),null;case 6:if(e&&t.stateNode!=null)Sw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(be(166));if(n=Ya(Hl.current),Ya(is.current),Hc(t)){if(r=t.stateNode,n=t.memoizedProps,r[es]=t,(i=r.nodeValue!==n)&&(e=hr,e!==null))switch(e.tag){case 3:$c(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$c(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=t,t.stateNode=r}return kn(t),null;case 13:if(wt(St),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&ur!==null&&t.mode&1&&!(t.flags&128))K1(),co(),t.flags|=98560,i=!1;else if(i=Hc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(be(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[es]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kn(t),i=!1}else Ir!==null&&(I0(Ir),Ir=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Qt===0&&(Qt=3):up())),t.updateQueue!==null&&(t.flags|=4),kn(t),null);case 4:return ho(),D0(e,t),e===null&&Fl(t.stateNode.containerInfo),kn(t),null;case 10:return zm(t.type._context),kn(t),null;case 17:return Gn(t.type)&&Yu(),kn(t),null;case 19:if(wt(St),i=t.memoizedState,i===null)return kn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xo(i,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zu(e),o!==null){for(t.flags|=128,Xo(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return yt(St,St.current&1|2),t.child}e=e.sibling}i.tail!==null&&Lt()>mo&&(t.flags|=128,r=!0,Xo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Zu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!jt)return kn(t),null}else 2*Lt()-i.renderingStartTime>mo&&n!==1073741824&&(t.flags|=128,r=!0,Xo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Lt(),t.sibling=null,n=St.current,yt(St,r?n&1|2:n&1),t):(kn(t),null);case 22:case 23:return cp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ar&1073741824&&(kn(t),t.subtreeFlags&6&&(t.flags|=8192)):kn(t),null;case 24:return null;case 25:return null}throw Error(be(156,t.tag))}function Kk(e,t){switch(Vm(t),t.tag){case 1:return Gn(t.type)&&Yu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),wt(qn),wt(Dn),Jm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xm(t),null;case 13:if(wt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(be(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(St),null;case 4:return ho(),null;case 10:return zm(t.type._context),null;case 22:case 23:return cp(),null;case 24:return null;default:return null}}var Kc=!1,Cn=!1,Wk=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Yi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function P0(e,t,n){try{n()}catch(r){At(e,t,r)}}var hg=!1;function Yk(e,t){if(m0=Uu,e=P1(),Hm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==n||a!==0&&d.nodeType!==3||(l=o+a),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++h===r&&(c=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(p0={focusedElem:e,selectionRange:n},Uu=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,w=x.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Lr(t.type,p),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(b){At(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return x=hg,hg=!1,x}function gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&P0(t,n,i)}a=a.next}while(a!==r)}}function rd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function A0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cw(e){var t=e.alternate;t!==null&&(e.alternate=null,Cw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Bl],delete t[y0],delete t[Ek],delete t[_k])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ew(e){return e.tag===5||e.tag===3||e.tag===4}function dg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ew(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wu));else if(r!==4&&(e=e.child,e!==null))for(O0(e,t,n),e=e.sibling;e!==null;)O0(e,t,n),e=e.sibling}function R0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(R0(e,t,n),e=e.sibling;e!==null;)R0(e,t,n),e=e.sibling}var cn=null,Fr=!1;function Ws(e,t,n){for(n=n.child;n!==null;)_w(e,t,n),n=n.sibling}function _w(e,t,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:Cn||Yi(n,t);case 6:var r=cn,a=Fr;cn=null,Ws(e,t,n),cn=r,Fr=a,cn!==null&&(Fr?(e=cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(Fr?(e=cn,n=n.stateNode,e.nodeType===8?cf(e.parentNode,n):e.nodeType===1&&cf(e,n),Rl(e)):cf(cn,n.stateNode));break;case 4:r=cn,a=Fr,cn=n.stateNode.containerInfo,Fr=!0,Ws(e,t,n),cn=r,Fr=a;break;case 0:case 11:case 14:case 15:if(!Cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&P0(n,t,o),a=a.next}while(a!==r)}Ws(e,t,n);break;case 1:if(!Cn&&(Yi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){At(n,t,l)}Ws(e,t,n);break;case 21:Ws(e,t,n);break;case 22:n.mode&1?(Cn=(r=Cn)||n.memoizedState!==null,Ws(e,t,n),Cn=r):Ws(e,t,n);break;default:Ws(e,t,n)}}function fg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wk),t.forEach(function(r){var a=tS.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Or(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:cn=l.stateNode,Fr=!1;break e;case 3:cn=l.stateNode.containerInfo,Fr=!0;break e;case 4:cn=l.stateNode.containerInfo,Fr=!0;break e}l=l.return}if(cn===null)throw Error(be(160));_w(i,o,a),cn=null,Fr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){At(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dw(t,e),t=t.sibling}function Dw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Or(t,e),zr(e),r&4){try{gl(3,e,e.return),rd(3,e)}catch(p){At(e,e.return,p)}try{gl(5,e,e.return)}catch(p){At(e,e.return,p)}}break;case 1:Or(t,e),zr(e),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(Or(t,e),zr(e),r&512&&n!==null&&Yi(n,n.return),e.flags&32){var a=e.stateNode;try{Dl(a,"")}catch(p){At(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jv(a,i),s0(l,o);var u=s0(l,i);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?r1(a,d):h==="dangerouslySetInnerHTML"?t1(a,d):h==="children"?Dl(a,d):Em(a,h,d,u)}switch(l){case"input":Zf(a,i);break;case"textarea":Zv(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Gi(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gi(a,!!i.multiple,i.defaultValue,!0):Gi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Bl]=i}catch(p){At(e,e.return,p)}}break;case 6:if(Or(t,e),zr(e),r&4){if(e.stateNode===null)throw Error(be(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){At(e,e.return,p)}}break;case 3:if(Or(t,e),zr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(p){At(e,e.return,p)}break;case 4:Or(t,e),zr(e);break;case 13:Or(t,e),zr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(op=Lt())),r&4&&fg(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Cn=(u=Cn)||h,Or(t,e),Cn=u):Or(t,e),zr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Ie=e,h=e.child;h!==null;){for(d=Ie=h;Ie!==null;){switch(f=Ie,m=f.child,f.tag){case 0:case 11:case 14:case 15:gl(4,f,f.return);break;case 1:Yi(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){At(r,n,p)}}break;case 5:Yi(f,f.return);break;case 22:if(f.memoizedState!==null){pg(d);continue}}m!==null?(m.return=f,Ie=m):pg(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=n1("display",o))}catch(p){At(e,e.return,p)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){At(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Or(t,e),zr(e),r&4&&fg(e);break;case 21:break;default:Or(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ew(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Dl(a,""),r.flags&=-33);var i=dg(e);R0(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=dg(e);O0(e,l,o);break;default:throw Error(be(161))}}catch(c){At(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zk(e,t,n){Ie=e,Pw(e)}function Pw(e,t,n){for(var r=(e.mode&1)!==0;Ie!==null;){var a=Ie,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Kc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Cn;l=Kc;var u=Cn;if(Kc=o,(Cn=c)&&!u)for(Ie=a;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?xg(a):c!==null?(c.return=o,Ie=c):xg(a);for(;i!==null;)Ie=i,Pw(i),i=i.sibling;Ie=a,Kc=l,Cn=u}mg(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ie=i):mg(e)}}function mg(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Cn||rd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Cn)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Lr(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jx(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jx(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Rl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Cn||t.flags&512&&A0(t)}catch(f){At(t,t.return,f)}}if(t===e){Ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function pg(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function xg(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rd(4,t)}catch(c){At(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){At(t,a,c)}}var i=t.return;try{A0(t)}catch(c){At(t,i,c)}break;case 5:var o=t.return;try{A0(t)}catch(c){At(t,o,c)}}}catch(c){At(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var qk=Math.ceil,nh=$s.ReactCurrentDispatcher,ap=$s.ReactCurrentOwner,Tr=$s.ReactCurrentBatchConfig,et=0,tn=null,Wt=null,xn=0,ar=0,zi=Oa(0),Qt=0,Wl=null,li=0,sd=0,ip=0,yl=null,Wn=null,op=0,mo=1/0,ws=null,rh=!1,M0=null,ma=null,Wc=!1,sa=null,sh=0,vl=0,L0=null,Nu=-1,bu=0;function Fn(){return et&6?Lt():Nu!==-1?Nu:Nu=Lt()}function pa(e){return e.mode&1?et&2&&xn!==0?xn&-xn:Pk.transition!==null?(bu===0&&(bu=p1()),bu):(e=dt,e!==0||(e=window.event,e=e===void 0?16:b1(e.type)),e):1}function Ur(e,t,n,r){if(50<vl)throw vl=0,L0=null,Error(be(185));uc(e,n,r),(!(et&2)||e!==tn)&&(e===tn&&(!(et&2)&&(sd|=n),Qt===4&&ta(e,xn)),Qn(e,r),n===1&&et===0&&!(t.mode&1)&&(mo=Lt()+500,ed&&Ra()))}function Qn(e,t){var n=e.callbackNode;PT(e,t);var r=Hu(e,e===tn?xn:0);if(r===0)n!==null&&kx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kx(n),t===1)e.tag===0?Dk(gg.bind(null,e)):H1(gg.bind(null,e)),Sk(function(){!(et&6)&&Ra()}),n=null;else{switch(x1(r)){case 1:n=Om;break;case 4:n=f1;break;case 16:n=$u;break;case 536870912:n=m1;break;default:n=$u}n=Bw(n,Aw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Aw(e,t){if(Nu=-1,bu=0,et&6)throw Error(be(327));var n=e.callbackNode;if(eo()&&e.callbackNode!==n)return null;var r=Hu(e,e===tn?xn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ah(e,r);else{t=r;var a=et;et|=2;var i=Rw();(tn!==e||xn!==t)&&(ws=null,mo=Lt()+500,Xa(e,t));do try{Xk();break}catch(l){Ow(e,l)}while(!0);Ym(),nh.current=i,et=a,Wt!==null?t=0:(tn=null,xn=0,t=Qt)}if(t!==0){if(t===2&&(a=c0(e),a!==0&&(r=a,t=F0(e,a))),t===1)throw n=Wl,Xa(e,0),ta(e,r),Qn(e,Lt()),n;if(t===6)ta(e,r);else{if(a=e.current.alternate,!(r&30)&&!Gk(a)&&(t=ah(e,r),t===2&&(i=c0(e),i!==0&&(r=i,t=F0(e,i))),t===1))throw n=Wl,Xa(e,0),ta(e,r),Qn(e,Lt()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(be(345));case 2:Ha(e,Wn,ws);break;case 3:if(ta(e,r),(r&130023424)===r&&(t=op+500-Lt(),10<t)){if(Hu(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Fn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=g0(Ha.bind(null,e,Wn,ws),t);break}Ha(e,Wn,ws);break;case 4:if(ta(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Hr(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qk(r/1960))-r,10<r){e.timeoutHandle=g0(Ha.bind(null,e,Wn,ws),r);break}Ha(e,Wn,ws);break;case 5:Ha(e,Wn,ws);break;default:throw Error(be(329))}}}return Qn(e,Lt()),e.callbackNode===n?Aw.bind(null,e):null}function F0(e,t){var n=yl;return e.current.memoizedState.isDehydrated&&(Xa(e,t).flags|=256),e=ah(e,t),e!==2&&(t=Wn,Wn=n,t!==null&&I0(t)),e}function I0(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function Gk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Kr(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t){for(t&=~ip,t&=~sd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Hr(t),r=1<<n;e[n]=-1,t&=~r}}function gg(e){if(et&6)throw Error(be(327));eo();var t=Hu(e,0);if(!(t&1))return Qn(e,Lt()),null;var n=ah(e,t);if(e.tag!==0&&n===2){var r=c0(e);r!==0&&(t=r,n=F0(e,r))}if(n===1)throw n=Wl,Xa(e,0),ta(e,t),Qn(e,Lt()),n;if(n===6)throw Error(be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ha(e,Wn,ws),Qn(e,Lt()),null}function lp(e,t){var n=et;et|=1;try{return e(t)}finally{et=n,et===0&&(mo=Lt()+500,ed&&Ra())}}function ci(e){sa!==null&&sa.tag===0&&!(et&6)&&eo();var t=et;et|=1;var n=Tr.transition,r=dt;try{if(Tr.transition=null,dt=1,e)return e()}finally{dt=r,Tr.transition=n,et=t,!(et&6)&&Ra()}}function cp(){ar=zi.current,wt(zi)}function Xa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kk(n)),Wt!==null)for(n=Wt.return;n!==null;){var r=n;switch(Vm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yu();break;case 3:ho(),wt(qn),wt(Dn),Jm();break;case 5:Xm(r);break;case 4:ho();break;case 13:wt(St);break;case 19:wt(St);break;case 10:zm(r.type._context);break;case 22:case 23:cp()}n=n.return}if(tn=e,Wt=e=xa(e.current,null),xn=ar=t,Qt=0,Wl=null,ip=sd=li=0,Wn=yl=null,Wa!==null){for(t=0;t<Wa.length;t++)if(n=Wa[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Wa=null}return e}function Ow(e,t){do{var n=Wt;try{if(Ym(),yu.current=th,eh){for(var r=Et.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}eh=!1}if(oi=0,Xt=Gt=Et=null,xl=!1,Ul=0,ap.current=null,n===null||n.return===null){Qt=1,Wl=t,Wt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=sg(o);if(m!==null){m.flags&=-257,ag(m,o,l,i,t),m.mode&1&&rg(i,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){rg(i,u,t),up();break e}c=Error(be(426))}}else if(jt&&l.mode&1){var w=sg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ag(w,o,l,i,t),Km(fo(c,l));break e}}i=c=fo(c,l),Qt!==4&&(Qt=2),yl===null?yl=[i]:yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=xw(i,c,t);Xx(i,v);break e;case 1:l=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ma===null||!ma.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=gw(i,l,t);Xx(i,b);break e}}i=i.return}while(i!==null)}Lw(n)}catch(j){t=j,Wt===n&&n!==null&&(Wt=n=n.return);continue}break}while(!0)}function Rw(){var e=nh.current;return nh.current=th,e===null?th:e}function up(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),tn===null||!(li&268435455)&&!(sd&268435455)||ta(tn,xn)}function ah(e,t){var n=et;et|=2;var r=Rw();(tn!==e||xn!==t)&&(ws=null,Xa(e,t));do try{Qk();break}catch(a){Ow(e,a)}while(!0);if(Ym(),et=n,nh.current=r,Wt!==null)throw Error(be(261));return tn=null,xn=0,Qt}function Qk(){for(;Wt!==null;)Mw(Wt)}function Xk(){for(;Wt!==null&&!bT();)Mw(Wt)}function Mw(e){var t=Iw(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?Lw(e):Wt=t,ap.current=null}function Lw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kk(n,t),n!==null){n.flags&=32767,Wt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,Wt=null;return}}else if(n=Vk(n,t,ar),n!==null){Wt=n;return}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=e}while(t!==null);Qt===0&&(Qt=5)}function Ha(e,t,n){var r=dt,a=Tr.transition;try{Tr.transition=null,dt=1,Jk(e,t,n,r)}finally{Tr.transition=a,dt=r}return null}function Jk(e,t,n,r){do eo();while(sa!==null);if(et&6)throw Error(be(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(be(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(AT(e,i),e===tn&&(Wt=tn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,Bw($u,function(){return eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tr.transition,Tr.transition=null;var o=dt;dt=1;var l=et;et|=4,ap.current=null,Yk(e,n),Dw(n,e),yk(p0),Uu=!!m0,p0=m0=null,e.current=n,zk(n),jT(),et=l,dt=o,Tr.transition=i}else e.current=n;if(Wc&&(Wc=!1,sa=e,sh=a),i=e.pendingLanes,i===0&&(ma=null),ST(n.stateNode),Qn(e,Lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(rh)throw rh=!1,e=M0,M0=null,e;return sh&1&&e.tag!==0&&eo(),i=e.pendingLanes,i&1?e===L0?vl++:(vl=0,L0=e):vl=0,Ra(),null}function eo(){if(sa!==null){var e=x1(sh),t=Tr.transition,n=dt;try{if(Tr.transition=null,dt=16>e?16:e,sa===null)var r=!1;else{if(e=sa,sa=null,sh=0,et&6)throw Error(be(331));var a=et;for(et|=4,Ie=e.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var h=Ie;switch(h.tag){case 0:case 11:case 15:gl(8,h,i)}var d=h.child;if(d!==null)d.return=h,Ie=d;else for(;Ie!==null;){h=Ie;var f=h.sibling,m=h.return;if(Cw(h),h===u){Ie=null;break}if(f!==null){f.return=m,Ie=f;break}Ie=m}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ie=v;break e}Ie=i.return}}var g=e.current;for(Ie=g;Ie!==null;){o=Ie;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Ie=y;else e:for(o=g;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rd(9,l)}}catch(j){At(l,l.return,j)}if(l===o){Ie=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Ie=b;break e}Ie=l.return}}if(et=a,Ra(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Gh,e)}catch{}r=!0}return r}finally{dt=n,Tr.transition=t}}return!1}function yg(e,t,n){t=fo(n,t),t=xw(e,t,1),e=fa(e,t,1),t=Fn(),e!==null&&(uc(e,1,t),Qn(e,t))}function At(e,t,n){if(e.tag===3)yg(e,e,n);else for(;t!==null;){if(t.tag===3){yg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ma===null||!ma.has(r))){e=fo(n,e),e=gw(t,e,1),t=fa(t,e,1),e=Fn(),t!==null&&(uc(t,1,e),Qn(t,e));break}}t=t.return}}function Zk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fn(),e.pingedLanes|=e.suspendedLanes&n,tn===e&&(xn&n)===n&&(Qt===4||Qt===3&&(xn&130023424)===xn&&500>Lt()-op?Xa(e,0):ip|=n),Qn(e,t)}function Fw(e,t){t===0&&(e.mode&1?(t=Mc,Mc<<=1,!(Mc&130023424)&&(Mc=4194304)):t=1);var n=Fn();e=Os(e,t),e!==null&&(uc(e,t,n),Qn(e,n))}function eS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fw(e,n)}function tS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(t),Fw(e,n)}var Iw;Iw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qn.current)Yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Yn=!1,Uk(e,t,n);Yn=!!(e.flags&131072)}else Yn=!1,jt&&t.flags&1048576&&U1(t,Gu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wu(e,t),e=t.pendingProps;var a=lo(t,Dn.current);Zi(t,n),a=ep(null,t,r,e,a,n);var i=tp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gn(r)?(i=!0,zu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Gm(t),a.updater=nd,t.stateNode=a,a._reactInternals=t,T0(t,r,e,n),t=C0(null,t,r,!0,i,n)):(t.tag=0,jt&&i&&Um(t),An(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wu(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=rS(r),e=Lr(r,e),a){case 0:t=S0(null,t,r,e,n);break e;case 1:t=lg(null,t,r,e,n);break e;case 11:t=ig(null,t,r,e,n);break e;case 14:t=og(null,t,r,Lr(r.type,e),n);break e}throw Error(be(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Lr(r,a),S0(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Lr(r,a),lg(e,t,r,a,n);case 3:e:{if(Nw(t),e===null)throw Error(be(387));r=t.pendingProps,i=t.memoizedState,a=i.element,q1(e,t),Ju(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=fo(Error(be(423)),t),t=cg(e,t,r,n,a);break e}else if(r!==a){a=fo(Error(be(424)),t),t=cg(e,t,r,n,a);break e}else for(ur=da(t.stateNode.containerInfo.firstChild),hr=t,jt=!0,Ir=null,n=Y1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===a){t=Rs(e,t,n);break e}An(e,t,r,n)}t=t.child}return t;case 5:return G1(t),e===null&&N0(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,x0(r,a)?o=null:i!==null&&x0(r,i)&&(t.flags|=32),ww(e,t),An(e,t,o,n),t.child;case 6:return e===null&&N0(t),null;case 13:return bw(e,t,n);case 4:return Qm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uo(t,null,r,n):An(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Lr(r,a),ig(e,t,r,a,n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:return An(e,t,t.pendingProps.children,n),t.child;case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,yt(Qu,r._currentValue),r._currentValue=o,i!==null)if(Kr(i.value,o)){if(i.children===a.children&&!qn.current){t=Rs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ks(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),b0(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(be(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),b0(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}An(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Zi(t,n),a=Cr(a),r=r(a),t.flags|=1,An(e,t,r,n),t.child;case 14:return r=t.type,a=Lr(r,t.pendingProps),a=Lr(r.type,a),og(e,t,r,a,n);case 15:return yw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Lr(r,a),wu(e,t),t.tag=1,Gn(r)?(e=!0,zu(t)):e=!1,Zi(t,n),pw(t,r,a),T0(t,r,a,n),C0(null,t,r,!0,e,n);case 19:return jw(e,t,n);case 22:return vw(e,t,n)}throw Error(be(156,t.tag))};function Bw(e,t){return d1(e,t)}function nS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new nS(e,t,n,r)}function hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rS(e){if(typeof e=="function")return hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dm)return 11;if(e===Pm)return 14}return 2}function xa(e,t){var n=e.alternate;return n===null?(n=jr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")hp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fi:return Ja(n.children,a,i,t);case _m:o=8,a|=8;break;case qf:return e=jr(12,n,t,a|2),e.elementType=qf,e.lanes=i,e;case Gf:return e=jr(13,n,t,a),e.elementType=Gf,e.lanes=i,e;case Qf:return e=jr(19,n,t,a),e.elementType=Qf,e.lanes=i,e;case Gv:return ad(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zv:o=10;break e;case qv:o=9;break e;case Dm:o=11;break e;case Pm:o=14;break e;case Gs:o=16,r=null;break e}throw Error(be(130,e==null?e:typeof e,""))}return t=jr(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Ja(e,t,n,r){return e=jr(7,e,r,t),e.lanes=n,e}function ad(e,t,n,r){return e=jr(22,e,r,t),e.elementType=Gv,e.lanes=n,e.stateNode={isHidden:!1},e}function gf(e,t,n){return e=jr(6,e,null,t),e.lanes=n,e}function yf(e,t,n){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sS(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xd(0),this.expirationTimes=Xd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xd(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function dp(e,t,n,r,a,i,o,l,c){return e=new sS(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=jr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(i),e}function aS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $w(e){if(!e)return Ta;e=e._reactInternals;e:{if(gi(e)!==e||e.tag!==1)throw Error(be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(be(171))}if(e.tag===1){var n=e.type;if(Gn(n))return $1(e,n,t)}return t}function Hw(e,t,n,r,a,i,o,l,c){return e=dp(n,r,!0,e,a,i,o,l,c),e.context=$w(null),n=e.current,r=Fn(),a=pa(n),i=ks(r,a),i.callback=t??null,fa(n,i,a),e.current.lanes=a,uc(e,a,r),Qn(e,r),e}function id(e,t,n,r){var a=t.current,i=Fn(),o=pa(a);return n=$w(n),t.context===null?t.context=n:t.pendingContext=n,t=ks(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fa(a,t,o),e!==null&&(Ur(e,a,o,i),gu(e,a,o)),o}function ih(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fp(e,t){vg(e,t),(e=e.alternate)&&vg(e,t)}function iS(){return null}var Uw=typeof reportError=="function"?reportError:function(e){console.error(e)};function mp(e){this._internalRoot=e}od.prototype.render=mp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(be(409));id(e,t,null,null)};od.prototype.unmount=mp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ci(function(){id(null,e,null,null)}),t[As]=null}};function od(e){this._internalRoot=e}od.prototype.unstable_scheduleHydration=function(e){if(e){var t=v1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&N1(e)}};function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wg(){}function oS(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=ih(o);i.call(u)}}var o=Hw(t,r,e,0,null,!1,!1,"",wg);return e._reactRootContainer=o,e[As]=o.current,Fl(e.nodeType===8?e.parentNode:e),ci(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=ih(c);l.call(u)}}var c=dp(e,0,!1,null,null,!1,!1,"",wg);return e._reactRootContainer=c,e[As]=c.current,Fl(e.nodeType===8?e.parentNode:e),ci(function(){id(t,c,n,r)}),c}function cd(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ih(o);l.call(c)}}id(t,o,e,a)}else o=oS(n,t,e,a,r);return ih(o)}g1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=il(t.pendingLanes);n!==0&&(Rm(t,n|1),Qn(t,Lt()),!(et&6)&&(mo=Lt()+500,Ra()))}break;case 13:ci(function(){var r=Os(e,1);if(r!==null){var a=Fn();Ur(r,e,1,a)}}),fp(e,1)}};Mm=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var n=Fn();Ur(t,e,134217728,n)}fp(e,134217728)}};y1=function(e){if(e.tag===13){var t=pa(e),n=Os(e,t);if(n!==null){var r=Fn();Ur(n,e,t,r)}fp(e,t)}};v1=function(){return dt};w1=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};i0=function(e,t,n){switch(t){case"input":if(Zf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Zh(r);if(!a)throw Error(be(90));Xv(r),Zf(r,a)}}}break;case"textarea":Zv(e,n);break;case"select":t=n.value,t!=null&&Gi(e,!!n.multiple,t,!1)}};i1=lp;o1=ci;var lS={usingClientEntryPoint:!1,Events:[dc,Hi,Zh,s1,a1,lp]},Jo={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cS={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u1(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Gh=Yc.inject(cS),as=Yc}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS;xr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(t))throw Error(be(200));return aS(e,t,null,n)};xr.createRoot=function(e,t){if(!pp(e))throw Error(be(299));var n=!1,r="",a=Uw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=dp(e,1,!1,null,null,n,!1,r,a),e[As]=t.current,Fl(e.nodeType===8?e.parentNode:e),new mp(t)};xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(be(188)):(e=Object.keys(e).join(","),Error(be(268,e)));return e=u1(t),e=e===null?null:e.stateNode,e};xr.flushSync=function(e){return ci(e)};xr.hydrate=function(e,t,n){if(!ld(t))throw Error(be(200));return cd(null,e,t,!0,n)};xr.hydrateRoot=function(e,t,n){if(!pp(e))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=Uw;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Hw(t,null,e,1,n??null,a,!1,i,o),e[As]=t.current,Fl(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new od(t)};xr.render=function(e,t,n){if(!ld(t))throw Error(be(200));return cd(null,e,t,!1,n)};xr.unmountComponentAtNode=function(e){if(!ld(e))throw Error(be(40));return e._reactRootContainer?(ci(function(){cd(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};xr.unstable_batchedUpdates=lp;xr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ld(n))throw Error(be(200));if(e==null||e._reactInternals===void 0)throw Error(be(38));return cd(e,t,n,!1,r)};xr.version="18.3.1-next-f1338f8080-20240426";function Vw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vw)}catch(e){console.error(e)}}Vw(),Vv.exports=xr;var ud=Vv.exports;const Kw=Dv(ud);var Ng=ud;Yf.createRoot=Ng.createRoot,Yf.hydrateRoot=Ng.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(this,arguments)}var aa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(aa||(aa={}));const bg="popstate";function uS(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return B0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:oh(a)}return dS(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ww(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hS(){return Math.random().toString(36).substr(2,8)}function jg(e,t){return{usr:e.state,key:e.key,idx:t}}function B0(e,t,n,r){return n===void 0&&(n=null),Yl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oo(t):t,{state:n,key:t&&t.key||r||hS()})}function oh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Oo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function dS(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=aa.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Yl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){l=aa.Pop;let w=h(),v=w==null?null:w-u;u=w,c&&c({action:l,location:p.location,delta:v})}function f(w,v){l=aa.Push;let g=B0(p.location,w,v);u=h()+1;let y=jg(g,u),b=p.createHref(g);try{o.pushState(y,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}i&&c&&c({action:l,location:p.location,delta:1})}function m(w,v){l=aa.Replace;let g=B0(p.location,w,v);u=h();let y=jg(g,u),b=p.createHref(g);o.replaceState(y,"",b),i&&c&&c({action:l,location:p.location,delta:0})}function x(w){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof w=="string"?w:oh(w);return g=g.replace(/ $/,"%20"),_t(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let p={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(bg,d),c=w,()=>{a.removeEventListener(bg,d),c=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let v=x(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(w){return o.go(w)}};return p}var Tg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tg||(Tg={}));function fS(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Oo(t):t,a=po(r.pathname||"/",n);if(a==null)return null;let i=Yw(e);mS(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let c=kS(a);o=jS(i[l],c)}return o}function Yw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ga([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(_t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yw(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:NS(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of zw(i.path))a(i,o,c)}),t}function zw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=zw(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pS=/^:[\w-]+$/,xS=3,gS=2,yS=1,vS=10,wS=-2,kg=e=>e==="*";function NS(e,t){let n=e.split("/"),r=n.length;return n.some(kg)&&(r+=wS),t&&(r+=gS),n.filter(a=>!kg(a)).reduce((a,i)=>a+(pS.test(i)?xS:i===""?yS:vS),r)}function bS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function jS(e,t){let{routesMeta:n}=e,r={},a="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=$0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!h)return null;Object.assign(r,h.params);let d=l.route;i.push({params:r,pathname:ga([a,h.pathname]),pathnameBase:_S(ga([a,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(a=ga([a,h.pathnameBase]))}return i}function $0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TS(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let p=l[d]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[d];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function TS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ww(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function kS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ww(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function po(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function SS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Oo(e):e;return{pathname:n?n.startsWith("/")?n:CS(n,t):t,search:DS(r),hash:PS(a)}}function CS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ES(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xp(e,t){let n=ES(e);return t?n.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gp(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Oo(e):(a=Yl({},e),_t(!a.pathname||!a.pathname.includes("?"),vf("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),vf("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),vf("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;a.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=SS(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),_S=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qw=["post","put","patch","delete"];new Set(qw);const OS=["get",...qw];new Set(OS);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}const hd=N.createContext(null),Gw=N.createContext(null),Hs=N.createContext(null),dd=N.createContext(null),ps=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Qw=N.createContext(null);function RS(e,t){let{relative:n}=t===void 0?{}:t;Ro()||_t(!1);let{basename:r,navigator:a}=N.useContext(Hs),{hash:i,pathname:o,search:l}=fd(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ga([r,o])),a.createHref({pathname:c,search:l,hash:i})}function Ro(){return N.useContext(dd)!=null}function Us(){return Ro()||_t(!1),N.useContext(dd).location}function Xw(e){N.useContext(Hs).static||N.useLayoutEffect(e)}function tr(){let{isDataRoute:e}=N.useContext(ps);return e?GS():MS()}function MS(){Ro()||_t(!1);let e=N.useContext(hd),{basename:t,future:n,navigator:r}=N.useContext(Hs),{matches:a}=N.useContext(ps),{pathname:i}=Us(),o=JSON.stringify(xp(a,n.v7_relativeSplatPath)),l=N.useRef(!1);return Xw(()=>{l.current=!0}),N.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=gp(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ga([t,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[t,r,o,i,e])}const LS=N.createContext(null);function FS(e){let t=N.useContext(ps).outlet;return t&&N.createElement(LS.Provider,{value:e},t)}function Jw(){let{matches:e}=N.useContext(ps),t=e[e.length-1];return t?t.params:{}}function fd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=N.useContext(Hs),{matches:a}=N.useContext(ps),{pathname:i}=Us(),o=JSON.stringify(xp(a,r.v7_relativeSplatPath));return N.useMemo(()=>gp(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function IS(e,t){return BS(e,t)}function BS(e,t,n,r){Ro()||_t(!1);let{navigator:a}=N.useContext(Hs),{matches:i}=N.useContext(ps),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Us(),h;if(t){var d;let w=typeof t=="string"?Oo(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||_t(!1),h=w}else h=u;let f=h.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=fS(e,{pathname:m}),p=KS(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ga([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ga([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&p?N.createElement(dd.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:aa.Pop}},p):p}function $S(){let e=qS(),t=AS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,null)}const HS=N.createElement($S,null);class US extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(ps.Provider,{value:this.props.routeContext},N.createElement(Qw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VS(e){let{routeContext:t,match:n,children:r}=e,a=N.useContext(hd);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ps.Provider,{value:t},r)}function KS(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||_t(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:m}=n,x=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,x=!1,p=null,w=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||HS,c&&(u<0&&f===0?(QS("route-fallback"),x=!0,w=null):u===f&&(x=!0,w=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),g=()=>{let y;return m?y=p:x?y=w:d.route.Component?y=N.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,N.createElement(VS,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(US,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var Zw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zw||{}),eN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eN||{});function WS(e){let t=N.useContext(hd);return t||_t(!1),t}function YS(e){let t=N.useContext(Gw);return t||_t(!1),t}function zS(e){let t=N.useContext(ps);return t||_t(!1),t}function tN(e){let t=zS(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function qS(){var e;let t=N.useContext(Qw),n=YS(),r=tN();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function GS(){let{router:e}=WS(Zw.UseNavigateStable),t=tN(eN.UseNavigateStable),n=N.useRef(!1);return Xw(()=>{n.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,zl({fromRouteId:t},i)))},[e,t])}const Sg={};function QS(e,t,n){Sg[e]||(Sg[e]=!0)}function XS(e){let{to:t,replace:n,state:r,relative:a}=e;Ro()||_t(!1);let{future:i,static:o}=N.useContext(Hs),{matches:l}=N.useContext(ps),{pathname:c}=Us(),u=tr(),h=gp(t,xp(l,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(h);return N.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:a}),[u,d,a,n,r]),null}function md(e){return FS(e.context)}function Qe(e){_t(!1)}function JS(e){let{basename:t="/",children:n=null,location:r,navigationType:a=aa.Pop,navigator:i,static:o=!1,future:l}=e;Ro()&&_t(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:o,future:zl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Oo(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:x="default"}=r,p=N.useMemo(()=>{let w=po(h,c);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:x},navigationType:a}},[c,h,d,f,m,x,a]);return p==null?null:N.createElement(Hs.Provider,{value:u},N.createElement(dd.Provider,{children:n,value:p}))}function ZS(e){let{children:t,location:n}=e;return IS(H0(t),n)}new Promise(()=>{});function H0(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,a)=>{if(!N.isValidElement(r))return;let i=[...t,a];if(r.type===N.Fragment){n.push.apply(n,H0(r.props.children,i));return}r.type!==Qe&&_t(!1),!r.props.index||!r.props.children||_t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=H0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(this,arguments)}function nN(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function eC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tC(e,t){return e.button===0&&(!t||t==="_self")&&!eC(e)}function U0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function nC(e,t){let n=U0(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const rC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],sC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],aC="6";try{window.__reactRouterVersion=aC}catch{}const iC=N.createContext({isTransitioning:!1}),oC="startTransition",Cg=Hv[oC];function lC(e){let{basename:t,children:n,future:r,window:a}=e,i=N.useRef();i.current==null&&(i.current=uS({window:a,v5Compat:!0}));let o=i.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=N.useCallback(d=>{u&&Cg?Cg(()=>c(d)):c(d)},[c,u]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(JS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const cC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=N.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:d}=t,f=nN(t,rC),{basename:m}=N.useContext(Hs),x,p=!1;if(typeof u=="string"&&uC.test(u)&&(x=u,cC))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=po(b.pathname,m);b.origin===y.origin&&j!=null?u=j+b.search+b.hash:p=!0}catch{}let w=RS(u,{relative:a}),v=dC(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,unstable_viewTransition:d});function g(y){r&&r(y),y.defaultPrevented||v(y)}return N.createElement("a",lh({},f,{href:x||w,onClick:p||i?r:g,ref:n,target:c}))}),yp=N.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,unstable_viewTransition:u,children:h}=t,d=nN(t,sC),f=fd(c,{relative:d.relative}),m=Us(),x=N.useContext(Gw),{navigator:p,basename:w}=N.useContext(Hs),v=x!=null&&mC(f)&&u===!0,g=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,y=m.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(y=y.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&w&&(b=po(b,w)||b);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let C=y===g||!o&&y.startsWith(g)&&y.charAt(j)==="/",T=b!=null&&(b===g||!o&&b.startsWith(g)&&b.charAt(g.length)==="/"),k={isActive:C,isPending:T,isTransitioning:v},D=C?r:void 0,H;typeof i=="function"?H=i(k):H=[i,C?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(k):l;return N.createElement($e,lh({},d,{"aria-current":D,className:H,ref:n,style:O,to:c,unstable_viewTransition:u}),typeof h=="function"?h(k):h)});var V0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(V0||(V0={}));var Eg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eg||(Eg={}));function hC(e){let t=N.useContext(hd);return t||_t(!1),t}function dC(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,c=tr(),u=Us(),h=fd(e,{relative:o});return N.useCallback(d=>{if(tC(d,n)){d.preventDefault();let f=r!==void 0?r:oh(u)===oh(h);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,h,r,a,n,e,i,o,l])}function fC(e){let t=N.useRef(U0(e)),n=N.useRef(!1),r=Us(),a=N.useMemo(()=>nC(r.search,n.current?null:t.current),[r.search]),i=tr(),o=N.useCallback((l,c)=>{const u=U0(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function mC(e,t){t===void 0&&(t={});let n=N.useContext(iC);n==null&&_t(!1);let{basename:r}=hC(V0.useViewTransitionState),a=fd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=po(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=po(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $0(a.pathname,o)!=null||$0(a.pathname,i)!=null}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},K0(e,t)}function pd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K0(e,t)}var xd=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var a=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){a.listeners=a.listeners.filter(function(o){return o!==i}),a.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(null,arguments)}var rN=typeof window>"u";function Pn(){}function pC(e,t){return typeof e=="function"?e(t):e}function xC(e){return typeof e=="number"&&e>=0&&e!==1/0}function ch(e){return Array.isArray(e)?e:[e]}function gC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wf(e,t,n){return gd(e)?typeof t=="function"?lt({},n,{queryKey:e,queryFn:t}):lt({},t,{queryKey:e}):e}function Xs(e,t,n){return gd(e)?[lt({},t,{queryKey:e}),n]:[e||{},t]}function yC(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function _g(e,t){var n=e.active,r=e.exact,a=e.fetching,i=e.inactive,o=e.predicate,l=e.queryKey,c=e.stale;if(gd(l)){if(r){if(t.queryHash!==vp(l,t.options))return!1}else if(!uh(t.queryKey,l))return!1}var u=yC(n,i);if(u==="none")return!1;if(u!=="all"){var h=t.isActive();if(u==="active"&&!h||u==="inactive"&&h)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof a=="boolean"&&t.isFetching()!==a||o&&!o(t))}function Dg(e,t){var n=e.exact,r=e.fetching,a=e.predicate,i=e.mutationKey;if(gd(i)){if(!t.options.mutationKey)return!1;if(n){if(za(t.options.mutationKey)!==za(i))return!1}else if(!uh(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||a&&!a(t))}function vp(e,t){var n=(t==null?void 0:t.queryKeyHashFn)||za;return n(e)}function za(e){var t=ch(e);return vC(t)}function vC(e){return JSON.stringify(e,function(t,n){return W0(n)?Object.keys(n).sort().reduce(function(r,a){return r[a]=n[a],r},{}):n})}function uh(e,t){return sN(ch(e),ch(t))}function sN(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!sN(e[n],t[n])}):!1}function aN(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||W0(e)&&W0(t)){for(var r=n?e.length:Object.keys(e).length,a=n?t:Object.keys(t),i=a.length,o=n?[]:{},l=0,c=0;c<i;c++){var u=n?c:a[c];o[u]=aN(e[u],t[u]),o[u]===e[u]&&l++}return r===i&&l===r?e:o}return t}function W0(e){if(!Pg(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!Pg(n)||!n.hasOwnProperty("isPrototypeOf"))}function Pg(e){return Object.prototype.toString.call(e)==="[object Object]"}function gd(e){return typeof e=="string"||Array.isArray(e)}function wC(e){return new Promise(function(t){setTimeout(t,e)})}function Ag(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function iN(){if(typeof AbortController=="function")return new AbortController}var NC=function(e){pd(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(a){var i;if(!rN&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},n.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},n.setFocused=function(a){this.focused=a,a&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(a){a()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(xd),Tu=new NC,bC=function(e){pd(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(a){var i;if(!rN&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},n.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},n.setOnline=function(a){this.online=a,a&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(a){a()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(xd),ku=new bC;function jC(e){return Math.min(1e3*Math.pow(2,e),3e4)}function hh(e){return typeof(e==null?void 0:e.cancel)=="function"}var oN=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Nf(e){return e instanceof oN}var lN=function(t){var n=this,r=!1,a,i,o,l;this.abort=t.abort,this.cancel=function(f){return a==null?void 0:a(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,m){o=f,l=m});var c=function(m){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(m),i==null||i(),o(m))},u=function(m){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(m),i==null||i(),l(m))},h=function(){return new Promise(function(m){i=m,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},d=function f(){if(!n.isResolved){var m;try{m=t.fn()}catch(x){m=Promise.reject(x)}a=function(p){if(!n.isResolved&&(u(new oN(p)),n.abort==null||n.abort(),hh(m)))try{m.cancel()}catch{}},n.isTransportCancelable=hh(m),Promise.resolve(m).then(c).catch(function(x){var p,w;if(!n.isResolved){var v=(p=t.retry)!=null?p:3,g=(w=t.retryDelay)!=null?w:jC,y=typeof g=="function"?g(n.failureCount,x):g,b=v===!0||typeof v=="number"&&n.failureCount<v||typeof v=="function"&&v(n.failureCount,x);if(r||!b){u(x);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,x),wC(y).then(function(){if(!Tu.isFocused()||!ku.isOnline())return h()}).then(function(){r?u(x):f()})}})}};d()},TC=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(r){var a;this.transactions++;try{a=r()}finally{this.transactions--,this.transactions||this.flush()}return a},t.schedule=function(r){var a=this;this.transactions?this.queue.push(r):Ag(function(){a.notifyFn(r)})},t.batchCalls=function(r){var a=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];a.schedule(function(){r.apply(void 0,o)})}},t.flush=function(){var r=this,a=this.queue;this.queue=[],a.length&&Ag(function(){r.batchNotifyFn(function(){a.forEach(function(i){r.notifyFn(i)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e}(),hn=new TC,cN=console;function uN(){return cN}function kC(e){cN=e}var SC=function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var a;this.options=lt({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(a=this.options.cacheTime)!=null?a:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),xC(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,a){var i,o,l=this.state.data,c=pC(r,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=aN(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt}),c},t.setState=function(r,a){this.dispatch({type:"setState",state:r,setStateOptions:a})},t.cancel=function(r){var a,i=this.promise;return(a=this.retryer)==null||a.cancel(r),i?i.then(Pn).catch(Pn):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!gC(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,a=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});a&&a.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,a=this.observers.find(function(i){return i.shouldFetchOnReconnect()});a&&a.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(a){return a!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,a){var i=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var h=this.observers.find(function(g){return g.options.queryFn});h&&this.setOptions(h.options)}var d=ch(this.queryKey),f=iN(),m={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var x=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},p={fetchOptions:a,options:this.options,queryKey:d,state:this.state,fetchFn:x,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var w;(w=this.options.behavior)==null||w.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=p.fetchOptions)==null?void 0:l.meta)){var v;this.dispatch({type:"fetch",meta:(v=p.fetchOptions)==null?void 0:v.meta})}return this.retryer=new lN({fn:p.fetchFn,abort:f==null||(c=f.abort)==null?void 0:c.bind(f),onSuccess:function(y){i.setData(y),i.cache.config.onSuccess==null||i.cache.config.onSuccess(y,i),i.cacheTime===0&&i.optionalRemove()},onError:function(y){Nf(y)&&y.silent||i.dispatch({type:"error",error:y}),Nf(y)||(i.cache.config.onError==null||i.cache.config.onError(y,i),uN().error(y)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var a=this;this.state=this.reducer(this.state,r),hn.batch(function(){a.observers.forEach(function(i){i.onQueryUpdate(r)}),a.cache.notify({query:a,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var a=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof a<"u";return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},t.reducer=function(r,a){var i,o;switch(a.type){case"failed":return lt({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return lt({},r,{isPaused:!0});case"continue":return lt({},r,{isPaused:!1});case"fetch":return lt({},r,{fetchFailureCount:0,fetchMeta:(i=a.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return lt({},r,{data:a.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=a.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=a.error;return Nf(l)&&l.revert&&this.revertState?lt({},this.revertState):lt({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return lt({},r,{isInvalidated:!0});case"setState":return lt({},r,a.state);default:return r}},e}(),CC=function(e){pd(t,e);function t(r){var a;return a=e.call(this)||this,a.config=r||{},a.queries=[],a.queriesMap={},a}var n=t.prototype;return n.build=function(a,i,o){var l,c=i.queryKey,u=(l=i.queryHash)!=null?l:vp(c,i),h=this.get(u);return h||(h=new SC({cache:this,queryKey:c,queryHash:u,options:a.defaultQueryOptions(i),state:o,defaultOptions:a.getQueryDefaults(c),meta:i.meta}),this.add(h)),h},n.add=function(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"queryAdded",query:a}))},n.remove=function(a){var i=this.queriesMap[a.queryHash];i&&(a.destroy(),this.queries=this.queries.filter(function(o){return o!==a}),i===a&&delete this.queriesMap[a.queryHash],this.notify({type:"queryRemoved",query:a}))},n.clear=function(){var a=this;hn.batch(function(){a.queries.forEach(function(i){a.remove(i)})})},n.get=function(a){return this.queriesMap[a]},n.getAll=function(){return this.queries},n.find=function(a,i){var o=Xs(a,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return _g(l,c)})},n.findAll=function(a,i){var o=Xs(a,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return _g(l,c)}):this.queries},n.notify=function(a){var i=this;hn.batch(function(){i.listeners.forEach(function(o){o(a)})})},n.onFocus=function(){var a=this;hn.batch(function(){a.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var a=this;hn.batch(function(){a.queries.forEach(function(i){i.onOnline()})})},t}(xd),EC=function(){function e(n){this.options=lt({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||_C(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(a){return a!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Pn).catch(Pn)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,a,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(l){a=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(a,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(a,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:a}),a}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),uN().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},t.executeMutation=function(){var r=this,a;return this.retryer=new lN({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(a=this.options.retry)!=null?a:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var a=this;this.state=DC(this.state,r),hn.batch(function(){a.observers.forEach(function(i){i.onMutationUpdate(r)}),a.mutationCache.notify(a)})},e}();function _C(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function DC(e,t){switch(t.type){case"failed":return lt({},e,{failureCount:e.failureCount+1});case"pause":return lt({},e,{isPaused:!0});case"continue":return lt({},e,{isPaused:!1});case"loading":return lt({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return lt({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return lt({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return lt({},e,t.state);default:return e}}var PC=function(e){pd(t,e);function t(r){var a;return a=e.call(this)||this,a.config=r||{},a.mutations=[],a.mutationId=0,a}var n=t.prototype;return n.build=function(a,i,o){var l=new EC({mutationCache:this,mutationId:++this.mutationId,options:a.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?a.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},n.add=function(a){this.mutations.push(a),this.notify(a)},n.remove=function(a){this.mutations=this.mutations.filter(function(i){return i!==a}),a.cancel(),this.notify(a)},n.clear=function(){var a=this;hn.batch(function(){a.mutations.forEach(function(i){a.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(function(i){return Dg(a,i)})},n.findAll=function(a){return this.mutations.filter(function(i){return Dg(a,i)})},n.notify=function(a){var i=this;hn.batch(function(){i.listeners.forEach(function(o){o(a)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var a=this.mutations.filter(function(i){return i.state.isPaused});return hn.batch(function(){return a.reduce(function(i,o){return i.then(function(){return o.continue().catch(Pn)})},Promise.resolve())})},t}(xd);function AC(){return{onFetch:function(t){t.fetchFn=function(){var n,r,a,i,o,l,c=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(a=t.fetchOptions)==null||(i=a.meta)==null?void 0:i.fetchMore,h=u==null?void 0:u.pageParam,d=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",m=((o=t.state.data)==null?void 0:o.pages)||[],x=((l=t.state.data)==null?void 0:l.pageParams)||[],p=iN(),w=p==null?void 0:p.signal,v=x,g=!1,y=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},b=function(ue,G,I,K){return v=K?[G].concat(v):[].concat(v,[G]),K?[I].concat(ue):[].concat(ue,[I])},j=function(ue,G,I,K){if(g)return Promise.reject("Cancelled");if(typeof I>"u"&&!G&&ue.length)return Promise.resolve(ue);var se={queryKey:t.queryKey,signal:w,pageParam:I,meta:t.meta},z=y(se),J=Promise.resolve(z).then(function(P){return b(ue,I,P,K)});if(hh(z)){var pe=J;pe.cancel=z.cancel}return J},C;if(!m.length)C=j([]);else if(d){var T=typeof h<"u",k=T?h:Og(t.options,m);C=j(m,T,k)}else if(f){var D=typeof h<"u",H=D?h:OC(t.options,m);C=j(m,D,H,!0)}else(function(){v=[];var W=typeof t.options.getNextPageParam>"u",ue=c&&m[0]?c(m[0],0,m):!0;C=ue?j([],W,x[0]):Promise.resolve(b([],x[0],m[0]));for(var G=function(se){C=C.then(function(z){var J=c&&m[se]?c(m[se],se,m):!0;if(J){var pe=W?x[se]:Og(t.options,z);return j(z,W,pe)}return Promise.resolve(b(z,x[se],m[se]))})},I=1;I<m.length;I++)G(I)})();var O=C.then(function(W){return{pages:W,pageParams:v}}),B=O;return B.cancel=function(){g=!0,p==null||p.abort(),hh(C)&&C.cancel()},O}}}}function Og(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function OC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var RC=function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new CC,this.mutationCache=n.mutationCache||new PC,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=Tu.subscribe(function(){Tu.isFocused()&&ku.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=ku.subscribe(function(){Tu.isFocused()&&ku.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,a;(r=this.unsubscribeFocus)==null||r.call(this),(a=this.unsubscribeOnline)==null||a.call(this)},t.isFetching=function(r,a){var i=Xs(r,a),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(r){return this.mutationCache.findAll(lt({},r,{fetching:!0})).length},t.getQueryData=function(r,a){var i;return(i=this.queryCache.find(r,a))==null?void 0:i.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(a){var i=a.queryKey,o=a.state,l=o.data;return[i,l]})},t.setQueryData=function(r,a,i){var o=wf(r),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(a,i)},t.setQueriesData=function(r,a,i){var o=this;return hn.batch(function(){return o.getQueryCache().findAll(r).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,a,i)]})})},t.getQueryState=function(r,a){var i;return(i=this.queryCache.find(r,a))==null?void 0:i.state},t.removeQueries=function(r,a){var i=Xs(r,a),o=i[0],l=this.queryCache;hn.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},t.resetQueries=function(r,a,i){var o=this,l=Xs(r,a,i),c=l[0],u=l[1],h=this.queryCache,d=lt({},c,{active:!0});return hn.batch(function(){return h.findAll(c).forEach(function(f){f.reset()}),o.refetchQueries(d,u)})},t.cancelQueries=function(r,a,i){var o=this,l=Xs(r,a,i),c=l[0],u=l[1],h=u===void 0?{}:u;typeof h.revert>"u"&&(h.revert=!0);var d=hn.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.cancel(h)})});return Promise.all(d).then(Pn).catch(Pn)},t.invalidateQueries=function(r,a,i){var o,l,c,u=this,h=Xs(r,a,i),d=h[0],f=h[1],m=lt({},d,{active:(o=(l=d.refetchActive)!=null?l:d.active)!=null?o:!0,inactive:(c=d.refetchInactive)!=null?c:!1});return hn.batch(function(){return u.queryCache.findAll(d).forEach(function(x){x.invalidate()}),u.refetchQueries(m,f)})},t.refetchQueries=function(r,a,i){var o=this,l=Xs(r,a,i),c=l[0],u=l[1],h=hn.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.fetch(void 0,lt({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),d=Promise.all(h).then(Pn);return u!=null&&u.throwOnError||(d=d.catch(Pn)),d},t.fetchQuery=function(r,a,i){var o=wf(r,a,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},t.prefetchQuery=function(r,a,i){return this.fetchQuery(r,a,i).then(Pn).catch(Pn)},t.fetchInfiniteQuery=function(r,a,i){var o=wf(r,a,i);return o.behavior=AC(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(r,a,i){return this.fetchInfiniteQuery(r,a,i).then(Pn).catch(Pn)},t.cancelMutations=function(){var r=this,a=hn.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(a).then(Pn).catch(Pn)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,a){var i=this.queryDefaults.find(function(o){return za(r)===za(o.queryKey)});i?i.defaultOptions=a:this.queryDefaults.push({queryKey:r,defaultOptions:a})},t.getQueryDefaults=function(r){var a;return r?(a=this.queryDefaults.find(function(i){return uh(r,i.queryKey)}))==null?void 0:a.defaultOptions:void 0},t.setMutationDefaults=function(r,a){var i=this.mutationDefaults.find(function(o){return za(r)===za(o.mutationKey)});i?i.defaultOptions=a:this.mutationDefaults.push({mutationKey:r,defaultOptions:a})},t.getMutationDefaults=function(r){var a;return r?(a=this.mutationDefaults.find(function(i){return uh(r,i.mutationKey)}))==null?void 0:a.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var a=lt({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!a.queryHash&&a.queryKey&&(a.queryHash=vp(a.queryKey,a)),a},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:lt({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),MC=Kw.unstable_batchedUpdates;hn.setBatchNotifyFunction(MC);var LC=console;kC(LC);var Rg=re.createContext(void 0),FC=re.createContext(!1);function IC(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Rg),window.ReactQueryClientContext):Rg}var BC=function(t){var n=t.client,r=t.contextSharing,a=r===void 0?!1:r,i=t.children;re.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=IC(a);return re.createElement(FC.Provider,{value:a},re.createElement(o.Provider,{value:n},i))};let $C={data:""},HC=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||$C,UC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,VC=/\/\*[^]*?\*\/|  +/g,Mg=/\n+/g,na=(e,t)=>{let n="",r="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?na(o,i):i+"{"+na(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=na(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=na.p?na.p(i,o):i+":"+o+";")}return n+(t&&a?t+"{"+a+"}":a)+r},ys={},hN=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+hN(e[n]);return t}return e},KC=(e,t,n,r,a)=>{let i=hN(e),o=ys[i]||(ys[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!ys[o]){let c=i!==e?e:(u=>{let h,d,f=[{}];for(;h=UC.exec(u.replace(VC,""));)h[4]?f.shift():h[3]?(d=h[3].replace(Mg," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(Mg," ").trim();return f[0]})(e);ys[o]=na(a?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&ys.g?ys.g:null;return n&&(ys.g=ys[o]),((c,u,h,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(ys[o],t,r,l),o},WC=(e,t,n)=>e.reduce((r,a,i)=>{let o=t[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":na(l,""):l===!1?"":l}return r+a+(o??"")},"");function yd(e){let t=this||{},n=e.call?e(t.p):e;return KC(n.unshift?n.raw?WC(n,[].slice.call(arguments,1),t.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):n,HC(t.target),t.g,t.o,t.k)}let dN,Y0,z0;yd.bind({g:1});let Ms=yd.bind({k:1});function YC(e,t,n,r){na.p=t,dN=e,Y0=n,z0=r}function Ma(e,t){let n=this||{};return function(){let r=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;n.p=Object.assign({theme:Y0&&Y0()},l),n.o=/ *go\d+/.test(c),l.className=yd.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),z0&&u[0]&&z0(l),dN(u,l)}return a}}var zC=e=>typeof e=="function",dh=(e,t)=>zC(e)?e(t):e,qC=(()=>{let e=0;return()=>(++e).toString()})(),fN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),GC=20,mN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,GC)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return mN(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Su=[],qa={toasts:[],pausedAt:void 0},yi=e=>{qa=mN(qa,e),Su.forEach(t=>{t(qa)})},QC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},XC=(e={})=>{let[t,n]=N.useState(qa),r=N.useRef(qa);N.useEffect(()=>(r.current!==qa&&n(qa),Su.push(n),()=>{let i=Su.indexOf(n);i>-1&&Su.splice(i,1)}),[]);let a=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||QC[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:a}},JC=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||qC()}),mc=e=>(t,n)=>{let r=JC(t,e,n);return yi({type:2,toast:r}),r.id},He=(e,t)=>mc("blank")(e,t);He.error=mc("error");He.success=mc("success");He.loading=mc("loading");He.custom=mc("custom");He.dismiss=e=>{yi({type:3,toastId:e})};He.remove=e=>yi({type:4,toastId:e});He.promise=(e,t,n)=>{let r=He.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?dh(t.success,a):void 0;return i?He.success(i,{id:r,...n,...n==null?void 0:n.success}):He.dismiss(r),a}).catch(a=>{let i=t.error?dh(t.error,a):void 0;i?He.error(i,{id:r,...n,...n==null?void 0:n.error}):He.dismiss(r)}),e};var ZC=(e,t)=>{yi({type:1,toast:{id:e,height:t}})},e4=()=>{yi({type:5,time:Date.now()})},wl=new Map,t4=1e3,n4=(e,t=t4)=>{if(wl.has(e))return;let n=setTimeout(()=>{wl.delete(e),yi({type:4,toastId:e})},t);wl.set(e,n)},r4=e=>{let{toasts:t,pausedAt:n}=XC(e);N.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&He.dismiss(l.id);return}return setTimeout(()=>He.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=N.useCallback(()=>{n&&yi({type:6,time:Date.now()})},[n]),a=N.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},h=t.filter(m=>(m.position||u)===(i.position||u)&&m.height),d=h.findIndex(m=>m.id===i.id),f=h.filter((m,x)=>x<d&&m.visible).length;return h.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,x)=>m+(x.height||0)+c,0)},[t]);return N.useEffect(()=>{t.forEach(i=>{if(i.dismissed)n4(i.id,i.removeDelay);else{let o=wl.get(i.id);o&&(clearTimeout(o),wl.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:ZC,startPause:e4,endPause:r,calculateOffset:a}}},s4=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,a4=Ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,i4=Ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,o4=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${a4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${i4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,l4=Ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,c4=Ma("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${l4} 1s linear infinite;
`,u4=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,h4=Ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,d4=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${u4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${h4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,f4=Ma("div")`
  position: absolute;
`,m4=Ma("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,p4=Ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,x4=Ma("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${p4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,g4=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?N.createElement(x4,null,t):t:n==="blank"?null:N.createElement(m4,null,N.createElement(c4,{...r}),n!=="loading"&&N.createElement(f4,null,n==="error"?N.createElement(o4,{...r}):N.createElement(d4,{...r})))},y4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,v4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,w4="0%{opacity:0;} 100%{opacity:1;}",N4="0%{opacity:1;} 100%{opacity:0;}",b4=Ma("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,j4=Ma("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,T4=(e,t)=>{let n=e.includes("top")?1:-1,[r,a]=fN()?[w4,N4]:[y4(n),v4(n)];return{animation:t?`${Ms(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ms(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},k4=N.memo(({toast:e,position:t,style:n,children:r})=>{let a=e.height?T4(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(g4,{toast:e}),o=N.createElement(j4,{...e.ariaProps},dh(e.message,e));return N.createElement(b4,{className:e.className,style:{...a,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):N.createElement(N.Fragment,null,i,o))});YC(N.createElement);var S4=({id:e,className:t,style:n,onHeightUpdate:r,children:a})=>{let i=N.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return N.createElement("div",{ref:i,className:t,style:n},a)},C4=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}},E4=yd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zc=16,pN=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=r4(n);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zc,left:zc,right:zc,bottom:zc,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let h=u.position||t,d=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),f=C4(h,d);return N.createElement(S4,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?E4:"",style:f},u.type==="custom"?dh(u.message,u):a?a(u):N.createElement(k4,{toast:u,position:h}))}))},X=He;/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Kn||(Kn={}));var ya;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(ya||(ya={}));var Lg;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(Lg||(Lg={}));var Vt=function(){return Vt=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vt.apply(this,arguments)};function xN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Fg(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ql="data-react-paypal-script-id",Ga={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},_4="Failed to load the PayPal JS SDK script.",gN="paypal",D4="usePayPalScriptReducer must be used within a PayPalScriptProvider";function P4(e){return e===void 0&&(e=gN),window[e]}function A4(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}function O4(e){var t=e.reactComponentName,n=e.sdkComponentKey,r=e.sdkRequestedComponents,a=r===void 0?"":r,i=e.sdkDataNamespace,o=i===void 0?gN:i,l=n.charAt(0).toUpperCase().concat(n.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(o,".").concat(l," is undefined."),u=typeof a=="string"?a:a.join(",");if(!u.includes(n)){var h=[u,n].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(h,"'}}>`.")}return c}function yN(e){var t=e,n=ql;t[n];var r=xN(t,[n+""]);return"react-paypal-js-".concat(A4(JSON.stringify(r)))}function R4(e){var t=self.document.querySelector("script[".concat(ql,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function M4(e,t){var n,r;switch(t.type){case ya.LOADING_STATUS:return typeof t.value=="object"?Vt(Vt({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):Vt(Vt({},e),{loadingStatus:t.value});case ya.RESET_OPTIONS:return R4(e.options[ql]),Vt(Vt({},e),{loadingStatus:Kn.PENDING,options:Vt(Vt((n={},n[Ga.DATA_SDK_INTEGRATION_SOURCE]=Ga.DATA_LIBRARY_VALUE,n),t.value),(r={},r[ql]="".concat(yN(t.value)),r))});case ya.SET_BRAINTREE_INSTANCE:return Vt(Vt({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var vN=N.createContext(null);function L4(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(D4)}function wN(){var e=L4(N.useContext(vN)),t=Vt(Vt({},e),{isInitial:e.loadingStatus===Kn.INITIAL,isPending:e.loadingStatus===Kn.PENDING,isResolved:e.loadingStatus===Kn.RESOLVED,isRejected:e.loadingStatus===Kn.REJECTED});return[t,e.dispatch]}N.createContext({});function F4(e){var t=N.useRef(new Proxy({},{get:function(n,r,a){return typeof n[r]=="function"?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n[r].apply(n,i)}:Reflect.get(n,r,a)}}));return t.current=Object.assign(t.current,e),t.current}var wp=function(e){var t,n=e.className,r=n===void 0?"":n,a=e.disabled,i=a===void 0?!1:a,o=e.children,l=e.forceReRender,c=l===void 0?[]:l,u=xN(e,["className","disabled","children","forceReRender"]),h=i?{opacity:.38}:{},d="".concat(r," ").concat(i?"paypal-buttons-disabled":"").trim(),f=N.useRef(null),m=N.useRef(null),x=F4(u),p=wN()[0],w=p.isResolved,v=p.options,g=N.useState(null),y=g[0],b=g[1],j=N.useState(!0),C=j[0],T=j[1],k=N.useState(null),D=k[1];function H(){m.current!==null&&m.current.close().catch(function(){})}return!((t=m.current)===null||t===void 0)&&t.updateProps&&m.current.updateProps({message:u.message}),N.useEffect(function(){if(w===!1)return H;var O=P4(v.dataNamespace);if(O===void 0||O.Buttons===void 0)return D(function(){throw new Error(O4({reactComponentName:wp.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:v.components,sdkDataNamespace:v[Ga.DATA_NAMESPACE]}))}),H;var B=function(W,ue){b(ue),typeof u.onInit=="function"&&u.onInit(W,ue)};try{m.current=O.Buttons(Vt(Vt({},x),{onInit:B}))}catch(W){return D(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(W))})}return m.current.isEligible()===!1?(T(!1),H):(f.current&&m.current.render(f.current).catch(function(W){f.current===null||f.current.children.length===0||D(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(W))})}),H)},Fg(Fg([w],c,!0),[u.fundingSource],!1)),N.useEffect(function(){y!==null&&(i===!0?y.disable().catch(function(){}):y.enable().catch(function(){}))},[i,y]),re.createElement(re.Fragment,null,C?re.createElement("div",{ref:f,style:h,className:d}):o)};wp.displayName="PayPalButtons";function I4(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function B4(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(n===null)return null;var r=NN(e,t),a=n.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(r.dataset).length)return null;var i=!0;return Object.keys(a.dataset).forEach(function(o){a.dataset[o]!==r.dataset[o]&&(i=!1)}),i?n:null}function $4(e){var t=e.url,n=e.attributes,r=e.onSuccess,a=e.onError,i=NN(t,n);i.onerror=a,i.onload=r,document.head.insertBefore(i,document.head.firstElementChild)}function H4(e){var t=e.sdkBaseUrl,n=e.environment,r=I4(e,["sdkBaseUrl","environment"]),a=t||K4(n),i=r,o=Object.keys(i).filter(function(u){return typeof i[u]<"u"&&i[u]!==null&&i[u]!==""}).reduce(function(u,h){var d=i[h].toString();return h=U4(h),h.substring(0,4)==="data"||h==="crossorigin"?u.attributes[h]=d:u.queryParams[h]=d,u},{queryParams:{},attributes:{}}),l=o.queryParams,c=o.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(a,"?").concat(V4(l)),attributes:c}}function U4(e){var t=function(n,r){return(r?"-":"")+n.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function V4(e){var t="";return Object.keys(e).forEach(function(n){t.length!==0&&(t+="&"),t+=n+"="+e[n]}),t}function K4(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function NN(e,t){t===void 0&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach(function(r){n.setAttribute(r,t[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",t["data-csp-nonce"])}),n}function W4(e,t){if(t===void 0&&(t=Promise),bN(e,t),typeof document>"u")return t.resolve(null);var n=H4(e),r=n.url,a=n.attributes,i=a["data-namespace"]||"paypal",o=Ig(i);return a["data-js-sdk-library"]||(a["data-js-sdk-library"]="paypal-js"),B4(r,a)&&o?t.resolve(o):Y4({url:r,attributes:a},t).then(function(){var l=Ig(i);if(l)return l;throw new Error("The window.".concat(i," global variable is not available."))})}function Y4(e,t){t===void 0&&(t=Promise),bN(e,t);var n=e.url,r=e.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new t(function(a,i){if(typeof document>"u")return a();$4({url:n,attributes:r,onSuccess:function(){return a()},onError:function(){var o=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function Ig(e){return window[e]}function bN(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var n=e.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var z4=function(e){var t,n=e.options,r=n===void 0?{clientId:"test"}:n,a=e.children,i=e.deferLoading,o=i===void 0?!1:i,l=N.useReducer(M4,{options:Vt(Vt({},r),(t={},t[Ga.DATA_JS_SDK_LIBRARY]=Ga.DATA_LIBRARY_VALUE,t[Ga.DATA_SDK_INTEGRATION_SOURCE]=Ga.DATA_LIBRARY_VALUE,t[ql]="".concat(yN(r)),t)),loadingStatus:o?Kn.INITIAL:Kn.PENDING}),c=l[0],u=l[1];return N.useEffect(function(){if(o===!1&&c.loadingStatus===Kn.INITIAL)return u({type:ya.LOADING_STATUS,value:Kn.PENDING});if(c.loadingStatus===Kn.PENDING){var h=!0;return W4(c.options).then(function(){h&&u({type:ya.LOADING_STATUS,value:Kn.RESOLVED})}).catch(function(d){console.error("".concat(_4," ").concat(d)),h&&u({type:ya.LOADING_STATUS,value:{state:Kn.REJECTED,message:String(d)}})}),function(){h=!1}}},[c.options,o,c.loadingStatus]),re.createElement(vN.Provider,{value:Vt(Vt({},c),{dispatch:u})},a)};function Bg(){}N.createContext({cardFieldsForm:null,fields:{},registerField:Bg,unregisterField:Bg});const q4={options:{clientId:"AWd71JYJ5rhOGMtC5FaBIss6Pv_pldqO_twujPjS7GGlGESeN1eEoOR3zqxxsZdTzOETmskFLhdcPeyg",currency:"USD",intent:"capture"}},G4=e=>Math.round(e/24e3*100)/100;function jN(e,t){return function(){return e.apply(t,arguments)}}const{toString:Q4}=Object.prototype,{getPrototypeOf:Np}=Object,vd=(e=>t=>{const n=Q4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xs=e=>(e=e.toLowerCase(),t=>vd(t)===e),wd=e=>t=>typeof t===e,{isArray:Mo}=Array,Gl=wd("undefined");function X4(e){return e!==null&&!Gl(e)&&e.constructor!==null&&!Gl(e.constructor)&&kr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const TN=xs("ArrayBuffer");function J4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&TN(e.buffer),t}const Z4=wd("string"),kr=wd("function"),kN=wd("number"),Nd=e=>e!==null&&typeof e=="object",eE=e=>e===!0||e===!1,Cu=e=>{if(vd(e)!=="object")return!1;const t=Np(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tE=xs("Date"),nE=xs("File"),rE=xs("Blob"),sE=xs("FileList"),aE=e=>Nd(e)&&kr(e.pipe),iE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||kr(e.append)&&((t=vd(e))==="formdata"||t==="object"&&kr(e.toString)&&e.toString()==="[object FormData]"))},oE=xs("URLSearchParams"),lE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Mo(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function SN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const CN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EN=e=>!Gl(e)&&e!==CN;function q0(){const{caseless:e}=EN(this)&&this||{},t={},n=(r,a)=>{const i=e&&SN(t,a)||a;Cu(t[i])&&Cu(r)?t[i]=q0(t[i],r):Cu(r)?t[i]=q0({},r):Mo(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&pc(arguments[r],n);return t}const cE=(e,t,n,{allOwnKeys:r}={})=>(pc(t,(a,i)=>{n&&kr(a)?e[i]=jN(a,n):e[i]=a},{allOwnKeys:r}),e),uE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hE=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},dE=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Np(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},fE=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},mE=e=>{if(!e)return null;if(Mo(e))return e;let t=e.length;if(!kN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},pE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Np(Uint8Array)),xE=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},gE=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},yE=xs("HTMLFormElement"),vE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),$g=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),wE=xs("RegExp"),_N=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pc(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},NE=e=>{_N(e,(t,n)=>{if(kr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(kr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bE=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Mo(e)?r(e):r(String(e).split(t)),n},jE=()=>{},TE=(e,t)=>(e=+e,Number.isFinite(e)?e:t),bf="abcdefghijklmnopqrstuvwxyz",Hg="0123456789",DN={DIGIT:Hg,ALPHA:bf,ALPHA_DIGIT:bf+bf.toUpperCase()+Hg},kE=(e=16,t=DN.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function SE(e){return!!(e&&kr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const CE=e=>{const t=new Array(10),n=(r,a)=>{if(Nd(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=Mo(r)?[]:{};return pc(r,(o,l)=>{const c=n(o,a+1);!Gl(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},EE=xs("AsyncFunction"),_E=e=>e&&(Nd(e)||kr(e))&&kr(e.then)&&kr(e.catch),me={isArray:Mo,isArrayBuffer:TN,isBuffer:X4,isFormData:iE,isArrayBufferView:J4,isString:Z4,isNumber:kN,isBoolean:eE,isObject:Nd,isPlainObject:Cu,isUndefined:Gl,isDate:tE,isFile:nE,isBlob:rE,isRegExp:wE,isFunction:kr,isStream:aE,isURLSearchParams:oE,isTypedArray:pE,isFileList:sE,forEach:pc,merge:q0,extend:cE,trim:lE,stripBOM:uE,inherits:hE,toFlatObject:dE,kindOf:vd,kindOfTest:xs,endsWith:fE,toArray:mE,forEachEntry:xE,matchAll:gE,isHTMLForm:yE,hasOwnProperty:$g,hasOwnProp:$g,reduceDescriptors:_N,freezeMethods:NE,toObjectSet:bE,toCamelCase:vE,noop:jE,toFiniteNumber:TE,findKey:SN,global:CN,isContextDefined:EN,ALPHABET:DN,generateString:kE,isSpecCompliantForm:SE,toJSONObject:CE,isAsyncFn:EE,isThenable:_E};function Ze(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}me.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const PN=Ze.prototype,AN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{AN[e]={value:e}});Object.defineProperties(Ze,AN);Object.defineProperty(PN,"isAxiosError",{value:!0});Ze.from=(e,t,n,r,a,i)=>{const o=Object.create(PN);return me.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ze.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const DE=null;function G0(e){return me.isPlainObject(e)||me.isArray(e)}function ON(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function Ug(e,t,n){return e?e.concat(t).map(function(a,i){return a=ON(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function PE(e){return me.isArray(e)&&!e.some(G0)}const AE=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function bd(e,t,n){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!me.isUndefined(w[p])});const r=n.metaTokens,a=n.visitor||h,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(me.isDate(x))return x.toISOString();if(!c&&me.isBlob(x))throw new Ze("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(x)||me.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,p,w){let v=x;if(x&&!w&&typeof x=="object"){if(me.endsWith(p,"{}"))p=r?p:p.slice(0,-2),x=JSON.stringify(x);else if(me.isArray(x)&&PE(x)||(me.isFileList(x)||me.endsWith(p,"[]"))&&(v=me.toArray(x)))return p=ON(p),v.forEach(function(y,b){!(me.isUndefined(y)||y===null)&&t.append(o===!0?Ug([p],b,i):o===null?p:p+"[]",u(y))}),!1}return G0(x)?!0:(t.append(Ug(w,p,i),u(x)),!1)}const d=[],f=Object.assign(AE,{defaultVisitor:h,convertValue:u,isVisitable:G0});function m(x,p){if(!me.isUndefined(x)){if(d.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(x),me.forEach(x,function(v,g){(!(me.isUndefined(v)||v===null)&&a.call(t,v,me.isString(g)?g.trim():g,p,f))===!0&&m(v,p?p.concat(g):[g])}),d.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Vg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bp(e,t){this._pairs=[],e&&bd(e,this,t)}const RN=bp.prototype;RN.append=function(t,n){this._pairs.push([t,n])};RN.toString=function(t){const n=t?function(r){return t.call(this,r,Vg)}:Vg;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function OE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MN(e,t,n){if(!t)return e;const r=n&&n.encode||OE,a=n&&n.serialize;let i;if(a?i=a(t,n):i=me.isURLSearchParams(t)?t.toString():new bp(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Kg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(r){r!==null&&t(r)})}}const LN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RE=typeof URLSearchParams<"u"?URLSearchParams:bp,ME=typeof FormData<"u"?FormData:null,LE=typeof Blob<"u"?Blob:null,FE={isBrowser:!0,classes:{URLSearchParams:RE,FormData:ME,Blob:LE},protocols:["http","https","file","blob","url","data"]},FN=typeof window<"u"&&typeof document<"u",IE=(e=>FN&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),BE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$E=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FN,hasStandardBrowserEnv:IE,hasStandardBrowserWebWorkerEnv:BE},Symbol.toStringTag,{value:"Module"})),ss={...$E,...FE};function HE(e,t){return bd(e,new ss.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return ss.isNode&&me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function UE(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VE(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function IN(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&me.isArray(a)?a.length:o,c?(me.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!me.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&me.isArray(a[o])&&(a[o]=VE(a[o])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const n={};return me.forEachEntry(e,(r,a)=>{t(UE(r),a,n,0)}),n}return null}function KE(e,t,n){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const xc={transitional:LN,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=me.isObject(t);if(i&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return a?JSON.stringify(IN(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HE(t,this.formSerializer).toString();if((l=me.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return bd(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),KE(t)):t}],transformResponse:[function(t){const n=this.transitional||xc.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(t&&me.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Ze.from(l,Ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{xc.headers[e]={}});const WE=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YE=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&WE[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Wg=Symbol("internals");function Zo(e){return e&&String(e).trim().toLowerCase()}function Eu(e){return e===!1||e==null?e:me.isArray(e)?e.map(Eu):String(e)}function zE(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const qE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function jf(e,t,n,r,a){if(me.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!me.isString(t)){if(me.isString(r))return t.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(t)}}function GE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function QE(e,t){const n=me.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let Sr=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,u){const h=Zo(c);if(!h)throw new Error("header name must be a non-empty string");const d=me.findKey(a,h);(!d||a[d]===void 0||u===!0||u===void 0&&a[d]!==!1)&&(a[d||c]=Eu(l))}const o=(l,c)=>me.forEach(l,(u,h)=>i(u,h,c));return me.isPlainObject(t)||t instanceof this.constructor?o(t,n):me.isString(t)&&(t=t.trim())&&!qE(t)?o(YE(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=Zo(t),t){const r=me.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return zE(a);if(me.isFunction(n))return n.call(this,a,r);if(me.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Zo(t),t){const r=me.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||jf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Zo(o),o){const l=me.findKey(r,o);l&&(!n||jf(r,r[l],l,n))&&(delete r[l],a=!0)}}return me.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||jf(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return me.forEach(this,(a,i)=>{const o=me.findKey(r,i);if(o){n[o]=Eu(a),delete n[i];return}const l=t?GE(i):String(i).trim();l!==i&&delete n[i],n[l]=Eu(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return me.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Wg]=this[Wg]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Zo(o);r[l]||(QE(a,o),r[l]=!0)}return me.isArray(t)?t.forEach(i):i(t),this}};Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Sr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});me.freezeMethods(Sr);function Tf(e,t){const n=this||xc,r=t||n,a=Sr.from(r.headers);let i=r.data;return me.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function BN(e){return!!(e&&e.__CANCEL__)}function gc(e,t,n){Ze.call(this,e??"canceled",Ze.ERR_CANCELED,t,n),this.name="CanceledError"}me.inherits(gc,Ze,{__CANCEL__:!0});function XE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const JE=ss.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];me.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),me.isString(r)&&o.push("path="+r),me.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ZE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function e_(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $N(e,t){return e&&!ZE(t)?e_(e,t):t}const t_=ss.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const l=me.isString(o)?a(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function n_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function r_(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=r[i];o||(o=u),n[a]=c,r[a]=u;let d=i,f=0;for(;d!==a;)f+=n[d++],d=d%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const m=h&&u-h;return m?Math.round(f*1e3/m):void 0}}function Yg(e,t){let n=0;const r=r_(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,l=i-n,c=r(l),u=i<=o;n=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:a};h[t?"download":"upload"]=!0,e(h)}}const s_=typeof XMLHttpRequest<"u",a_=s_&&function(e){return new Promise(function(n,r){let a=e.data;const i=Sr.from(e.headers).normalize();let{responseType:o,withXSRFToken:l}=e,c;function u(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let h;if(me.isFormData(a)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((h=i.getContentType())!==!1){const[p,...w]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];i.setContentType([p||"multipart/form-data",...w].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+w))}const f=$N(e.baseURL,e.url);d.open(e.method.toUpperCase(),MN(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function m(){if(!d)return;const p=Sr.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:e,request:d};XE(function(y){n(y),u()},function(y){r(y),u()},v),d=null}if("onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){d&&(r(new Ze("Request aborted",Ze.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new Ze("Network Error",Ze.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let w=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||LN;e.timeoutErrorMessage&&(w=e.timeoutErrorMessage),r(new Ze(w,v.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,e,d)),d=null},ss.hasStandardBrowserEnv&&(l&&me.isFunction(l)&&(l=l(e)),l||l!==!1&&t_(f))){const p=e.xsrfHeaderName&&e.xsrfCookieName&&JE.read(e.xsrfCookieName);p&&i.set(e.xsrfHeaderName,p)}a===void 0&&i.setContentType(null),"setRequestHeader"in d&&me.forEach(i.toJSON(),function(w,v){d.setRequestHeader(v,w)}),me.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",Yg(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Yg(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=p=>{d&&(r(!p||p.type?new gc(null,e,d):p),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const x=n_(f);if(x&&ss.protocols.indexOf(x)===-1){r(new Ze("Unsupported protocol "+x+":",Ze.ERR_BAD_REQUEST,e));return}d.send(a||null)})},Q0={http:DE,xhr:a_};me.forEach(Q0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zg=e=>`- ${e}`,i_=e=>me.isFunction(e)||e===null||e===!1,HN={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!i_(n)&&(r=Q0[(o=String(n)).toLowerCase()],r===void 0))throw new Ze(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(zg).join(`
`):" "+zg(i[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Q0};function kf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gc(null,e)}function qg(e){return kf(e),e.headers=Sr.from(e.headers),e.data=Tf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),HN.getAdapter(e.adapter||xc.adapter)(e).then(function(r){return kf(e),r.data=Tf.call(e,e.transformResponse,r),r.headers=Sr.from(r.headers),r},function(r){return BN(r)||(kf(e),r&&r.response&&(r.response.data=Tf.call(e,e.transformResponse,r.response),r.response.headers=Sr.from(r.response.headers))),Promise.reject(r)})}const Gg=e=>e instanceof Sr?{...e}:e;function xo(e,t){t=t||{};const n={};function r(u,h,d){return me.isPlainObject(u)&&me.isPlainObject(h)?me.merge.call({caseless:d},u,h):me.isPlainObject(h)?me.merge({},h):me.isArray(h)?h.slice():h}function a(u,h,d){if(me.isUndefined(h)){if(!me.isUndefined(u))return r(void 0,u,d)}else return r(u,h,d)}function i(u,h){if(!me.isUndefined(h))return r(void 0,h)}function o(u,h){if(me.isUndefined(h)){if(!me.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,d){if(d in t)return r(u,h);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h)=>a(Gg(u),Gg(h),!0)};return me.forEach(Object.keys(Object.assign({},e,t)),function(h){const d=c[h]||a,f=d(e[h],t[h],h);me.isUndefined(f)&&d!==l||(n[h]=f)}),n}const UN="1.6.8",jp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Qg={};jp.transitional=function(t,n,r){function a(i,o){return"[Axios v"+UN+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new Ze(a(o," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!Qg[o]&&(Qg[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};function o_(e,t,n){if(typeof e!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Ze("option "+i+" must be "+c,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+i,Ze.ERR_BAD_OPTION)}}const X0={assertOptions:o_,validators:jp},Ys=X0.validators;let Za=class{constructor(t){this.defaults=t,this.interceptors={request:new Kg,response:new Kg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xo(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&X0.assertOptions(r,{silentJSONParsing:Ys.transitional(Ys.boolean),forcedJSONParsing:Ys.transitional(Ys.boolean),clarifyTimeoutError:Ys.transitional(Ys.boolean)},!1),a!=null&&(me.isFunction(a)?n.paramsSerializer={serialize:a}:X0.assertOptions(a,{encode:Ys.function,serialize:Ys.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&me.merge(i.common,i[n.method]);i&&me.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Sr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let h,d=0,f;if(!c){const x=[qg.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,u),f=x.length,h=Promise.resolve(n);d<f;)h=h.then(x[d++],x[d++]);return h}f=l.length;let m=n;for(d=0;d<f;){const x=l[d++],p=l[d++];try{m=x(m)}catch(w){p.call(this,w);break}}try{h=qg.call(this,m)}catch(x){return Promise.reject(x)}for(d=0,f=u.length;d<f;)h=h.then(u[d++],u[d++]);return h}getUri(t){t=xo(this.defaults,t);const n=$N(t.baseURL,t.url);return MN(n,t.params,t.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(t){Za.prototype[t]=function(n,r){return this.request(xo(r||{},{method:t,url:n,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(xo(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Za.prototype[t]=n(),Za.prototype[t+"Form"]=n(!0)});let l_=class VN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new gc(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new VN(function(a){t=a}),cancel:t}}};function c_(e){return function(n){return e.apply(null,n)}}function u_(e){return me.isObject(e)&&e.isAxiosError===!0}const J0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J0).forEach(([e,t])=>{J0[t]=e});function KN(e){const t=new Za(e),n=jN(Za.prototype.request,t);return me.extend(n,Za.prototype,t,{allOwnKeys:!0}),me.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return KN(xo(e,a))},n}const $t=KN(xc);$t.Axios=Za;$t.CanceledError=gc;$t.CancelToken=l_;$t.isCancel=BN;$t.VERSION=UN;$t.toFormData=bd;$t.AxiosError=Ze;$t.Cancel=$t.CanceledError;$t.all=function(t){return Promise.all(t)};$t.spread=c_;$t.isAxiosError=u_;$t.mergeConfig=xo;$t.AxiosHeaders=Sr;$t.formToJSON=e=>IN(me.isHTMLForm(e)?new FormData(e):e);$t.getAdapter=HN.getAdapter;$t.HttpStatusCode=J0;$t.default=$t;const{Axios:I7,AxiosError:B7,CanceledError:$7,isCancel:H7,CancelToken:U7,VERSION:V7,all:K7,Cancel:W7,isAxiosError:Y7,spread:z7,toFormData:q7,AxiosHeaders:G7,HttpStatusCode:Q7,formToJSON:X7,getAdapter:J7,mergeConfig:Z7}=$t,h_="http://localhost:4040",V=$t.create({baseURL:h_,timeout:1e4,headers:{"Content-Type":"application/json"}});V.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));V.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const go={async login(e){var t;try{const n=await V.post("/auth/login",e);return n.data.success&&(localStorage.setItem("token",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user))),n.data}catch(n){throw((t=n.response)==null?void 0:t.data)||{message:"Đăng nhập thất bại"}}},async register(e){var t;try{return(await V.post("/auth/register",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||{message:"Đăng ký thất bại"}}},async logout(){localStorage.removeItem("token"),localStorage.removeItem("user")},getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},getToken(){return localStorage.getItem("token")},isAuthenticated(){return!!localStorage.getItem("token")},isAdmin(){return JSON.parse(localStorage.getItem("user")||"{}").role==="ADMIN"},isEmployee(){return JSON.parse(localStorage.getItem("user")||"{}").role==="EMPLOYEE"},isUser(){return JSON.parse(localStorage.getItem("user")||"{}").role==="CUSTOMER"}},yo=e=>{var n;if(!e)return"Người dùng";const t=[e.hoTen,e.tenNhanVien,e.tenKhachHang,e.name,e.fullName,e.ten,`${e.ho||""} ${e.ten||""}`.trim(),`${e.firstName||""} ${e.lastName||""}`.trim(),(n=e.email)==null?void 0:n.split("@")[0]];for(const r of t)if(r&&r.trim()&&r.trim()!=="undefined undefined")return r.trim();switch(e.role){case"ADMIN":return"Quản lý";case"EMPLOYEE":return"Lễ tân";case"CUSTOMER":return"Khách hàng";default:return"Người dùng"}},Z0=e=>{switch(e){case"ADMIN":return"Quản lý";case"EMPLOYEE":return"Lễ tân";case"CUSTOMER":return"Khách hàng";default:return"Người dùng"}},qc=(e,t)=>{if(!e)return null;const n=yo(e);return{...e,role:t||e.role||"CUSTOMER",hoTen:n,email:e.email||"",username:e.username||"",id:e.id||e.idNv||e.maNhanVien||e.maKhachHang||e.userId,idNv:e.idNv||e.maNhanVien||e.id,maNhanVien:e.maNhanVien||e.idNv||e.id,cccd:e.cccd||e.id,soDienThoai:e.soDienThoai||e.phone||e.phoneNumber||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||e.birthDate||"",gioiTinh:e.gioiTinh||e.gender||""}},WN=N.createContext(),Pr=()=>{const e=N.useContext(WN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},d_=({children:e})=>{const[t,n]=N.useState(null),[r,a]=N.useState(!0),[i,o]=N.useState(localStorage.getItem("token"));N.useEffect(()=>{(async()=>{const p=localStorage.getItem("token"),w=localStorage.getItem("user");if(p&&w)try{o(p),n(JSON.parse(w))}catch(v){console.error("Error parsing saved user:",v),localStorage.removeItem("token"),localStorage.removeItem("user")}a(!1)})()},[]);const m={user:t,setUser:n,token:i,loading:r,login:async x=>{try{const p=await go.login(x);if(p.statusCode===200||p.success){const{token:w,role:v,nhanVien:g,khachHang:y,user:b}=p;let j={};return g?j=qc(g,v||"EMPLOYEE"):y?j=qc(y,"CUSTOMER"):b?j=qc(b,v||b.role||"CUSTOMER"):j=qc({...p,email:p.email||x.email||""},v||p.role||"CUSTOMER"),o(w),n(j),localStorage.setItem("token",w),localStorage.setItem("user",JSON.stringify(j)),{success:!0,user:j}}else return{success:!1,message:p.message||"Đăng nhập thất bại"}}catch(p){return console.error("Login error:",p),{success:!1,message:"Đăng nhập thất bại"}}},register:async x=>{try{const p=await go.register(x);return p.statusCode===200?{success:!0,message:"Đăng ký thành công"}:{success:!1,message:p.message}}catch(p){return console.error("Register error:",p),{success:!1,message:"Đăng ký thất bại"}}},logout:()=>{n(null),o(null),localStorage.removeItem("token"),localStorage.removeItem("user")},updateUser:x=>{const p={...t,...x};n(p),localStorage.setItem("user",JSON.stringify(p))},isAuthenticated:()=>!!i&&!!t,hasRole:x=>t?typeof x=="string"?t.role===x:x.includes(t.role):!1};return s.jsx(WN.Provider,{value:m,children:e})},Gc=({children:e,allowedRoles:t=[]})=>{const{isAuthenticated:n,hasRole:r,loading:a}=Pr(),i=Us();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):n()?t.length>0&&!r(t)?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"403"}),s.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này"})]})}):e:s.jsx(XS,{to:"/login",state:{from:i},replace:!0})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YN=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...m_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YN("lucide",a),...l},[...o.map(([u,h])=>N.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const n=N.forwardRef(({className:r,...a},i)=>N.createElement(p_,{ref:i,iconNode:t,className:YN(`lucide-${f_(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=ke("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=ke("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ke("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=ke("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=ke("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ke("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ke("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ke("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ke("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ke("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ke("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ke("Microwave",[["rect",{width:"20",height:"15",x:"2",y:"4",rx:"2",key:"2no95f"}],["rect",{width:"8",height:"7",x:"6",y:"8",rx:"1",key:"zh9wx"}],["path",{d:"M18 8v7",key:"o5zi4n"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 19v2",key:"1dawf0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ke("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ke("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=ke("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=ke("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=ke("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ke("Refrigerator",[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=ke("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ke("ShowerHead",[["path",{d:"m4 4 2.5 2.5",key:"uv2vmf"}],["path",{d:"M13.5 6.5a4.95 4.95 0 0 0-7 7",key:"frdkwv"}],["path",{d:"M15 5 5 15",key:"1ag8rq"}],["path",{d:"M14 17v.01",key:"eokfpp"}],["path",{d:"M10 16v.01",key:"14uyyl"}],["path",{d:"M13 13v.01",key:"1v1k97"}],["path",{d:"M16 10v.01",key:"5169yg"}],["path",{d:"M11 20v.01",key:"cj92p8"}],["path",{d:"M17 14v.01",key:"11cswd"}],["path",{d:"M20 11v.01",key:"19e0od"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ke("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ke("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 11v5a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H6v-2a2 2 0 0 0-4 0Z",key:"u5qfb7"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ke("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ke("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ke("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ke("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ke("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ke("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ke("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function JN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=JN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=JN(e))&&(r&&(r+=" "),r+=t);return r}function ui(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xl(e){if(!ui(e)&&typeof e!="number")return!1;const t=Fe(e);return!isNaN(Number(t))}const J_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z_=(e,t,n)=>{let r;const a=J_[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const eD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rD={date:Cf({formats:eD,defaultWidth:"full"}),time:Cf({formats:tD,defaultWidth:"full"}),dateTime:Cf({formats:nD,defaultWidth:"full"})},sD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aD=(e,t,n,r)=>sD[e];function el(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const iD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dD=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fD={ordinalNumber:dD,era:el({values:iD,defaultWidth:"wide"}),quarter:el({values:oD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:el({values:lD,defaultWidth:"wide"}),day:el({values:cD,defaultWidth:"wide"}),dayPeriod:el({values:uD,defaultWidth:"wide",formattingValues:hD,defaultFormattingWidth:"wide"})};function tl(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pD(l,d=>d.test(o)):mD(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function mD(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function pD(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function xD(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const gD=/^(\d+)(th|st|nd|rd)?/i,yD=/\d+/i,vD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wD={any:[/^b/i,/^(a|c)/i]},ND={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bD={any:[/1/i,/2/i,/3/i,/4/i]},jD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ED={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_D={ordinalNumber:xD({matchPattern:gD,parsePattern:yD,valueCallback:e=>parseInt(e,10)}),era:tl({matchPatterns:vD,defaultMatchWidth:"wide",parsePatterns:wD,defaultParseWidth:"any"}),quarter:tl({matchPatterns:ND,defaultMatchWidth:"wide",parsePatterns:bD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tl({matchPatterns:jD,defaultMatchWidth:"wide",parsePatterns:TD,defaultParseWidth:"any"}),day:tl({matchPatterns:kD,defaultMatchWidth:"wide",parsePatterns:SD,defaultParseWidth:"any"}),dayPeriod:tl({matchPatterns:CD,defaultMatchWidth:"any",parsePatterns:ED,defaultParseWidth:"any"})},ZN={code:"en-US",formatDistance:Z_,formatLong:rD,formatRelative:aD,localize:fD,match:_D,options:{weekStartsOn:0,firstWeekContainsDate:1}};let DD={};function wi(){return DD}const e2=6048e5,PD=864e5,kd=6e4,Sd=36e5,AD=1e3;function os(e){const t=Fe(e);return t.setHours(0,0,0,0),t}function gh(e){const t=Fe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Jl(e,t){const n=os(e),r=os(t),a=+n-gh(n),i=+r-gh(r);return Math.round((a-i)/PD)}function ct(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Cd(e){const t=Fe(e),n=ct(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function OD(e){const t=Fe(e);return Jl(t,Cd(t))+1}function Fs(e,t){var l,c,u,h;const n=wi(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=Fe(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function jo(e){return Fs(e,{weekStartsOn:1})}function t2(e){const t=Fe(e),n=t.getFullYear(),r=ct(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=jo(r),i=ct(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=jo(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function RD(e){const t=t2(e),n=ct(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),jo(n)}function Sp(e){const t=Fe(e),n=+jo(t)-+RD(t);return Math.round(n/e2)+1}function Cp(e,t){var h,d,f,m;const n=Fe(e),r=n.getFullYear(),a=wi(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=ct(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Fs(o,t),c=ct(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Fs(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function MD(e,t){var l,c,u,h;const n=wi(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=Cp(e,t),i=ct(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Fs(i,t)}function n2(e,t){const n=Fe(e),r=+Fs(n,t)-+MD(n,t);return Math.round(r/e2)+1}function it(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const zs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return it(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):it(n+1,2)},d(e,t){return it(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return it(e.getHours()%12||12,t.length)},H(e,t){return it(e.getHours(),t.length)},m(e,t){return it(e.getMinutes(),t.length)},s(e,t){return it(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return it(a,t.length)}},Ci={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ty={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return zs.y(e,t)},Y:function(e,t,n,r){const a=Cp(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return it(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):it(i,t.length)},R:function(e,t){const n=t2(e);return it(n,t.length)},u:function(e,t){const n=e.getFullYear();return it(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return it(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return it(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return zs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return it(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=n2(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):it(a,t.length)},I:function(e,t,n){const r=Sp(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):it(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):zs.d(e,t)},D:function(e,t,n){const r=OD(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):it(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return it(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return it(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return it(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Ci.noon:r===0?a=Ci.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Ci.evening:r>=12?a=Ci.afternoon:r>=4?a=Ci.morning:a=Ci.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):zs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):zs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):zs.s(e,t)},S:function(e,t){return zs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ry(r);case"XXXX":case"XX":return Ua(r);case"XXXXX":case"XXX":default:return Ua(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ry(r);case"xxxx":case"xx":return Ua(r);case"xxxxx":case"xxx":default:return Ua(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ny(r,":");case"OOOO":default:return"GMT"+Ua(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ny(r,":");case"zzzz":default:return"GMT"+Ua(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return it(r,t.length)},T:function(e,t,n){const r=e.getTime();return it(r,t.length)}};function ny(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+it(i,2)}function ry(e,t){return e%60===0?(e>0?"-":"+")+it(Math.abs(e)/60,2):Ua(e,t)}function Ua(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=it(Math.trunc(r/60),2),i=it(r%60,2);return n+a+t+i}const sy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},r2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},LD=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return sy(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",sy(r,t)).replace("{{time}}",r2(a,t))},yh={p:r2,P:LD},FD=/^D+$/,ID=/^Y+$/,BD=["D","DD","YY","YYYY"];function s2(e){return FD.test(e)}function a2(e){return ID.test(e)}function sm(e,t,n){const r=$D(e,t,n);if(console.warn(r),BD.includes(e))throw new RangeError(r)}function $D(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VD=/^'([^]*?)'?$/,KD=/''/g,WD=/[a-zA-Z]/;function ay(e,t,n){var h,d,f,m,x,p,w,v;const r=wi(),a=(n==null?void 0:n.locale)??r.locale??ZN,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((v=(w=r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??0,l=Fe(e);if(!Xl(l))throw new RangeError("Invalid time value");let c=t.match(UD).map(g=>{const y=g[0];if(y==="p"||y==="P"){const b=yh[y];return b(g,a.formatLong)}return g}).join("").match(HD).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:YD(g)};if(ty[y])return{isToken:!0,value:g};if(y.match(WD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&a2(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&s2(y))&&sm(y,t,String(e));const b=ty[y[0]];return b(l,y,a.localize,u)}).join("")}function YD(e){const t=e.match(VD);return t?t[1].replace(KD,"'"):e}function Ep(e,t){const n=+Fe(e);return ct(e,n+t)}function am(e,t){return Ep(e,t*kd)}function zD(e,t){return Ep(e,t*Sd)}function La(e,t){const n=Fe(e);return isNaN(t)?ct(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function vh(e,t){const n=t*7;return La(e,n)}function Wr(e,t){const n=Fe(e);if(isNaN(t))return ct(e,NaN);if(!t)return n;const r=n.getDate(),a=ct(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}function _p(e,t){const n=t*3;return Wr(e,n)}function Ss(e,t){return Wr(e,t*12)}function qD(e,t){return La(e,-1)}function iy(e,t){return vh(e,-1)}function To(e,t){return Wr(e,-t)}function i2(e,t){return _p(e,-1)}function ko(e,t){return Ss(e,-t)}function Cs(e){return Fe(e).getSeconds()}function ls(e){return Fe(e).getMinutes()}function cs(e){return Fe(e).getHours()}function GD(e){return Fe(e).getDay()}function oy(e){return Fe(e).getDate()}function Ln(e){return Fe(e).getMonth()}function ti(e){const t=Fe(e);return Math.trunc(t.getMonth()/3)+1}function Ge(e){return Fe(e).getFullYear()}function im(e){return Fe(e).getTime()}function Pu(e,t){const n=Fe(e);return n.setSeconds(t),n}function Au(e,t){const n=Fe(e);return n.setMinutes(t),n}function Ou(e,t){const n=Fe(e);return n.setHours(t),n}function QD(e){const t=Fe(e),n=t.getFullYear(),r=t.getMonth(),a=ct(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function On(e,t){const n=Fe(e),r=n.getFullYear(),a=n.getDate(),i=ct(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=QD(i);return n.setMonth(t,Math.min(a,o)),n}function Ri(e,t){const n=Fe(e),r=Math.trunc(n.getMonth()/3)+1,a=t-r;return On(n,n.getMonth()+a*3)}function Xr(e,t){const n=Fe(e);return isNaN(+n)?ct(e,NaN):(n.setFullYear(t),n)}function ly(e){let t;return e.forEach(n=>{const r=Fe(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function cy(e){let t;return e.forEach(function(n){const r=Fe(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function wh(e,t){const n=Fe(e),r=Fe(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function Nh(e,t){const n=Fe(e),r=Fe(t);return n.getFullYear()-r.getFullYear()}function bh(e,t){const n=Fe(e),r=Fe(t),a=n.getFullYear()-r.getFullYear(),i=ti(n)-ti(r);return a*4+i}function o2(e){const t=Fe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function om(e){const t=Fe(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function lm(e){const t=Fe(e);return t.setHours(23,59,59,999),t}function XD(e,t){var l,c;const n=wi(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=Fe(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function JD(e){const t=Fe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function l2(e){const t=Fe(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function ZD(e,t){const n=Fe(e),r=Fe(t);return+n==+r}function eP(e,t){const n=os(e),r=os(t);return+n==+r}function tP(e,t){const n=Fe(e),r=Fe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function nP(e,t){const n=Fe(e),r=Fe(t);return n.getFullYear()===r.getFullYear()}function rP(e,t){const n=om(e),r=om(t);return+n==+r}function ka(e,t){const n=Fe(e),r=Fe(t);return n.getTime()>r.getTime()}function hi(e,t){const n=Fe(e),r=Fe(t);return+n<+r}function Zl(e,t){const n=+Fe(e),[r,a]=[+Fe(t.start),+Fe(t.end)].sort((i,o)=>i-o);return n>=r&&n<=a}function sP(){return Object.assign({},wi())}function aP(e,t){const n=t instanceof Date?ct(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const iP=10;class c2{constructor(){Me(this,"subPriority",0)}validate(t,n){return!0}}class oP extends c2{constructor(t,n,r,a,i){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class lP extends c2{constructor(){super(...arguments);Me(this,"priority",iP);Me(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ct(n,aP(n,Date))}}class st{run(t,n,r,a){const i=this.parse(t,n,r,a);return i?{setter:new oP(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,r){return!0}}class cP extends st{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,r,a){return r.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ts={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Bt(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ct(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ns(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*Sd+i*kd+o*AD),rest:t.slice(n[0].length)}}function u2(e){return Ct(It.anyDigitsSigned,e)}function Mt(e,t){switch(e){case 1:return Ct(It.singleDigit,t);case 2:return Ct(It.twoDigits,t);case 3:return Ct(It.threeDigits,t);case 4:return Ct(It.fourDigits,t);default:return Ct(new RegExp("^\\d{1,"+e+"}"),t)}}function jh(e,t){switch(e){case 1:return Ct(It.singleDigitSigned,t);case 2:return Ct(It.twoDigitsSigned,t);case 3:return Ct(It.threeDigitsSigned,t);case 4:return Ct(It.fourDigitsSigned,t);default:return Ct(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Dp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function h2(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const i=r+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return n?a:1-a}function d2(e){return e%400===0||e%4===0&&e%100!==0}class uP extends st{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Bt(Mt(4,n),i);case"yo":return Bt(a.ordinalNumber(n,{unit:"year"}),i);default:return Bt(Mt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a){const i=n.getFullYear();if(a.isTwoDigitYear){const l=h2(a.year,i);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class hP extends st{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Bt(Mt(4,n),i);case"Yo":return Bt(a.ordinalNumber(n,{unit:"year"}),i);default:return Bt(Mt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a,i){const o=Cp(n,i);if(a.isTwoDigitYear){const c=h2(a.year,o);return n.setFullYear(c,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Fs(n,i)}const l=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Fs(n,i)}}class dP extends st{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return jh(r==="R"?4:r.length,n)}set(n,r,a){const i=ct(n,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),jo(i)}}class fP extends st{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return jh(r==="u"?4:r.length,n)}set(n,r,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class mP extends st{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"Q":case"QQ":return Mt(r.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class pP extends st{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"q":case"qq":return Mt(r.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class xP extends st{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(n,r,a){const i=o=>o-1;switch(r){case"M":return Bt(Ct(It.month,n),i);case"MM":return Bt(Mt(2,n),i);case"Mo":return Bt(a.ordinalNumber(n,{unit:"month"}),i);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class gP extends st{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,a){const i=o=>o-1;switch(r){case"L":return Bt(Ct(It.month,n),i);case"LL":return Bt(Mt(2,n),i);case"Lo":return Bt(a.ordinalNumber(n,{unit:"month"}),i);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function yP(e,t,n){const r=Fe(e),a=n2(r,n)-t;return r.setDate(r.getDate()-a*7),r}class vP extends st{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,a){switch(r){case"w":return Ct(It.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return Mt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a,i){return Fs(yP(n,a,i),i)}}function wP(e,t){const n=Fe(e),r=Sp(n)-t;return n.setDate(n.getDate()-r*7),n}class NP extends st{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,a){switch(r){case"I":return Ct(It.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return Mt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a){return jo(wP(n,a))}}const bP=[31,28,31,30,31,30,31,31,30,31,30,31],jP=[31,29,31,30,31,30,31,31,30,31,30,31];class TP extends st{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"d":return Ct(It.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return Mt(r.length,n)}}validate(n,r){const a=n.getFullYear(),i=d2(a),o=n.getMonth();return i?r>=1&&r<=jP[o]:r>=1&&r<=bP[o]}set(n,r,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class kP extends st{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,a){switch(r){case"D":case"DD":return Ct(It.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return Mt(r.length,n)}}validate(n,r){const a=n.getFullYear();return d2(a)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function Pp(e,t,n){var d,f,m,x;const r=wi(),a=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=Fe(e),o=i.getDay(),c=(t%7+7)%7,u=7-a,h=t<0||t>6?t-(o+u)%7:(c+u)%7-(o+u)%7;return La(i,h)}class SP extends st{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=Pp(n,a,i),n.setHours(0,0,0,0),n}}class CP extends st{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return Bt(Mt(r.length,n),o);case"eo":return Bt(a.ordinalNumber(n,{unit:"day"}),o);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=Pp(n,a,i),n.setHours(0,0,0,0),n}}class EP extends st{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return Bt(Mt(r.length,n),o);case"co":return Bt(a.ordinalNumber(n,{unit:"day"}),o);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=Pp(n,a,i),n.setHours(0,0,0,0),n}}function _P(e){let n=Fe(e).getDay();return n===0&&(n=7),n}function DP(e,t){const n=Fe(e),r=_P(n),a=t-r;return La(n,a)}class PP extends st{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,a){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return Mt(r.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return Bt(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Bt(a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Bt(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Bt(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,a){return n=DP(n,a),n.setHours(0,0,0,0),n}}class AP extends st{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(Dp(a),0,0,0),n}}class OP extends st{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(Dp(a),0,0,0),n}}class RP extends st{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(Dp(a),0,0,0),n}}class MP extends st{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,a){switch(r){case"h":return Ct(It.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return Mt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,a){const i=n.getHours()>=12;return i&&a<12?n.setHours(a+12,0,0,0):!i&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class LP extends st{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,a){switch(r){case"H":return Ct(It.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return Mt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,a){return n.setHours(a,0,0,0),n}}class FP extends st{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,a){switch(r){case"K":return Ct(It.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return Mt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class IP extends st{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,a){switch(r){case"k":return Ct(It.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return Mt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,a){const i=a<=24?a%24:a;return n.setHours(i,0,0,0),n}}class BP extends st{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"m":return Ct(It.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return Mt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setMinutes(a,0,0),n}}class $P extends st{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"s":return Ct(It.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return Mt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setSeconds(a,0),n}}class HP extends st{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(n,r){const a=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Bt(Mt(r.length,n),a)}set(n,r,a){return n.setMilliseconds(a),n}}class UP extends st{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ns(ts.basicOptionalMinutes,n);case"XX":return ns(ts.basic,n);case"XXXX":return ns(ts.basicOptionalSeconds,n);case"XXXXX":return ns(ts.extendedOptionalSeconds,n);case"XXX":default:return ns(ts.extended,n)}}set(n,r,a){return r.timestampIsSet?n:ct(n,n.getTime()-gh(n)-a)}}class VP extends st{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ns(ts.basicOptionalMinutes,n);case"xx":return ns(ts.basic,n);case"xxxx":return ns(ts.basicOptionalSeconds,n);case"xxxxx":return ns(ts.extendedOptionalSeconds,n);case"xxx":default:return ns(ts.extended,n)}}set(n,r,a){return r.timestampIsSet?n:ct(n,n.getTime()-gh(n)-a)}}class KP extends st{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(n){return u2(n)}set(n,r,a){return[ct(n,a*1e3),{timestampIsSet:!0}]}}class WP extends st{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(n){return u2(n)}set(n,r,a){return[ct(n,a),{timestampIsSet:!0}]}}const YP={G:new cP,y:new uP,Y:new hP,R:new dP,u:new fP,Q:new mP,q:new pP,M:new xP,L:new gP,w:new vP,I:new NP,d:new TP,D:new kP,E:new SP,e:new CP,c:new EP,i:new PP,a:new AP,b:new OP,B:new RP,h:new MP,H:new LP,K:new FP,k:new IP,m:new BP,s:new $P,S:new HP,X:new UP,x:new VP,t:new KP,T:new WP},zP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GP=/^'([^]*?)'?$/,QP=/''/g,XP=/\S/,JP=/[a-zA-Z]/;function Ef(e,t,n,r){var p,w,v,g,y,b,j,C;const a=sP(),i=(r==null?void 0:r.locale)??a.locale??ZN,o=(r==null?void 0:r.firstWeekContainsDate)??((w=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(v=a.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((b=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??a.weekStartsOn??((C=(j=a.locale)==null?void 0:j.options)==null?void 0:C.weekStartsOn)??0;if(t==="")return e===""?Fe(n):ct(n,NaN);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},u=[new lP],h=t.match(qP).map(T=>{const k=T[0];if(k in yh){const D=yh[k];return D(T,i.formatLong)}return T}).join("").match(zP),d=[];for(let T of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&a2(T)&&sm(T,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&s2(T)&&sm(T,t,e);const k=T[0],D=YP[k];if(D){const{incompatibleTokens:H}=D;if(Array.isArray(H)){const B=d.find(W=>H.includes(W.token)||W.token===k);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${T}\` at the same time`)}else if(D.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);d.push({token:k,fullToken:T});const O=D.run(e,T,i.match,c);if(!O)return ct(n,NaN);u.push(O.setter),e=O.rest}else{if(k.match(JP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(T==="''"?T="'":k==="'"&&(T=ZP(T)),e.indexOf(T)===0)e=e.slice(T.length);else return ct(n,NaN)}}if(e.length>0&&XP.test(e))return ct(n,NaN);const f=u.map(T=>T.priority).sort((T,k)=>k-T).filter((T,k,D)=>D.indexOf(T)===k).map(T=>u.filter(k=>k.priority===T).sort((k,D)=>D.subPriority-k.subPriority)).map(T=>T[0]);let m=Fe(n);if(isNaN(m.getTime()))return ct(n,NaN);const x={};for(const T of f){if(!T.validate(m,c))return ct(n,NaN);const k=T.set(m,x,c);Array.isArray(k)?(m=k[0],Object.assign(x,k[1])):m=k}return ct(n,m)}function ZP(e){return e.match(GP)[1].replace(QP,"'")}function e3(e,t){const r=s3(e);let a;if(r.date){const c=a3(r.date,2);a=i3(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(r.time&&(o=o3(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=l3(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Xc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},t3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,n3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,r3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function s3(e){const t={},n=e.split(Xc.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Xc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Xc.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Xc.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function a3(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function i3(e,t){if(t===null)return new Date(NaN);const n=e.match(t3);if(!n)return new Date(NaN);const r=!!n[4],a=nl(n[1]),i=nl(n[2])-1,o=nl(n[3]),l=nl(n[4]),c=nl(n[5])-1;if(r)return f3(t,l,c)?c3(t,l,c):new Date(NaN);{const u=new Date(0);return!h3(t,i,o)||!d3(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function nl(e){return e?parseInt(e):1}function o3(e){const t=e.match(n3);if(!t)return NaN;const n=_f(t[1]),r=_f(t[2]),a=_f(t[3]);return m3(n,r,a)?n*Sd+r*kd+a*1e3:NaN}function _f(e){return e&&parseFloat(e.replace(",","."))||0}function l3(e){if(e==="Z")return 0;const t=e.match(r3);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return p3(r,a)?n*(r*Sd+a*kd):NaN}function c3(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const u3=[31,null,31,30,31,30,31,31,30,31,30,31];function f2(e){return e%400===0||e%4===0&&e%100!==0}function h3(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(u3[t]||(f2(e)?29:28))}function d3(e,t){return t>=1&&t<=(f2(e)?366:365)}function f3(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function m3(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function p3(e,t){return t>=0&&t<=59}function x3(e,t){return Ep(e,t*1e3)}function g3(e,t){let n=Fe(e);return isNaN(+n)?ct(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=On(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function y3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cm(e,t)}function cm(e,t){return cm=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},cm(e,t)}function v3(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function uy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w3(e,t,n){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n)}function N3(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&w3(e,t,n))return!0;e=e.parentNode||e.host}return e}function b3(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var j3=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),t}};function T3(e){return e===void 0&&(e=0),function(){return++e}}var k3=T3(),um,Jc={},Df={},S3=["touchstart","touchmove"],C3="ignore-react-onclickoutside";function hy(e,t){var n={},r=S3.indexOf(t)!==-1;return r&&um&&(n.passive=!e.props.preventDefault),n}function Ed(e,t){var n,r,a=e.displayName||e.name||"Component";return r=n=function(i){y3(o,i);function o(c){var u;return u=i.call(this,c)||this,u.__outsideClickHandler=function(h){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(h);return}var d=u.getInstance();if(typeof d.props.handleClickOutside=="function"){d.props.handleClickOutside(h);return}if(typeof d.handleClickOutside=="function"){d.handleClickOutside(h);return}throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var h=u.getInstance();return typeof h.setClickOutsideRef=="function"?h.setClickOutsideRef():ud.findDOMNode(h)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||Df[u._uid])){typeof um>"u"&&(um=j3()),Df[u._uid]=!0;var h=u.props.eventTypes;h.forEach||(h=[h]),Jc[u._uid]=function(d){if(u.componentNode!==null&&(u.props.preventDefault&&d.preventDefault(),u.props.stopPropagation&&d.stopPropagation(),!(u.props.excludeScrollbar&&b3(d)))){var f=d.composed&&d.composedPath&&d.composedPath().shift()||d.target;N3(f,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(d)}},h.forEach(function(d){document.addEventListener(d,Jc[u._uid],hy(uy(u),d))})}},u.disableOnClickOutside=function(){delete Df[u._uid];var h=Jc[u._uid];if(h&&typeof document<"u"){var d=u.props.eventTypes;d.forEach||(d=[d]),d.forEach(function(f){return document.removeEventListener(f,h,hy(uy(u),f))}),delete Jc[u._uid]}},u.getRef=function(h){return u.instanceRef=h},u._uid=k3(),u}var l=o.prototype;return l.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},l.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},l.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},l.componentWillUnmount=function(){this.disableOnClickOutside()},l.render=function(){var u=this.props;u.excludeScrollbar;var h=v3(u,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?h.ref=this.getRef:h.wrappedRef=this.getRef,h.disableOnClickOutside=this.disableOnClickOutside,h.enableOnClickOutside=this.enableOnClickOutside,N.createElement(e,h)},o}(N.Component),n.displayName="OnClickOutside("+a+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:C3,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},r}function Fo(e){return m2(e)?(e.nodeName||"").toLowerCase():"#document"}function dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vs(e){var t;return(t=(m2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m2(e){return e instanceof Node||e instanceof dr(e).Node}function zn(e){return e instanceof Element||e instanceof dr(e).Element}function fs(e){return e instanceof HTMLElement||e instanceof dr(e).HTMLElement}function dy(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dr(e).ShadowRoot}function wc(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function E3(e){return["table","td","th"].includes(Fo(e))}function Ap(e){const t=Op(),n=Yr(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _3(e){let t=Sa(e);for(;fs(t)&&!So(t);){if(Ap(t))return t;t=Sa(t)}return null}function Op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function So(e){return["html","body","#document"].includes(Fo(e))}function Yr(e){return dr(e).getComputedStyle(e)}function _d(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Sa(e){if(Fo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dy(e)&&e.host||Vs(e);return dy(t)?t.host:t}function p2(e){const t=Sa(e);return So(t)?e.ownerDocument?e.ownerDocument.body:e.body:fs(t)&&wc(t)?t:p2(t)}function ec(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=p2(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=dr(a);return i?t.concat(o,o.visualViewport||[],wc(a)?a:[],o.frameElement&&n?ec(o.frameElement):[]):t.concat(a,ec(a,[],n))}const Co=Math.min,ni=Math.max,Th=Math.round,Zc=Math.floor,Ca=e=>({x:e,y:e}),D3={left:"right",right:"left",bottom:"top",top:"bottom"},P3={start:"end",end:"start"};function A3(e,t,n){return ni(e,Co(t,n))}function Dd(e,t){return typeof e=="function"?e(t):e}function Eo(e){return e.split("-")[0]}function Nc(e){return e.split("-")[1]}function O3(e){return e==="x"?"y":"x"}function Rp(e){return e==="y"?"height":"width"}function Mp(e){return["top","bottom"].includes(Eo(e))?"y":"x"}function Lp(e){return O3(Mp(e))}function R3(e,t,n){n===void 0&&(n=!1);const r=Nc(e),a=Lp(e),i=Rp(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=kh(o)),[o,kh(o)]}function M3(e){const t=kh(e);return[hm(e),t,hm(t)]}function hm(e){return e.replace(/start|end/g,t=>P3[t])}function L3(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function F3(e,t,n,r){const a=Nc(e);let i=L3(Eo(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(hm)))),i}function kh(e){return e.replace(/left|right|bottom|top/g,t=>D3[t])}function I3(e){return{top:0,right:0,bottom:0,left:0,...e}}function x2(e){return typeof e!="number"?I3(e):{top:e,right:e,bottom:e,left:e}}function Sh(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function fy(e,t,n){let{reference:r,floating:a}=e;const i=Mp(t),o=Lp(t),l=Rp(o),c=Eo(t),u=i==="y",h=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-a.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-a.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Nc(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const B3=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:d}=fy(u,r,c),f=r,m={},x=0;for(let p=0;p<l.length;p++){const{name:w,fn:v}=l[p],{x:g,y,data:b,reset:j}=await v({x:h,y:d,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});h=g??h,d=y??d,m={...m,[w]:{...m[w],...b}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:h,y:d}=fy(u,f,c)),p=-1)}return{x:h,y:d,placement:f,strategy:a,middlewareData:m}};async function $3(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=Dd(t,e),x=x2(m),w=l[f?d==="floating"?"reference":"floating":d],v=Sh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),g=d==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},j=Sh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:y,strategy:c}):g);return{top:(v.top-j.top+x.top)/b.y,bottom:(j.bottom-v.bottom+x.bottom)/b.y,left:(v.left-j.left+x.left)/b.x,right:(j.right-v.right+x.right)/b.x}}const H3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=Dd(e,t)||{};if(u==null)return{};const d=x2(h),f={x:n,y:r},m=Lp(a),x=Rp(m),p=await o.getDimensions(u),w=m==="y",v=w?"top":"left",g=w?"bottom":"right",y=w?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[m]-f[m]-i.floating[x],j=f[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=C?C[y]:0;(!T||!await(o.isElement==null?void 0:o.isElement(C)))&&(T=l.floating[y]||i.floating[x]);const k=b/2-j/2,D=T/2-p[x]/2-1,H=Co(d[v],D),O=Co(d[g],D),B=H,W=T-p[x]-O,ue=T/2-p[x]/2+k,G=A3(B,ue,W),I=!c.arrow&&Nc(a)!=null&&ue!==G&&i.reference[x]/2-(ue<B?H:O)-p[x]/2<0,K=I?ue<B?ue-B:ue-W:0;return{[m]:f[m]+K,data:{[m]:G,centerOffset:ue-G-K,...I&&{alignmentOffset:K}},reset:I}}}),U3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...w}=Dd(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Eo(a),g=Eo(l)===l,y=await(c.isRTL==null?void 0:c.isRTL(u.floating)),b=f||(g||!p?[kh(l)]:M3(l));!f&&x!=="none"&&b.push(...F3(l,p,x,y));const j=[l,...b],C=await $3(t,w),T=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&T.push(C[v]),d){const B=R3(a,o,y);T.push(C[B[0]],C[B[1]])}if(k=[...k,{placement:a,overflows:T}],!T.every(B=>B<=0)){var D,H;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,W=j[B];if(W)return{data:{index:B,overflows:k},reset:{placement:W}};let ue=(H=k.filter(G=>G.overflows[0]<=0).sort((G,I)=>G.overflows[1]-I.overflows[1])[0])==null?void 0:H.placement;if(!ue)switch(m){case"bestFit":{var O;const G=(O=k.map(I=>[I.placement,I.overflows.filter(K=>K>0).reduce((K,se)=>K+se,0)]).sort((I,K)=>I[1]-K[1])[0])==null?void 0:O[0];G&&(ue=G);break}case"initialPlacement":ue=l;break}if(a!==ue)return{reset:{placement:ue}}}return{}}}};async function V3(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Eo(n),l=Nc(n),c=Mp(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,d=Dd(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*h,y:f*u}:{x:f*u,y:m*h}}const K3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await V3(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}};function g2(e){const t=Yr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=fs(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Th(n)!==i||Th(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Fp(e){return zn(e)?e:e.contextElement}function to(e){const t=Fp(e);if(!fs(t))return Ca(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=g2(t);let o=(i?Th(n.width):n.width)/r,l=(i?Th(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const W3=Ca(0);function y2(e){const t=dr(e);return!Op()||!t.visualViewport?W3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Y3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dr(e)?!1:t}function di(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Fp(e);let o=Ca(1);t&&(r?zn(r)&&(o=to(r)):o=to(e));const l=Y3(i,n,r)?y2(i):Ca(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,h=a.width/o.x,d=a.height/o.y;if(i){const f=dr(i),m=r&&zn(r)?dr(r):r;let x=f,p=x.frameElement;for(;p&&r&&m!==x;){const w=to(p),v=p.getBoundingClientRect(),g=Yr(p),y=v.left+(p.clientLeft+parseFloat(g.paddingLeft))*w.x,b=v.top+(p.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,d*=w.y,c+=y,u+=b,x=dr(p),p=x.frameElement}}return Sh({width:h,height:d,x:c,y:u})}const z3=[":popover-open",":modal"];function Ip(e){return z3.some(t=>{try{return e.matches(t)}catch{return!1}})}function q3(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Vs(r),l=t?Ip(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ca(1);const h=Ca(0),d=fs(r);if((d||!d&&!i)&&((Fo(r)!=="body"||wc(o))&&(c=_d(r)),fs(r))){const f=di(r);u=to(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x,y:n.y*u.y-c.scrollTop*u.y+h.y}}function G3(e){return Array.from(e.getClientRects())}function v2(e){return di(Vs(e)).left+_d(e).scrollLeft}function Q3(e){const t=Vs(e),n=_d(e),r=e.ownerDocument.body,a=ni(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ni(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+v2(e);const l=-n.scrollTop;return Yr(r).direction==="rtl"&&(o+=ni(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function X3(e,t){const n=dr(e),r=Vs(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=Op();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function J3(e,t){const n=di(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=fs(e)?to(e):Ca(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function my(e,t,n){let r;if(t==="viewport")r=X3(e,n);else if(t==="document")r=Q3(Vs(e));else if(zn(t))r=J3(t,n);else{const a=y2(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return Sh(r)}function w2(e,t){const n=Sa(e);return n===t||!zn(n)||So(n)?!1:Yr(n).position==="fixed"||w2(n,t)}function Z3(e,t){const n=t.get(e);if(n)return n;let r=ec(e,[],!1).filter(l=>zn(l)&&Fo(l)!=="body"),a=null;const i=Yr(e).position==="fixed";let o=i?Sa(e):e;for(;zn(o)&&!So(o);){const l=Yr(o),c=Ap(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||wc(o)&&!c&&w2(e,o))?r=r.filter(h=>h!==o):a=l,o=Sa(o)}return t.set(e,r),r}function e6(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Ip(t)?[]:Z3(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const d=my(t,h,a);return u.top=ni(d.top,u.top),u.right=Co(d.right,u.right),u.bottom=Co(d.bottom,u.bottom),u.left=ni(d.left,u.left),u},my(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function t6(e){const{width:t,height:n}=g2(e);return{width:t,height:n}}function n6(e,t,n){const r=fs(t),a=Vs(t),i=n==="fixed",o=di(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ca(0);if(r||!r&&!i)if((Fo(t)!=="body"||wc(a))&&(l=_d(t)),r){const d=di(t,!0,i,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else a&&(c.x=v2(a));const u=o.left+l.scrollLeft-c.x,h=o.top+l.scrollTop-c.y;return{x:u,y:h,width:o.width,height:o.height}}function Pf(e){return Yr(e).position==="static"}function py(e,t){return!fs(e)||Yr(e).position==="fixed"?null:t?t(e):e.offsetParent}function N2(e,t){const n=dr(e);if(Ip(e))return n;if(!fs(e)){let a=Sa(e);for(;a&&!So(a);){if(zn(a)&&!Pf(a))return a;a=Sa(a)}return n}let r=py(e,t);for(;r&&E3(r)&&Pf(r);)r=py(r,t);return r&&So(r)&&Pf(r)&&!Ap(r)?n:r||_3(e)||n}const r6=async function(e){const t=this.getOffsetParent||N2,n=this.getDimensions,r=await n(e.floating);return{reference:n6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function s6(e){return Yr(e).direction==="rtl"}const b2={convertOffsetParentRelativeRectToViewportRelativeRect:q3,getDocumentElement:Vs,getClippingRect:e6,getOffsetParent:N2,getElementRects:r6,getClientRects:G3,getDimensions:t6,getScale:to,isElement:zn,isRTL:s6};function a6(e,t){let n=null,r;const a=Vs(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:h,width:d,height:f}=e.getBoundingClientRect();if(l||t(),!d||!f)return;const m=Zc(h),x=Zc(a.clientWidth-(u+d)),p=Zc(a.clientHeight-(h+f)),w=Zc(u),g={rootMargin:-m+"px "+-x+"px "+-p+"px "+-w+"px",threshold:ni(0,Co(1,c))||1};let y=!0;function b(j){const C=j[0].intersectionRatio;if(C!==c){if(!y)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(b,{...g,root:a.ownerDocument})}catch{n=new IntersectionObserver(b,g)}n.observe(e)}return o(!0),i}function i6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Fp(e),h=a||i?[...u?ec(u):[],...ec(t)]:[];h.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=u&&l?a6(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let x,p=c?di(e):null;c&&w();function w(){const v=di(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&n(),p=v,x=requestAnimationFrame(w)}return n(),()=>{var v;h.forEach(g=>{a&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),d==null||d(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const o6=K3,l6=U3,xy=H3,c6=(e,t,n)=>{const r=new Map,a={platform:b2,...n},i={...a.platform,_c:r};return B3(e,t,{...a,platform:i})},u6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?xy({element:r.current,padding:a}).fn(n):{}:r?xy({element:r,padding:a}).fn(n):{}}}};var Ru=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Ch(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ch(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Ch(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function j2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gy(e,t){const n=j2(e);return Math.round(t*n)/n}function yy(e){const t=N.useRef(e);return Ru(()=>{t.current=e}),t}function h6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=N.useState(r);Ch(f,r)||m(r);const[x,p]=N.useState(null),[w,v]=N.useState(null),g=N.useCallback(K=>{K!==C.current&&(C.current=K,p(K))},[]),y=N.useCallback(K=>{K!==T.current&&(T.current=K,v(K))},[]),b=i||x,j=o||w,C=N.useRef(null),T=N.useRef(null),k=N.useRef(h),D=c!=null,H=yy(c),O=yy(a),B=N.useCallback(()=>{if(!C.current||!T.current)return;const K={placement:t,strategy:n,middleware:f};O.current&&(K.platform=O.current),c6(C.current,T.current,K).then(se=>{const z={...se,isPositioned:!0};W.current&&!Ch(k.current,z)&&(k.current=z,ud.flushSync(()=>{d(z)}))})},[f,t,n,O]);Ru(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(K=>({...K,isPositioned:!1})))},[u]);const W=N.useRef(!1);Ru(()=>(W.current=!0,()=>{W.current=!1}),[]),Ru(()=>{if(b&&(C.current=b),j&&(T.current=j),b&&j){if(H.current)return H.current(b,j,B);B()}},[b,j,B,H,D]);const ue=N.useMemo(()=>({reference:C,floating:T,setReference:g,setFloating:y}),[g,y]),G=N.useMemo(()=>({reference:b,floating:j}),[b,j]),I=N.useMemo(()=>{const K={position:n,left:0,top:0};if(!G.floating)return K;const se=gy(G.floating,h.x),z=gy(G.floating,h.y);return l?{...K,transform:"translate("+se+"px, "+z+"px)",...j2(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:z}},[n,l,G.floating,h.x,h.y]);return N.useMemo(()=>({...h,update:B,refs:ue,elements:G,floatingStyles:I}),[h,B,ue,G,I])}const T2={...Hv},d6=T2.useInsertionEffect,f6=d6||(e=>e());function m6(e){const t=N.useRef(()=>{});return f6(()=>{t.current=e}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}var dm=typeof document<"u"?N.useLayoutEffect:N.useEffect;function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(this,arguments)}let vy=!1,p6=0;const wy=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+p6++;function x6(){const[e,t]=N.useState(()=>vy?wy():void 0);return dm(()=>{e==null&&t(wy())},[]),N.useEffect(()=>{vy=!0},[]),e}const g6=T2.useId,k2=g6||x6,y6=N.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:i}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:h,stroke:d,d:f,style:{transform:m,...x}={},...p}=t,w=k2();if(!a)return null;const v=u*2,g=v/2,y=o/2*(c/-8+1),b=l/2*c/4,[j,C]=r.split("-"),T=b2.isRTL(a),k=!!f,D=j==="top"||j==="bottom",H=h&&C==="end"?"bottom":"top";let O=h&&C==="end"?"right":"left";h&&T&&(O=C==="end"?"left":"right");const B=(i==null?void 0:i.x)!=null?h||i.x:"",W=(i==null?void 0:i.y)!=null?h||i.y:"",ue=f||"M0,0"+(" H"+o)+(" L"+(o-y)+","+(l-b))+(" Q"+o/2+","+l+" "+y+","+(l-b))+" Z",G={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[j];return N.createElement("svg",fm({},p,{"aria-hidden":!0,ref:n,width:k?o:o+v,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[O]:B,[H]:W,[j]:D||k?"100%":"calc(100% - "+v/2+"px)",transform:""+G+(m??""),...x}}),v>0&&N.createElement("path",{clipPath:"url(#"+w+")",fill:"none",stroke:d,strokeWidth:v+(f?0:1),d:ue}),N.createElement("path",{stroke:v&&!f?p.fill:"none",d:ue}),N.createElement("clipPath",{id:w},N.createElement("rect",{x:-g,y:g*(k?-1:1),width:o+v,height:o})))});function v6(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(a=>a!==n))||[])}}}const w6=N.createContext(null),N6=N.createContext(null),b6=()=>{var e;return((e=N.useContext(w6))==null?void 0:e.id)||null},j6=()=>N.useContext(N6);function T6(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:a}=e,[i,o]=N.useState(null),[l,c]=N.useState(null),h=((t=e.elements)==null?void 0:t.reference)||i;dm(()=>{h&&(p.current=h)},[h]);const d=h6({...e,elements:{...e.elements,...l&&{reference:l}}}),f=j6(),m=b6()!=null,x=m6((k,D,H)=>{w.current.openEvent=k?D:void 0,v.emit("openchange",{open:k,event:D,reason:H,nested:m}),r==null||r(k,D,H)}),p=N.useRef(null),w=N.useRef({}),v=N.useState(()=>v6())[0],g=k2(),y=N.useCallback(k=>{const D=zn(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),contextElement:k}:k;c(D),d.refs.setReference(D)},[d.refs]),b=N.useCallback(k=>{(zn(k)||k===null)&&(p.current=k,o(k)),(zn(d.refs.reference.current)||d.refs.reference.current===null||k!==null&&!zn(k))&&d.refs.setReference(k)},[d.refs]),j=N.useMemo(()=>({...d.refs,setReference:b,setPositionReference:y,domReference:p}),[d.refs,b,y]),C=N.useMemo(()=>({...d.elements,domReference:h}),[d.elements,h]),T=N.useMemo(()=>({...d,refs:j,elements:C,dataRef:w,nodeId:a,floatingId:g,events:v,open:n,onOpenChange:x}),[d,a,g,v,n,x,j,C]);return dm(()=>{const k=f==null?void 0:f.nodesRef.current.find(D=>D.id===a);k&&(k.context=T)}),N.useMemo(()=>({...d,context:T,refs:j,elements:C}),[d,j,C,T])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function nn(e,t,n){return t=Eh(t),C6(e,S2()?Reflect.construct(t,n||[],Eh(e).constructor):t.apply(e,n))}function S2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!e})()}function Ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ny(Object(n),!0).forEach(function(r){M(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ny(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function C2(e){var t=k6(e,"string");return typeof t=="symbol"?t:t+""}function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function by(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C2(r.key),r)}}function sn(e,t,n){return t&&by(e.prototype,t),n&&by(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e,t,n){return t=C2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}function an(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(e)}function pm(e,t){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pm(e,t)}function S6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C6(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S6(e)}function Ea(e){return E6(e)||_6(e)||D6(e)||P6()}function E6(e){if(Array.isArray(e))return xm(e)}function _6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D6(e,t){if(e){if(typeof e=="string")return xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xm(e,t)}}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bc=12,A6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ut(e){var t=e?typeof e=="string"||e instanceof String?e3(e):Fe(e):new Date;return Js(t)?t:null}function O6(e,t,n,r,a){var i=null,o=ba(n)||ba(ri()),l=!0;return Array.isArray(t)?(t.forEach(function(c){var u=Ef(e,c,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Js(u,a)&&e===Nt(u,c,n)),Js(u,a)&&l&&(i=u)}),i):(i=Ef(e,t,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?l=Js(i)&&e===Nt(i,t,n):Js(i)||(t=t.match(A6).map(function(c){var u=c[0];if(u==="p"||u==="P"){var h=yh[u];return o?h(c,o.formatLong):u}return c}).join(""),e.length>0&&(i=Ef(e,t.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Js(i)||(i=new Date(e))),Js(i)&&l?i:null)}function Js(e,t){return t=t||new Date("1/1/1000"),Xl(e)&&!hi(e,t)}function Nt(e,t,n){if(n==="en")return ay(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=ba(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&ri()&&ba(ri())&&(r=ba(ri())),ay(e,t,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function vr(e,t){var n=t.dateFormat,r=t.locale;return e&&Nt(e,Array.isArray(n)?n[0]:n,r)||""}function R6(e,t,n){if(!e)return"";var r=vr(e,n),a=t?vr(t,n):"";return"".concat(r," - ").concat(a)}function M6(e,t){if(!(e!=null&&e.length))return"";var n=vr(e[0],t);if(e.length===1)return n;if(e.length===2){var r=vr(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function Af(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,i=a===void 0?0:a,o=t.second,l=o===void 0?0:o;return Ou(Au(Pu(e,l),i),r)}function L6(e,t){return ri()&&ba(ri()),Sp(e)}function F6(e,t){return Nt(e,"ddd",t)}function I6(e){return os(e)}function wa(e,t,n){var r=ba(t||ri());return Fs(e,{locale:r,weekStartsOn:n})}function Na(e){return o2(e)}function ll(e){return Cd(e)}function jy(e){return om(e)}function Ty(){return os(ut())}function B6(e){return XD(e)}function Zr(e,t){return e&&t?nP(e,t):!e&&!t}function ir(e,t){return e&&t?tP(e,t):!e&&!t}function _h(e,t){return e&&t?rP(e,t):!e&&!t}function nt(e,t){return e&&t?eP(e,t):!e&&!t}function Qa(e,t){return e&&t?ZD(e,t):!e&&!t}function cl(e,t,n){var r,a=os(t),i=lm(n);try{r=Zl(e,{start:a,end:i})}catch{r=!1}return r}function ri(){var e=typeof window<"u"?window:globalThis;return e.__localeId__}function ba(e){if(typeof e=="string"){var t=typeof window<"u"?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}else return e}function $6(e,t,n){return t(Nt(e,"EEEE",n))}function H6(e,t){return Nt(e,"EEEEEE",t)}function U6(e,t){return Nt(e,"EEE",t)}function Bp(e,t){return Nt(On(ut(),e),"LLLL",t)}function E2(e,t){return Nt(On(ut(),e),"LLL",t)}function V6(e,t){return Nt(Ri(ut(),e),"QQQ",t)}function Pd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.excludeDateIntervals,o=t.includeDates,l=t.includeDateIntervals,c=t.filterDate;return Ad(e,{minDate:n,maxDate:r})||a&&a.some(function(u){return nt(e,u.date?u.date:u)})||i&&i.some(function(u){var h=u.start,d=u.end;return Zl(e,{start:h,end:d})})||o&&!o.some(function(u){return nt(e,u)})||l&&!l.some(function(u){var h=u.start,d=u.end;return Zl(e,{start:h,end:d})})||c&&!c(ut(e))||!1}function $p(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(a){var i=a.start,o=a.end;return Zl(e,{start:i,end:o})}):n&&n.some(function(a){return nt(e,a.date?a.date:a)})||!1}function Mu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return Ad(e,{minDate:o2(n),maxDate:JD(r)})||a&&a.some(function(l){return ir(e,l)})||i&&!i.some(function(l){return ir(e,l)})||o&&!o(ut(e))||!1}function eu(e,t,n,r){var a=Ge(e),i=Ln(e),o=Ge(t),l=Ln(t),c=Ge(r);if(a===o&&a===c)return i<=n&&n<=l;if(a<o)return c===a&&i<=n||c===o&&l>=n||c<o&&c>a}function Of(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return Ad(e,{minDate:n,maxDate:r})||a&&a.some(function(l){return _h(e,l)})||i&&!i.some(function(l){return _h(e,l)})||o&&!o(ut(e))||!1}function tu(e,t,n){if(!Xl(t)||!Xl(n))return!1;var r=Ge(t),a=Ge(n);return r<=e&&a>=e}function _2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate,l=new Date(e,0,1);return Ad(l,{minDate:Cd(n),maxDate:l2(r)})||a&&a.some(function(c){return Zr(l,c)})||i&&!i.some(function(c){return Zr(l,c)})||o&&!o(ut(l))||!1}function nu(e,t,n,r){var a=Ge(e),i=ti(e),o=Ge(t),l=ti(t),c=Ge(r);if(a===o&&a===c)return i<=n&&n<=l;if(a<o)return c===a&&i<=n||c===o&&l>=n||c<o&&c>a}function Ad(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&Jl(e,n)<0||r&&Jl(e,r)>0}function ky(e,t){return t.some(function(n){return cs(n)===cs(e)&&ls(n)===ls(e)&&Cs(n)===Cs(e)})}function Sy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,a=t.filterTime;return n&&ky(e,n)||r&&!ky(e,r)||a&&!a(e)||!1}function Cy(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=ut();a=Ou(a,cs(e)),a=Au(a,ls(e)),a=Pu(a,Cs(e));var i=ut();i=Ou(i,cs(n)),i=Au(i,ls(n)),i=Pu(i,Cs(n));var o=ut();o=Ou(o,cs(r)),o=Au(o,ls(r)),o=Pu(o,Cs(r));var l;try{l=!Zl(a,{start:i,end:o})}catch{l=!1}return l}function Ey(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.includeDates,a=To(e,1);return n&&wh(n,a)>0||r&&r.every(function(i){return wh(i,a)>0})||!1}function _y(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=Wr(e,1);return n&&wh(a,n)>0||r&&r.every(function(i){return wh(a,i)>0})||!1}function K6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.includeDates,a=Cd(e),i=i2(a);return n&&bh(n,i)>0||r&&r.every(function(o){return bh(o,i)>0})||!1}function W6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=l2(e),i=_p(a,1);return n&&bh(i,n)>0||r&&r.every(function(o){return bh(i,o)>0})||!1}function Dy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.includeDates,a=ko(e,1);return n&&Nh(n,a)>0||r&&r.every(function(i){return Nh(i,a)>0})||!1}function Y6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,a=r===void 0?bc:r,i=ll(ko(e,a)),o=ia(i,a),l=o.endPeriod,c=n&&Ge(n);return c&&c>l||!1}function Py(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=Ss(e,1);return n&&Nh(a,n)>0||r&&r.every(function(i){return Nh(a,i)>0})||!1}function z6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,a=r===void 0?bc:r,i=Ss(e,a),o=ia(i,a),l=o.startPeriod,c=n&&Ge(n);return c&&c<l||!1}function D2(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return Jl(a,t)>=0});return ly(r)}else return n?ly(n):t}function P2(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return Jl(a,t)<=0});return cy(r)}else return n?cy(n):t}function Ay(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,a=e.length;r<a;r++){var i=e[r];if(ui(i)){var o=Nt(i,"MM.dd.yyyy"),l=n.get(o)||[];l.includes(t)||(l.push(t),n.set(o,l))}else if(mm(i)==="object"){var c=Object.keys(i),u=c[0],h=i[c[0]];if(typeof u=="string"&&h.constructor===Array)for(var d=0,f=h.length;d<f;d++){var m=Nt(h[d],"MM.dd.yyyy"),x=n.get(m)||[];x.includes(u)||(x.push(u),n.set(m,x))}}}return n}function q6(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function G6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return e.forEach(function(r){var a=r.date,i=r.holidayName;if(ui(a)){var o=Nt(a,"MM.dd.yyyy"),l=n.get(o)||{};if(!("className"in l&&l.className===t&&q6(l.holidayNames,[i]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?[].concat(Ea(c),[i]):[i],n.set(o,l)}}}),n}function Q6(e,t,n,r,a){for(var i=a.length,o=[],l=0;l<i;l++){var c=e;c=zD(c,cs(a[l])),c=am(c,ls(a[l])),c=x3(c,Cs(a[l]));var u=am(e,(n+1)*r);ka(c,t)&&hi(c,u)&&o.push(a[l])}return o}function Oy(e){return e<10?"0".concat(e):"".concat(e)}function ia(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bc,n=Math.ceil(Ge(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function X6(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Ry(e){var t=e.getSeconds(),n=e.getMilliseconds();return Fe(e.getTime()-t*1e3-n)}function J6(e,t){return Ry(e).getTime()===Ry(t).getTime()}function My(e){if(!ui(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Ly(e,t){if(!ui(e)||!ui(t))throw new Error("Invalid date received");var n=My(e),r=My(t);return hi(n,r)}function A2(e){var t=" ";return e.key===t}function Z6(e,t,n,r){for(var a=[],i=0;i<2*t+1;i++){var o=e+t-i,l=!0;n&&(l=Ge(n)<=o),r&&l&&(l=Ge(r)>=o),l&&a.push(o)}return a}var e5=function(e){function t(n){var r;rn(this,t),r=nn(this,t,[n]),M(r,"renderOptions",function(){var l=r.props.year,c=r.state.yearsList.map(function(d){return re.createElement("div",{className:l===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":l===d?"true":void 0},l===d?re.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),u=r.props.minDate?Ge(r.props.minDate):null,h=r.props.maxDate?Ge(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(d){return d===h}))&&c.unshift(re.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(d){return d===u}))&&c.push(re.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c}),M(r,"onChange",function(l){r.props.onChange(l)}),M(r,"handleClickOutside",function(){r.props.onCancel()}),M(r,"shiftYears",function(l){var c=r.state.yearsList.map(function(u){return u+l});r.setState({yearsList:c})}),M(r,"incrementYears",function(){return r.shiftYears(1)}),M(r,"decrementYears",function(){return r.shiftYears(-1)});var a=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=a||(i?10:5);return r.state={yearsList:Z6(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=N.createRef(),r}return an(t,e),sn(t,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var a=r.children?Array.from(r.children):null,i=a?a.find(function(o){return o.ariaSelected}):null;r.scrollTop=i?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=yn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return re.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(re.Component),t5=Ed(e5),n5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"state",{dropdownVisible:!1}),M(n,"renderSelectOptions",function(){for(var o=n.props.minDate?Ge(n.props.minDate):1900,l=n.props.maxDate?Ge(n.props.maxDate):2100,c=[],u=o;u<=l;u++)c.push(re.createElement("option",{key:u,value:u},u));return c}),M(n,"onSelectChange",function(o){n.onChange(o.target.value)}),M(n,"renderSelectMode",function(){return re.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),M(n,"renderReadView",function(o){return re.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(c){return n.toggleDropdown(c)}},re.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),M(n,"renderDropdown",function(){return re.createElement(t5,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),M(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,l=[n.renderReadView(!o)];return o&&l.unshift(n.renderDropdown()),l}),M(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)}),M(n,"toggleDropdown",function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})}),M(n,"handleYearChange",function(o,l){n.onSelect(o,l),n.setOpen()}),M(n,"onSelect",function(o,l){n.props.onSelect&&n.props.onSelect(o,l)}),M(n,"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return an(t,e),sn(t,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(re.Component),r5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"isSelectedMonth",function(o){return n.props.month===o}),M(n,"renderOptions",function(){return n.props.monthNames.map(function(o,l){return re.createElement("div",{className:n.isSelectedMonth(l)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,l),"aria-selected":n.isSelectedMonth(l)?"true":void 0},n.isSelectedMonth(l)?re.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})}),M(n,"onChange",function(o){return n.props.onChange(o)}),M(n,"handleClickOutside",function(){return n.props.onCancel()}),n}return an(t,e),sn(t,[{key:"render",value:function(){return re.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(re.Component),s5=Ed(r5),a5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"state",{dropdownVisible:!1}),M(n,"renderSelectOptions",function(o){return o.map(function(l,c){return re.createElement("option",{key:c,value:c},l)})}),M(n,"renderSelectMode",function(o){return re.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(c){return n.onChange(c.target.value)}},n.renderSelectOptions(o))}),M(n,"renderReadView",function(o,l){return re.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},l[n.props.month]))}),M(n,"renderDropdown",function(o){return re.createElement(s5,{key:"dropdown",month:n.props.month,monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown})}),M(n,"renderScrollMode",function(o){var l=n.state.dropdownVisible,c=[n.renderReadView(!l,o)];return l&&c.unshift(n.renderDropdown(o)),c}),M(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)}),M(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return an(t,e),sn(t,[{key:"render",value:function(){var r=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return E2(o,r.props.locale)}:function(o){return Bp(o,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(a);break;case"select":i=this.renderSelectMode(a);break}return re.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)}}])}(re.Component);function i5(e,t){for(var n=[],r=Na(e),a=Na(t);!ka(r,a);)n.push(ut(r)),r=Wr(r,1);return n}var o5=function(e){function t(n){var r;return rn(this,t),r=nn(this,t,[n]),M(r,"renderOptions",function(){return r.state.monthYearsList.map(function(a){var i=im(a),o=Zr(r.props.date,a)&&ir(r.props.date,a);return re.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?re.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Nt(a,r.props.dateFormat,r.props.locale))})}),M(r,"onChange",function(a){return r.props.onChange(a)}),M(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:i5(r.props.minDate,r.props.maxDate)},r}return an(t,e),sn(t,[{key:"render",value:function(){var r=yn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return re.createElement("div",{className:r},this.renderOptions())}}])}(re.Component),l5=Ed(o5),c5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"state",{dropdownVisible:!1}),M(n,"renderSelectOptions",function(){for(var o=Na(n.props.minDate),l=Na(n.props.maxDate),c=[];!ka(o,l);){var u=im(o);c.push(re.createElement("option",{key:u,value:u},Nt(o,n.props.dateFormat,n.props.locale))),o=Wr(o,1)}return c}),M(n,"onSelectChange",function(o){n.onChange(o.target.value)}),M(n,"renderSelectMode",function(){return re.createElement("select",{value:im(Na(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),M(n,"renderReadView",function(o){var l=Nt(n.props.date,n.props.dateFormat,n.props.locale);return re.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return n.toggleDropdown(u)}},re.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},l))}),M(n,"renderDropdown",function(){return re.createElement(l5,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),M(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,l=[n.renderReadView(!o)];return o&&l.unshift(n.renderDropdown()),l}),M(n,"onChange",function(o){n.toggleDropdown();var l=ut(parseInt(o));Zr(n.props.date,l)&&ir(n.props.date,l)||n.props.onChange(l)}),M(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return an(t,e),sn(t,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(re.Component),u5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"dayEl",re.createRef()),M(n,"handleClick",function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)}),M(n,"handleMouseEnter",function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)}),M(n,"handleOnKeyDown",function(o){var l=o.key;l===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),M(n,"isSameDay",function(o){return nt(n.props.day,o)}),M(n,"isKeyboardSelected",function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var l=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(c){return n.isSameDayOrWeek(c)}):n.isSameDayOrWeek(n.props.selected);return!l&&n.isSameDayOrWeek(n.props.preSelection)}),M(n,"isDisabled",function(){return Pd(n.props.day,n.props)}),M(n,"isExcluded",function(){return $p(n.props.day,n.props)}),M(n,"isStartOfWeek",function(){return nt(n.props.day,wa(n.props.day,n.props.locale,n.props.calendarStartDay))}),M(n,"isSameWeek",function(o){return n.props.showWeekPicker&&nt(o,wa(n.props.day,n.props.locale,n.props.calendarStartDay))}),M(n,"isSameDayOrWeek",function(o){return n.isSameDay(o)||n.isSameWeek(o)}),M(n,"getHighLightedClass",function(){var o=n.props,l=o.day,c=o.highlightDates;if(!c)return!1;var u=Nt(l,"MM.dd.yyyy");return c.get(u)}),M(n,"getHolidaysClass",function(){var o=n.props,l=o.day,c=o.holidays;if(!c)return!1;var u=Nt(l,"MM.dd.yyyy");if(c.has(u))return[c.get(u).className]}),M(n,"isInRange",function(){var o=n.props,l=o.day,c=o.startDate,u=o.endDate;return!c||!u?!1:cl(l,c,u)}),M(n,"isInSelectingRange",function(){var o,l=n.props,c=l.day,u=l.selectsStart,h=l.selectsEnd,d=l.selectsRange,f=l.selectsDisabledDaysInRange,m=l.startDate,x=l.endDate,p=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(u||h||d)||!p||!f&&n.isDisabled()?!1:u&&x&&(hi(p,x)||Qa(p,x))?cl(c,p,x):h&&m&&(ka(p,m)||Qa(p,m))||d&&m&&!x&&(ka(p,m)||Qa(p,m))?cl(c,m,p):!1}),M(n,"isSelectingRangeStart",function(){var o;if(!n.isInSelectingRange())return!1;var l=n.props,c=l.day,u=l.startDate,h=l.selectsStart,d=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h?nt(c,d):nt(c,u)}),M(n,"isSelectingRangeEnd",function(){var o;if(!n.isInSelectingRange())return!1;var l=n.props,c=l.day,u=l.endDate,h=l.selectsEnd,d=l.selectsRange,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h||d?nt(c,f):nt(c,u)}),M(n,"isRangeStart",function(){var o=n.props,l=o.day,c=o.startDate,u=o.endDate;return!c||!u?!1:nt(c,l)}),M(n,"isRangeEnd",function(){var o=n.props,l=o.day,c=o.startDate,u=o.endDate;return!c||!u?!1:nt(u,l)}),M(n,"isWeekend",function(){var o=GD(n.props.day);return o===0||o===6}),M(n,"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ln(n.props.day)}),M(n,"isBeforeMonth",function(){return n.props.month!==void 0&&(Ln(n.props.day)+1)%12===n.props.month}),M(n,"isCurrentDay",function(){return n.isSameDay(ut())}),M(n,"isSelected",function(){if(n.props.selectsMultiple){var o;return(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(l){return n.isSameDayOrWeek(l)})}return n.isSameDayOrWeek(n.props.selected)}),M(n,"getClassNames",function(o){var l=n.props.dayClassName?n.props.dayClassName(o):void 0;return yn("react-datepicker__day",l,"react-datepicker__day--"+F6(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),M(n,"getAriaLabel",function(){var o=n.props,l=o.day,c=o.ariaLabelPrefixWhenEnabled,u=c===void 0?"Choose":c,h=o.ariaLabelPrefixWhenDisabled,d=h===void 0?"Not available":h,f=n.isDisabled()||n.isExcluded()?d:u;return"".concat(f," ").concat(Nt(l,"PPPP",n.props.locale))}),M(n,"getTitle",function(){var o=n.props,l=o.day,c=o.holidays,u=c===void 0?new Map:c,h=o.excludeDates,d=Nt(l,"MM.dd.yyyy"),f=[];return u.has(d)&&f.push.apply(f,Ea(u.get(d).holidayNames)),n.isExcluded()&&f.push(h==null?void 0:h.filter(function(m){return nt(m.date?m.date:m,l)}).map(function(m){return m.message})),f.join(", ")}),M(n,"getTabIndex",function(o,l){var c=o||n.props.selected,u=l||n.props.preSelection,h=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(c)&&nt(u,c))?0:-1;return h}),M(n,"handleFocusDay",function(){var o,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=!1;n.getTabIndex()===0&&!l.isInputFocused&&n.isSameDay(n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(c=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(c=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(c=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(c=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(c=!1)),c&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),M(n,"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(oy(n.props.day),n.props.day):oy(n.props.day)}),M(n,"render",function(){return re.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&re.createElement("span",{className:"overlay"},n.getTitle()))}),n}return an(t,e),sn(t,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(re.Component),h5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"weekNumberEl",re.createRef()),M(n,"handleClick",function(o){n.props.onClick&&n.props.onClick(o)}),M(n,"handleOnKeyDown",function(o){var l=o.key;l===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),M(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!nt(n.props.date,n.props.selected)&&nt(n.props.date,n.props.preSelection)}),M(n,"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||nt(n.props.date,n.props.selected)&&nt(n.props.preSelection,n.props.selected))?0:-1}),M(n,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;n.getTabIndex()===0&&!o.isInputFocused&&nt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(l=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(l=!0)),l&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return an(t,e),sn(t,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,a=r.weekNumber,i=r.ariaLabelPrefix,o=i===void 0?"week ":i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l,"react-datepicker__week-number--selected":!!l&&nt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return re.createElement("div",{ref:this.weekNumberEl,className:yn(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(re.Component),d5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"handleDayClick",function(o,l){n.props.onDayClick&&n.props.onDayClick(o,l)}),M(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),M(n,"handleWeekClick",function(o,l,c){typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(o,l,c),n.props.showWeekPicker&&n.handleDayClick(o,c),n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),M(n,"formatWeekNumber",function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):L6(o)}),M(n,"renderDays",function(){var o=n.startOfWeek(),l=[],c=n.formatWeekNumber(o);if(n.props.showWeekNumber){var u=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,c):void 0;l.push(re.createElement(h5,{key:"W",weekNumber:c,date:o,onClick:u,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return l.concat([0,1,2,3,4,5,6].map(function(h){var d=La(o,h);return re.createElement(u5,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,month:n.props.month,onClick:n.handleDayClick.bind(n,d),usePointerEvent:n.props.usePointerEvent,onMouseEnter:n.handleDayMouseEnter.bind(n,d),minDate:n.props.minDate,maxDate:n.props.maxDate,calendarStartDay:n.props.calendarStartDay,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),M(n,"startOfWeek",function(){return wa(n.props.day,n.props.locale,n.props.calendarStartDay)}),M(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!nt(n.startOfWeek(),n.props.selected)&&nt(n.startOfWeek(),n.props.preSelection)}),n}return an(t,e),sn(t,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":nt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return re.createElement("div",{className:yn(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(re.Component),f5=6,no={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Rf=M(M(M({},no.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),no.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),no.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),ru=1;function Fy(e,t){return e?no.FOUR_COLUMNS:t?no.TWO_COLUMNS:no.THREE_COLUMNS}var m5=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"MONTH_REFS",Ea(Array(12)).map(function(){return re.createRef()})),M(n,"QUARTER_REFS",Ea(Array(4)).map(function(){return re.createRef()})),M(n,"isDisabled",function(o){return Pd(o,n.props)}),M(n,"isExcluded",function(o){return $p(o,n.props)}),M(n,"handleDayClick",function(o,l){n.props.onDayClick&&n.props.onDayClick(o,l,n.props.orderInDisplay)}),M(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),M(n,"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),M(n,"isRangeStartMonth",function(o){var l=n.props,c=l.day,u=l.startDate,h=l.endDate;return!u||!h?!1:ir(On(c,o),u)}),M(n,"isRangeStartQuarter",function(o){var l=n.props,c=l.day,u=l.startDate,h=l.endDate;return!u||!h?!1:_h(Ri(c,o),u)}),M(n,"isRangeEndMonth",function(o){var l=n.props,c=l.day,u=l.startDate,h=l.endDate;return!u||!h?!1:ir(On(c,o),h)}),M(n,"isRangeEndQuarter",function(o){var l=n.props,c=l.day,u=l.startDate,h=l.endDate;return!u||!h?!1:_h(Ri(c,o),h)}),M(n,"isInSelectingRangeMonth",function(o){var l,c=n.props,u=c.day,h=c.selectsStart,d=c.selectsEnd,f=c.selectsRange,m=c.startDate,x=c.endDate,p=(l=n.props.selectingDate)!==null&&l!==void 0?l:n.props.preSelection;return!(h||d||f)||!p?!1:h&&x?eu(p,x,o,u):d&&m||f&&m&&!x?eu(m,p,o,u):!1}),M(n,"isSelectingMonthRangeStart",function(o){var l;if(!n.isInSelectingRangeMonth(o))return!1;var c=n.props,u=c.day,h=c.startDate,d=c.selectsStart,f=On(u,o),m=(l=n.props.selectingDate)!==null&&l!==void 0?l:n.props.preSelection;return d?ir(f,m):ir(f,h)}),M(n,"isSelectingMonthRangeEnd",function(o){var l;if(!n.isInSelectingRangeMonth(o))return!1;var c=n.props,u=c.day,h=c.endDate,d=c.selectsEnd,f=c.selectsRange,m=On(u,o),x=(l=n.props.selectingDate)!==null&&l!==void 0?l:n.props.preSelection;return d||f?ir(m,x):ir(m,h)}),M(n,"isInSelectingRangeQuarter",function(o){var l,c=n.props,u=c.day,h=c.selectsStart,d=c.selectsEnd,f=c.selectsRange,m=c.startDate,x=c.endDate,p=(l=n.props.selectingDate)!==null&&l!==void 0?l:n.props.preSelection;return!(h||d||f)||!p?!1:h&&x?nu(p,x,o,u):d&&m||f&&m&&!x?nu(m,p,o,u):!1}),M(n,"isWeekInMonth",function(o){var l=n.props.day,c=La(o,6);return ir(o,l)||ir(c,l)}),M(n,"isCurrentMonth",function(o,l){return Ge(o)===Ge(ut())&&l===Ln(ut())}),M(n,"isCurrentQuarter",function(o,l){return Ge(o)===Ge(ut())&&l===ti(ut())}),M(n,"isSelectedMonth",function(o,l,c){return Ln(c)===l&&Ge(o)===Ge(c)}),M(n,"isSelectedQuarter",function(o,l,c){return ti(o)===l&&Ge(o)===Ge(c)}),M(n,"renderWeeks",function(){for(var o=[],l=n.props.fixedHeight,c=0,u=!1,h=wa(Na(n.props.day),n.props.locale,n.props.calendarStartDay),d=n.props.showWeekPicker?wa(n.props.selected,n.props.locale,n.props.calendarStartDay):n.props.selected,f=n.props.showWeekPicker?wa(n.props.preSelection,n.props.locale,n.props.calendarStartDay):n.props.preSelection;o.push(re.createElement(d5,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:c,day:h,month:Ln(n.props.day),onDayClick:n.handleDayClick,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:f,selected:d,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!u;){c++,h=vh(h,1);var m=l&&c>=f5,x=!l&&!n.isWeekInMonth(h);if(m||x)if(n.props.peekNextMonth)u=!0;else break}return o}),M(n,"onMonthClick",function(o,l){var c=On(n.props.day,l);Mu(c,n.props)||n.handleDayClick(Na(c),o)}),M(n,"onMonthMouseEnter",function(o){var l=On(n.props.day,o);Mu(l,n.props)||n.handleDayMouseEnter(Na(l))}),M(n,"handleMonthNavigation",function(o,l){n.isDisabled(l)||n.isExcluded(l)||(n.props.setPreSelection(l),n.MONTH_REFS[o].current&&n.MONTH_REFS[o].current.focus())}),M(n,"onMonthKeyDown",function(o,l){var c=n.props,u=c.selected,h=c.preSelection,d=c.disabledKeyboardNavigation,f=c.showTwoColumnMonthYearPicker,m=c.showFourColumnMonthYearPicker,x=c.setPreSelection,p=c.handleOnMonthKeyDown,w=o.key;if(w!=="Tab"&&o.preventDefault(),!d){var v=Fy(m,f),g=Rf[v].verticalNavigationOffset,y=Rf[v].grid;switch(w){case"Enter":n.onMonthClick(o,l),x(u);break;case"ArrowRight":n.handleMonthNavigation(l===11?0:l+ru,Wr(h,ru));break;case"ArrowLeft":n.handleMonthNavigation(l===0?11:l-ru,To(h,ru));break;case"ArrowUp":n.handleMonthNavigation(y[0].includes(l)?l+12-g:l-g,To(h,g));break;case"ArrowDown":n.handleMonthNavigation(y[y.length-1].includes(l)?l-12+g:l+g,Wr(h,g));break}}p&&p(o)}),M(n,"onQuarterClick",function(o,l){var c=Ri(n.props.day,l);Of(c,n.props)||n.handleDayClick(jy(c),o)}),M(n,"onQuarterMouseEnter",function(o){var l=Ri(n.props.day,o);Of(l,n.props)||n.handleDayMouseEnter(jy(l))}),M(n,"handleQuarterNavigation",function(o,l){n.isDisabled(l)||n.isExcluded(l)||(n.props.setPreSelection(l),n.QUARTER_REFS[o-1].current&&n.QUARTER_REFS[o-1].current.focus())}),M(n,"onQuarterKeyDown",function(o,l){var c=o.key;if(!n.props.disabledKeyboardNavigation)switch(c){case"Enter":n.onQuarterClick(o,l),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(l===4?1:l+1,_p(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(l===1?4:l-1,i2(n.props.preSelection));break}}),M(n,"isMonthDisabled",function(o){var l=n.props,c=l.day,u=l.minDate,h=l.maxDate,d=l.excludeDates,f=l.includeDates,m=On(c,o);return(u||h||d||f)&&Mu(m,n.props)}),M(n,"getMonthClassNames",function(o){var l=n.props,c=l.day,u=l.startDate,h=l.endDate,d=l.selected,f=l.preSelection,m=l.monthClassName,x=m?m(On(c,o)):void 0;return yn("react-datepicker__month-text","react-datepicker__month-".concat(o),x,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":n.isSelectedMonth(c,o,d),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&n.isSelectedMonth(c,o,f),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":eu(u,h,o,c),"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(c,o)})}),M(n,"getTabIndex",function(o){var l=Ln(n.props.preSelection),c=!n.props.disabledKeyboardNavigation&&o===l?"0":"-1";return c}),M(n,"getQuarterTabIndex",function(o){var l=ti(n.props.preSelection),c=!n.props.disabledKeyboardNavigation&&o===l?"0":"-1";return c}),M(n,"getAriaLabel",function(o){var l=n.props,c=l.chooseDayAriaLabelPrefix,u=c===void 0?"Choose":c,h=l.disabledDayAriaLabelPrefix,d=h===void 0?"Not available":h,f=l.day,m=l.locale,x=On(f,o),p=n.isDisabled(x)||n.isExcluded(x)?d:u;return"".concat(p," ").concat(Nt(x,"MMMM yyyy",m))}),M(n,"getQuarterClassNames",function(o){var l=n.props,c=l.day,u=l.startDate,h=l.endDate,d=l.selected,f=l.minDate,m=l.maxDate,x=l.preSelection,p=l.disabledKeyboardNavigation;return yn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(f||m)&&Of(Ri(c,o),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(c,o,d),"react-datepicker__quarter-text--keyboard-selected":!p&&n.isSelectedQuarter(c,o,x),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":nu(u,h,o,c),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})}),M(n,"getMonthContent",function(o){var l=n.props,c=l.showFullMonthYearPicker,u=l.renderMonthContent,h=l.locale,d=l.day,f=E2(o,h),m=Bp(o,h);return u?u(o,f,m,d):c?m:f}),M(n,"getQuarterContent",function(o){var l=n.props,c=l.renderQuarterContent,u=l.locale,h=V6(o,u);return c?c(o,h):h}),M(n,"renderMonths",function(){var o=n.props,l=o.showTwoColumnMonthYearPicker,c=o.showFourColumnMonthYearPicker,u=o.day,h=o.selected,d=Rf[Fy(c,l)].grid;return d.map(function(f,m){return re.createElement("div",{className:"react-datepicker__month-wrapper",key:m},f.map(function(x,p){return re.createElement("div",{ref:n.MONTH_REFS[x],key:p,onClick:function(v){n.onMonthClick(v,x)},onKeyDown:function(v){A2(v)&&(v.preventDefault(),v.key="Enter"),n.onMonthKeyDown(v,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(x)}:void 0,tabIndex:n.getTabIndex(x),className:n.getMonthClassNames(x),"aria-disabled":n.isMonthDisabled(x),role:"option","aria-label":n.getAriaLabel(x),"aria-current":n.isCurrentMonth(u,x)?"date":void 0,"aria-selected":n.isSelectedMonth(u,x,h)},n.getMonthContent(x))}))})}),M(n,"renderQuarters",function(){var o=n.props,l=o.day,c=o.selected,u=[1,2,3,4];return re.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(h,d){return re.createElement("div",{key:d,ref:n.QUARTER_REFS[d],role:"option",onClick:function(m){n.onQuarterClick(m,h)},onKeyDown:function(m){n.onQuarterKeyDown(m,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(h)}:void 0,className:n.getQuarterClassNames(h),"aria-selected":n.isSelectedQuarter(l,h,c),tabIndex:n.getQuarterTabIndex(h),"aria-current":n.isCurrentQuarter(l,h)?"date":void 0},n.getQuarterContent(h))}))}),M(n,"getClassNames",function(){var o=n.props,l=o.selectingDate,c=o.selectsStart,u=o.selectsEnd,h=o.showMonthYearPicker,d=o.showQuarterYearPicker,f=o.showWeekPicker;return yn("react-datepicker__month",{"react-datepicker__month--selecting-range":l&&(c||u)},{"react-datepicker__monthPicker":h},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})}),n}return an(t,e),sn(t,[{key:"render",value:function(){var r=this.props,a=r.showMonthYearPicker,i=r.showQuarterYearPicker,o=r.day,l=r.ariaLabelPrefix,c=l===void 0?"Month ":l,u=c?c.trim()+" ":"";return re.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Nt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():i?this.renderQuarters():this.renderWeeks())}}])}(re.Component),O2=function(e){function t(){var n;rn(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=nn(this,t,[].concat(a)),M(n,"state",{height:null}),M(n,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),M(n,"handleClick",function(o){(n.props.minTime||n.props.maxTime)&&Cy(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Sy(o,n.props)||n.props.onChange(o)}),M(n,"isSelectedTime",function(o){return n.props.selected&&J6(n.props.selected,o)}),M(n,"isDisabledTime",function(o){return(n.props.minTime||n.props.maxTime)&&Cy(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Sy(o,n.props)}),M(n,"liClasses",function(o){var l=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&l.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&l.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(cs(o)*3600+ls(o)*60+Cs(o))%(n.props.intervals*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")}),M(n,"handleOnKeyDown",function(o,l){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&n.handleClick(l),n.props.handleOnKeyDown(o)}),M(n,"renderTimes",function(){for(var o=[],l=n.props.format?n.props.format:"p",c=n.props.intervals,u=n.props.selected||n.props.openToDate||ut(),h=I6(u),d=n.props.injectTimes&&n.props.injectTimes.sort(function(g,y){return g-y}),f=60*X6(u),m=f/c,x=0;x<m;x++){var p=am(h,x*c);if(o.push(p),d){var w=Q6(h,p,x,c,d);o=o.concat(w)}}var v=o.reduce(function(g,y){return y.getTime()<=u.getTime()?y:g},o[0]);return o.map(function(g,y){return re.createElement("li",{key:y,onClick:n.handleClick.bind(n,g),className:n.liClasses(g),ref:function(j){g===v&&(n.centerLi=j)},onKeyDown:function(j){n.handleOnKeyDown(j,g)},tabIndex:g===v?0:-1,role:"option","aria-selected":n.isSelectedTime(g)?"true":void 0,"aria-disabled":n.isDisabledTime(g)?"true":void 0},Nt(g,l,n.props.locale))})}),n}return an(t,e),sn(t,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,a=this.state.height;return re.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},re.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},re.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),re.createElement("div",{className:"react-datepicker__time"},re.createElement("div",{className:"react-datepicker__time-box"},re.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(re.Component);M(O2,"calcCenterPosition",function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)});var Iy=3,p5=function(e){function t(n){var r;return rn(this,t),r=nn(this,t,[n]),M(r,"YEAR_REFS",Ea(Array(r.props.yearItemNumber)).map(function(){return re.createRef()})),M(r,"isDisabled",function(a){return Pd(a,r.props)}),M(r,"isExcluded",function(a){return $p(a,r.props)}),M(r,"selectingDate",function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection}),M(r,"updateFocusOnPaginate",function(a){var i=(function(){this.YEAR_REFS[a].current.focus()}).bind(r);window.requestAnimationFrame(i)}),M(r,"handleYearClick",function(a,i){r.props.onDayClick&&r.props.onDayClick(a,i)}),M(r,"handleYearNavigation",function(a,i){var o=r.props,l=o.date,c=o.yearItemNumber,u=ia(l,c),h=u.startPeriod;r.isDisabled(i)||r.isExcluded(i)||(r.props.setPreSelection(i),a-h<0?r.updateFocusOnPaginate(c-(h-a)):a-h>=c?r.updateFocusOnPaginate(Math.abs(c-(a-h))):r.YEAR_REFS[a-h].current.focus())}),M(r,"isSameDay",function(a,i){return nt(a,i)}),M(r,"isCurrentYear",function(a){return a===Ge(ut())}),M(r,"isRangeStart",function(a){return r.props.startDate&&r.props.endDate&&Zr(Xr(ut(),a),r.props.startDate)}),M(r,"isRangeEnd",function(a){return r.props.startDate&&r.props.endDate&&Zr(Xr(ut(),a),r.props.endDate)}),M(r,"isInRange",function(a){return tu(a,r.props.startDate,r.props.endDate)}),M(r,"isInSelectingRange",function(a){var i=r.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,h=i.endDate;return!(o||l||c)||!r.selectingDate()?!1:o&&h?tu(a,r.selectingDate(),h):l&&u||c&&u&&!h?tu(a,u,r.selectingDate()):!1}),M(r,"isSelectingRangeStart",function(a){if(!r.isInSelectingRange(a))return!1;var i=r.props,o=i.startDate,l=i.selectsStart,c=Xr(ut(),a);return l?Zr(c,r.selectingDate()):Zr(c,o)}),M(r,"isSelectingRangeEnd",function(a){if(!r.isInSelectingRange(a))return!1;var i=r.props,o=i.endDate,l=i.selectsEnd,c=i.selectsRange,u=Xr(ut(),a);return l||c?Zr(u,r.selectingDate()):Zr(u,o)}),M(r,"isKeyboardSelected",function(a){var i=ll(Xr(r.props.date,a));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!nt(i,ll(r.props.selected))&&nt(i,ll(r.props.preSelection))}),M(r,"onYearClick",function(a,i){var o=r.props.date;r.handleYearClick(ll(Xr(o,i)),a)}),M(r,"onYearKeyDown",function(a,i){var o=a.key,l=r.props,c=l.date,u=l.yearItemNumber,h=l.handleOnKeyDown;if(o!=="Tab"&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(o){case"Enter":r.onYearClick(a,i),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(i+1,Ss(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(i-1,ko(r.props.preSelection,1));break;case"ArrowUp":{var d=ia(c,u),f=d.startPeriod,m=Iy,x=i-m;if(x<f){var p=u%m;i>=f&&i<f+p?m=p:m+=p,x=i-m}r.handleYearNavigation(x,ko(r.props.preSelection,m));break}case"ArrowDown":{var w=ia(c,u),v=w.endPeriod,g=Iy,y=i+g;if(y>v){var b=u%g;i<=v&&i>v-b?g=b:g+=b,y=i+g}r.handleYearNavigation(y,Ss(r.props.preSelection,g));break}}h&&h(a)}),M(r,"getYearClassNames",function(a){var i=r.props,o=i.date,l=i.minDate,c=i.maxDate,u=i.selected,h=i.excludeDates,d=i.includeDates,f=i.filterDate,m=i.yearClassName;return yn("react-datepicker__year-text","react-datepicker__year-".concat(a),m?m(Xr(o,a)):void 0,{"react-datepicker__year-text--selected":a===Ge(u),"react-datepicker__year-text--disabled":(l||c||h||d||f)&&_2(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})}),M(r,"getYearTabIndex",function(a){if(r.props.disabledKeyboardNavigation)return"-1";var i=Ge(r.props.preSelection);return a===i?"0":"-1"}),M(r,"getYearContainerClassNames",function(){var a=r.props,i=a.selectingDate,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange;return yn("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(o||l||c)})}),M(r,"getYearContent",function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a}),r}return an(t,e),sn(t,[{key:"render",value:function(){for(var r=this,a=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,u=i.onYearMouseLeave,h=ia(o,l),d=h.startPeriod,f=h.endPeriod,m=function(w){a.push(re.createElement("div",{ref:r.YEAR_REFS[w-d],onClick:function(g){r.onYearClick(g,w)},onKeyDown:function(g){A2(g)&&(g.preventDefault(),g.key="Enter"),r.onYearKeyDown(g,w)},tabIndex:r.getYearTabIndex(w),className:r.getYearClassNames(w),onMouseEnter:r.props.usePointerEvent?void 0:function(v){return c(v,w)},onPointerEnter:r.props.usePointerEvent?function(v){return c(v,w)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(v){return u(v,w)},onPointerLeave:r.props.usePointerEvent?function(v){return u(v,w)}:void 0,key:w,"aria-current":r.isCurrentYear(w)?"date":void 0},r.getYearContent(w)))},x=d;x<=f;x++)m(x);return re.createElement("div",{className:this.getYearContainerClassNames()},re.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))}}])}(re.Component),x5=function(e){function t(n){var r;return rn(this,t),r=nn(this,t,[n]),M(r,"onTimeChange",function(a){r.setState({time:a});var i=r.props.date,o=i instanceof Date&&!isNaN(i),l=o?i:new Date;l.setHours(a.split(":")[0]),l.setMinutes(a.split(":")[1]),r.props.onChange(l)}),M(r,"renderTimeInput",function(){var a=r.state.time,i=r.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?re.cloneElement(c,{date:o,value:a,onChange:r.onTimeChange}):re.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:a,onChange:function(h){r.onTimeChange(h.target.value||l)}})}),r.state={time:r.props.timeString},r}return an(t,e),sn(t,[{key:"render",value:function(){return re.createElement("div",{className:"react-datepicker__input-time-container"},re.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),re.createElement("div",{className:"react-datepicker-time__input-container"},re.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.timeString!==a.time?{time:r.timeString}:null}}])}(re.Component);function g5(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,i=e.className,o=e.children,l=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return re.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)}var y5=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],v5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(t.className||"").split(/\s+/);return y5.some(function(r){return n.indexOf(r)>=0})},w5=function(e){function t(n){var r;return rn(this,t),r=nn(this,t,[n]),M(r,"handleClickOutside",function(a){r.props.onClickOutside(a)}),M(r,"setClickOutsideRef",function(){return r.containerRef.current}),M(r,"handleDropdownFocus",function(a){v5(a.target)&&r.props.onDropdownFocus()}),M(r,"getDateInView",function(){var a=r.props,i=a.preSelection,o=a.selected,l=a.openToDate,c=D2(r.props),u=P2(r.props),h=ut(),d=l||o||i;return d||(c&&hi(h,c)?c:u&&ka(h,u)?u:h)}),M(r,"increaseMonth",function(){r.setState(function(a){var i=a.date;return{date:Wr(i,1)}},function(){return r.handleMonthChange(r.state.date)})}),M(r,"decreaseMonth",function(){r.setState(function(a){var i=a.date;return{date:To(i,1)}},function(){return r.handleMonthChange(r.state.date)})}),M(r,"handleDayClick",function(a,i,o){r.props.onSelect(a,i,o),r.props.setPreSelection&&r.props.setPreSelection(a)}),M(r,"handleDayMouseEnter",function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)}),M(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),M(r,"handleYearMouseEnter",function(a,i){r.setState({selectingDate:Xr(ut(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,i)}),M(r,"handleYearMouseLeave",function(a,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,i)}),M(r,"handleYearChange",function(a){r.props.onYearChange&&(r.props.onYearChange(a),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(a),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(a)}),M(r,"handleMonthChange",function(a){r.handleCustomMonthChange(a),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(a),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(a)}),M(r,"handleCustomMonthChange",function(a){r.props.onMonthChange&&(r.props.onMonthChange(a),r.setState({isRenderAriaLiveMessage:!0}))}),M(r,"handleMonthYearChange",function(a){r.handleYearChange(a),r.handleMonthChange(a)}),M(r,"changeYear",function(a){r.setState(function(i){var o=i.date;return{date:Xr(o,a)}},function(){return r.handleYearChange(r.state.date)})}),M(r,"changeMonth",function(a){r.setState(function(i){var o=i.date;return{date:On(o,a)}},function(){return r.handleMonthChange(r.state.date)})}),M(r,"changeMonthYear",function(a){r.setState(function(i){var o=i.date;return{date:Xr(On(o,Ln(a)),Ge(a))}},function(){return r.handleMonthYearChange(r.state.date)})}),M(r,"header",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,i=wa(a,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(re.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(l){var c=La(i,l),u=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return re.createElement("div",{key:l,"aria-label":Nt(c,"EEEE",r.props.locale),className:yn("react-datepicker__day-name",h)},u)}))}),M(r,"formatWeekday",function(a,i){return r.props.formatWeekDay?$6(a,r.props.formatWeekDay,i):r.props.useWeekdaysShort?U6(a,i):H6(a,i)}),M(r,"decreaseYear",function(){r.setState(function(a){var i=a.date;return{date:ko(i,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),M(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),M(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Dy(r.state.date,r.props);break;case r.props.showYearPicker:a=Y6(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=K6(r.state.date,r.props);break;default:a=Ey(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),a&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),l=null);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,h=u.previousMonthButtonLabel,d=u.previousYearButtonLabel,f=r.props,m=f.previousMonthAriaLabel,x=m===void 0?typeof h=="string"?h:"Previous Month":m,p=f.previousYearAriaLabel,w=p===void 0?typeof d=="string"?d:"Previous Year":p;return re.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?w:x},re.createElement("span",{className:i.join(" ")},c?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),M(r,"increaseYear",function(){r.setState(function(a){var i=a.date;return{date:Ss(i,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),M(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Py(r.state.date,r.props);break;case r.props.showYearPicker:a=z6(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=W6(r.state.date,r.props);break;default:a=_y(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),l=null);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,h=u.nextMonthButtonLabel,d=u.nextYearButtonLabel,f=r.props,m=f.nextMonthAriaLabel,x=m===void 0?typeof h=="string"?h:"Next Month":m,p=f.nextYearAriaLabel,w=p===void 0?typeof d=="string"?d:"Next Year":p;return re.createElement("button",{type:"button",className:i.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?w:x},re.createElement("span",{className:o.join(" ")},c?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),M(r,"renderCurrentMonth",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),re.createElement("div",{className:i.join(" ")},Nt(a,r.props.dateFormat,r.props.locale))}),M(r,"renderYearDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||a))return re.createElement(n5,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Ge(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),M(r,"renderMonthDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||a))return re.createElement(a5,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Ln(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),M(r,"renderMonthYearDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||a))return re.createElement(c5,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),M(r,"handleTodayButtonClick",function(a){r.props.onSelect(Ty(),a),r.props.setPreSelection&&r.props.setPreSelection(Ty())}),M(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return re.createElement("div",{className:"react-datepicker__today-button",onClick:function(i){return r.handleTodayButtonClick(i)}},r.props.todayButton)}),M(r,"renderDefaultHeader",function(a){var i=a.monthDate,o=a.i;return re.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),re.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),re.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))}),M(r,"renderCustomHeader",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.monthDate,o=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var l=Ey(r.state.date,r.props),c=_y(r.state.date,r.props),u=Dy(r.state.date,r.props),h=Py(r.state.date,r.props),d=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return re.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(bs(bs({},r.state),{},{customHeaderCount:o,monthDate:i,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:c,prevYearButtonDisabled:u,nextYearButtonDisabled:h})),d&&re.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))}),M(r,"renderYearHeader",function(a){var i=a.monthDate,o=r.props,l=o.showYearPicker,c=o.yearItemNumber,u=ia(i,c),h=u.startPeriod,d=u.endPeriod;return re.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(d):Ge(i))}),M(r,"renderHeader",function(a){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(a);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(a);default:return r.renderDefaultHeader(a)}}),M(r,"renderMonths",function(){var a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],o=r.props.showPreviousMonths?r.props.monthsShown-1:0,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ss(r.state.date,o):To(r.state.date,o),c=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:o,u=0;u<r.props.monthsShown;++u){var h=u-c+o,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ss(l,h):Wr(l,h),f="month-".concat(u),m=u<r.props.monthsShown-1,x=u>0;i.push(re.createElement("div",{key:f,ref:function(w){r.monthContainer=w},className:"react-datepicker__month-container"},r.renderHeader({monthDate:d,i:u}),re.createElement(m5,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:d,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:x})))}return i}}),M(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return re.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),re.createElement(p5,tc({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),M(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return re.createElement(O2,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),M(r,"renderInputTimeSection",function(){var a=new Date(r.props.selected),i=Js(a)&&!!r.props.selected,o=i?"".concat(Oy(a.getHours()),":").concat(Oy(a.getMinutes())):"";if(r.props.showTimeInput)return re.createElement(x5,{date:a,timeString:o,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),M(r,"renderAriaLiveRegion",function(){var a=ia(r.state.date,r.props.yearItemNumber),i=a.startPeriod,o=a.endPeriod,l;return r.props.showYearPicker?l="".concat(i," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Ge(r.state.date):l="".concat(Bp(Ln(r.state.date),r.props.locale)," ").concat(Ge(r.state.date)),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)}),M(r,"renderChildren",function(){if(r.props.children)return re.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=re.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return an(t,e),sn(t,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var a=this;if(this.props.preSelection&&(!nt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!ir(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!nt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||g5;return re.createElement("div",{style:{display:"contents"},ref:this.containerRef},re.createElement(r,{className:yn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:bc}}}])}(re.Component),N5=function(t){var n=t.icon,r=t.className,a=r===void 0?"":r,i=t.onClick,o="react-datepicker__calendar-icon";return re.isValidElement(n)?re.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(o," ").concat(a),onClick:function(c){typeof n.props.onClick=="function"&&n.props.onClick(c),typeof i=="function"&&i(c)}}):typeof n=="string"?re.createElement("i",{className:"".concat(o," ").concat(n," ").concat(a),"aria-hidden":"true",onClick:i}):re.createElement("svg",{className:"".concat(o," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},re.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},b5=N5,R2=function(e){function t(n){var r;return rn(this,t),r=nn(this,t,[n]),r.el=document.createElement("div"),r}return an(t,e),sn(t,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return Kw.createPortal(this.props.children,this.el)}}])}(re.Component),j5="[tabindex], a, button, input, select, textarea",T5=function(t){return!t.disabled&&t.tabIndex!==-1},M2=function(e){function t(n){var r;return rn(this,t),r=nn(this,t,[n]),M(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(j5),1,-1).filter(T5)}),M(r,"handleFocusStart",function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()}),M(r,"handleFocusEnd",function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()}),r.tabLoopRef=re.createRef(),r}return an(t,e),sn(t,[{key:"render",value:function(){return this.props.enableTabLoop?re.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},re.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,re.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(re.Component);function k5(e){var t=function(r){var a=bs(bs({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),i=re.useRef(),o=T6(bs({open:!a.hidePopper,whileElementsMounted:i6,placement:a.popperPlacement,middleware:[l6({padding:15}),o6(10),u6({element:i})].concat(Ea(a.popperModifiers))},a.popperProps));return re.createElement(e,tc({},a,{popperProps:bs(bs({},o),{},{arrowRef:i})}))};return t}var S5=function(e){function t(){return rn(this,t),nn(this,t,arguments)}return an(t,e),sn(t,[{key:"render",value:function(){var r=this.props,a=r.className,i=r.wrapperClassName,o=r.hidePopper,l=r.popperComponent,c=r.targetComponent,u=r.enableTabLoop,h=r.popperOnKeyDown,d=r.portalId,f=r.portalHost,m=r.popperProps,x=r.showArrow,p;if(!o){var w=yn("react-datepicker-popper",a);p=re.createElement(M2,{enableTabLoop:u},re.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:h},l,x&&re.createElement(y6,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(p=re.createElement(this.props.popperContainer,{},p)),d&&!o&&(p=re.createElement(R2,{portalId:d,portalHost:f},p));var v=yn("react-datepicker-wrapper",i);return re.createElement(re.Fragment,null,re.createElement("div",{ref:m.refs.setReference,className:v},c),p)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(re.Component),C5=k5(S5),By="react-datepicker-ignore-onclickoutside",E5=Ed(w5);function _5(e,t){return e&&t?Ln(e)!==Ln(t)||Ge(e)!==Ge(t):e!==t}var Mf="Date input not valid.",$y=function(e){function t(n){var r;return rn(this,t),r=nn(this,t,[n]),M(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ut()}),M(r,"modifyHolidays",function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,o){var l=new Date(o.date);return Xl(l)?[].concat(Ea(i),[bs(bs({},o),{},{date:l})]):i},[])}),M(r,"calcInitialState",function(){var a,i=r.getPreSelection(),o=D2(r.props),l=P2(r.props),c=o&&hi(i,os(o))?o:l&&ka(i,lm(l))?l:i;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:c,highlightDates:Ay(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),M(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),M(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),M(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),M(r,"setOpen",function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Lf},function(){a||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.setBlur(),r.setState({inputValue:null})})})}),M(r,"inputOk",function(){return ui(r.state.preSelection)}),M(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),M(r,"handleFocus",function(a){r.state.preventFocus||(r.props.onFocus(a),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),M(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),M(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),M(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),M(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),M(r,"handleBlur",function(a){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(a),r.setState({focused:!1})}),M(r,"handleCalendarClickOutside",function(a){r.props.inline||r.setOpen(!1),r.props.onClickOutside(a),r.props.withPortal&&a.preventDefault()}),M(r,"handleChange",function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var l=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:l.target.value,lastPreSelectChange:D5});var c=O6(l.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&c&&!nt(c,r.props.selected)&&(c=g3(r.props.selected,{hours:cs(c),minutes:ls(c),seconds:Cs(c)})),(c||!l.target.value)&&r.setSelected(c,l,!0)}}),M(r,"handleSelect",function(a,i,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(a,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,c=l.startDate,u=l.endDate;c&&!u&&(r.props.swapRange||!Ly(a,c))&&r.setOpen(!1)}}),M(r,"setSelected",function(a,i,o,l){var c=a;if(r.props.showYearPicker){if(c!==null&&_2(Ge(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&Mu(c,r.props))return}else if(c!==null&&Pd(c,r.props))return;var u=r.props,h=u.onChange,d=u.selectsRange,f=u.startDate,m=u.endDate,x=u.selectsMultiple,p=u.selectedDates,w=u.minTime,v=u.swapRange;if(!Qa(r.props.selected,c)||r.props.allowSameDay||d||x)if(c!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Af(c,{hour:cs(r.props.selected),minute:ls(r.props.selected),second:Cs(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(c=Af(c,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),d){var g=!f&&!m,y=f&&!m,b=f&&m;g?h([c,null],i):y&&(c===null?h([null,null],i):Ly(c,f)?h(v?[c,f]:[c,null],i):h([f,c],i)),b&&h([c,null],i)}else if(x)if(!(p!=null&&p.length))h([c],i);else{var j=p.some(function(T){return nt(T,c)});if(j){var C=p.filter(function(T){return!nt(T,c)});h(C,i)}else h([].concat(Ea(p),[c]),i)}else h(c,i);o||(r.props.onSelect(c,i),r.setState({inputValue:null}))}),M(r,"setPreSelection",function(a){var i=typeof r.props.minDate<"u",o=typeof r.props.maxDate<"u",l=!0;if(a){var c=os(a);if(i&&o)l=cl(a,r.props.minDate,r.props.maxDate);else if(i){var u=os(r.props.minDate);l=ka(a,u)||Qa(c,u)}else if(o){var h=lm(r.props.maxDate);l=hi(a,h)||Qa(c,h)}}l&&r.setState({preSelection:a})}),M(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),M(r,"handleTimeChange",function(a){var i=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?a:Af(i,{hour:cs(a),minute:ls(a)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),M(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),M(r,"onInputKeyDown",function(a){r.props.onKeyDown(a);var i=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(i==="ArrowDown"||i==="ArrowUp"||i==="Enter")&&r.onInputClick();return}if(r.state.open){if(i==="ArrowDown"||i==="ArrowUp"){a.preventDefault();var o=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',l=r.calendar.componentNode&&r.calendar.componentNode.querySelector(o);l&&l.focus({preventScroll:!0});return}var c=ut(r.state.preSelection);i==="Enter"?(a.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Lf?(r.handleSelect(c,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(c)):r.setOpen(!1)):i==="Escape"?(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):i==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Mf})}}),M(r,"onPortalKeyDown",function(a){var i=a.key;i==="Escape"&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),M(r,"onDayKeyDown",function(a){r.props.onKeyDown(a);var i=a.key,o=a.shiftKey,l=ut(r.state.preSelection);if(i==="Enter")a.preventDefault(),r.handleSelect(l,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(l);else if(i==="Escape")a.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Mf});else if(!r.props.disabledKeyboardNavigation){var c;switch(i){case"ArrowLeft":r.props.showWeekPicker?c=iy(l):c=qD(l);break;case"ArrowRight":r.props.showWeekPicker?c=vh(l,1):c=La(l,1);break;case"ArrowUp":c=iy(l);break;case"ArrowDown":c=vh(l,1);break;case"PageUp":c=o?ko(l,1):To(l,1);break;case"PageDown":c=o?Ss(l,1):Wr(l,1);break;case"Home":c=wa(l,r.props.locale,r.props.calendarStartDay);break;case"End":c=B6(l);break;default:c=null;break}if(!c){r.props.onInputError&&r.props.onInputError({code:1,msg:Mf});return}if(a.preventDefault(),r.setState({lastPreSelectChange:Lf}),r.props.adjustDateOnChange&&r.setSelected(c),r.setPreSelection(c),r.props.inline){var u=Ln(l),h=Ln(c),d=Ge(l),f=Ge(c);u!==h||d!==f?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),M(r,"onPopperKeyDown",function(a){var i=a.key;i==="Escape"&&(a.preventDefault(),r.sendFocusBackToInput())}),M(r,"onClearClick",function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],a):r.props.onChange(null,a),r.setState({inputValue:null})}),M(r,"clear",function(){r.onClearClick()}),M(r,"onScroll",function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)}),M(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:re.createElement(E5,{ref:function(i){r.calendar=i},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:G6(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:By,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),M(r,"renderAriaLiveRegion",function(){var a=r.props,i=a.dateFormat,o=a.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(vr(r.props.startDate,{dateFormat:c,locale:o}),". ").concat(r.props.endDate?"End date: "+vr(r.props.endDate,{dateFormat:c,locale:o}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(vr(r.props.selected,{dateFormat:i,locale:o})):r.props.showYearPicker?u="Selected year: ".concat(vr(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?u="Selected month: ".concat(vr(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(vr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):u="Selected date: ".concat(vr(r.props.selected,{dateFormat:c,locale:o})),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)}),M(r,"renderDateInput",function(){var a,i=yn(r.props.className,M({},By,r.state.open)),o=r.props.customInput||re.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref",c=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?R6(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?M6(r.props.selectedDates,r.props):vr(r.props.selected,r.props);return re.cloneElement(o,(a={},M(M(M(M(M(M(M(M(M(M(a,l,function(u){r.input=u}),"value",c),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),M(M(M(M(M(M(M(M(M(M(a,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",yn(o.props.className,i)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),M(M(M(a,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),M(r,"renderClearButton",function(){var a=r.props,i=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,h=a.clearButtonTitle,d=a.clearButtonClassName,f=d===void 0?"":d,m=a.ariaLabelClose,x=m===void 0?"Close":m,p=a.selectedDates;return i&&(l!=null||c!=null||u!=null||p!=null&&p.length)?re.createElement("button",{type:"button",className:yn("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":x,onClick:r.onClearClick,title:h,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return an(t,e),sn(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,a){r.inline&&_5(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Ay(this.props.highlightDates)}),!a.focused&&!Qa(r.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),a.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,a=r.showIcon,i=r.icon,o=r.calendarIconClassname,l=r.toggleCalendarOnIconClick,c=this.state.open;return re.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&re.createElement(b5,tc({icon:i,className:"".concat(o," ").concat(c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var a=this.state.open?re.createElement(M2,{enableTabLoop:this.props.enableTabLoop},re.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(a=re.createElement(R2,{portalId:this.props.portalId,portalHost:this.props.portalHost},a)),re.createElement("div",null,this.renderInputContainer(),a)}return re.createElement(C5,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:bc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(re.Component),D5="input",Lf="navigate";const Kt={async getAllRooms(){var e;try{return(await V.get("/api/phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAvailableRooms(){var e;try{return(await V.get("/api/phong/available")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getOccupiedRooms(){var e;try{return(await V.get("/api/phong/occupied")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getMaintenanceRooms(){var e;try{return(await V.get("/api/phong/maintenance")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getCleaningRooms(){var e;try{return(await V.get("/api/phong/cleaning")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAvailableRoomsByDateRange(e,t){var n;try{return(await V.get("/api/phong/available-by-date",{params:{checkIn:e,checkOut:t}})).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async searchRoomsByPriceRange(e,t,n,r,a,i){var o;try{const l={checkIn:e,checkOut:t};return n!=null&&(l.minPrice=n),r!=null&&(l.maxPrice=r),a&&a!==""&&(l.idKp=a),i&&i!==""&&(l.idLp=i),(await V.get("/api/phong/search-by-price",{params:l})).data}catch(l){throw((o=l.response)==null?void 0:o.data)||l.message}},async getRoomById(e){var t;try{return(await V.get(`/api/phong/get-by-id/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getRoomDetails(e){var t;try{return(await V.get(`/api/phong/get-details/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async updateRoomStatus(e,t){var n;try{return(await V.put(`/api/phong/update-status/${e}`,null,{params:{idTrangThai:t}})).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async getRoomsByHangPhong(e){var t;try{return(await V.get(`/api/phong/by-hang-phong/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getRoomsByFloor(e){var t;try{return(await V.get(`/api/phong/by-tang/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getRoomsByStatus(e){var t;try{return(await V.get(`/api/phong/by-trang-thai/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async checkRoomAvailability(e,t,n){var r;try{return(await V.get(`/api/phong/check-availability/${e}`,{params:{checkIn:t,checkOut:n}})).data}catch(a){throw((r=a.response)==null?void 0:r.data)||a.message}},async searchRooms(e){var t;try{return(await V.get("/api/phong/search",{params:{keyword:e}})).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async filterRooms(e){var t;try{return(await V.get("/api/phong/filter",{params:e})).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async createRoom(e){var t;try{return(await V.post("/api/phong/create",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async updateRoom(e,t){var n;try{return(await V.put(`/api/phong/update/${e}`,t)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async deleteRoom(e){var t;try{return(await V.delete(`/api/phong/delete/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getAllRoomTypes(){var e;try{return(await V.get("/api/kieu-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAllRoomCategories(){var e;try{return(await V.get("/api/loai-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async updateRoomTypeAndCategory(e,t){var n;try{const r=new URLSearchParams;return t.idKieuPhong&&r.append("idKieuPhong",t.idKieuPhong),t.idLoaiPhong&&r.append("idLoaiPhong",t.idLoaiPhong),(await V.put(`/api/phong/update-type-category/${e}?${r.toString()}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}}},Hy=e=>{if(!e)return null;if(e instanceof Date){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}if(typeof e=="string"){const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${a}`}return null},P5=`
  .dual-range-slider {
    position: relative;
    height: 40px;
    margin: 15px 0;
    display: flex;
    align-items: center;
    min-width: 120px;
  }

  /* DatePicker styles */
  .react-datepicker-wrapper {
    width: 100% !important;
  }

  .react-datepicker__input-container {
    width: 100% !important;
  }

  .react-datepicker__input-container input {
    width: 100% !important;
    min-width: 180px !important;
    padding: 12px !important;
    border: 1px solid #d1d5db !important;
    border-radius: 8px !important;
    font-size: 16px !important;
    height: 48px !important;
    box-sizing: border-box !important;
    background-color: white !important;
    color: #374151 !important;
  }

  .react-datepicker__input-container input::placeholder {
    color: #9ca3af !important;
    opacity: 1 !important;
  }

  .react-datepicker__input-container input:focus {
    outline: none !important;
    border-color: #3B82F6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
  }

  .react-datepicker {
    z-index: 9999 !important;
  }

  /* Responsive styles for mobile */
  @media (max-width: 768px) {
    .react-datepicker__input-container input {
      min-width: 100% !important;
      font-size: 16px !important;
    }
  }

  .dual-range-slider .slider-track {
    position: absolute;
    width: 100%;
    height: 6px;
    background: #e5e7eb;
    border-radius: 3px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1;
  }

  .dual-range-slider .slider-range {
    position: absolute;
    height: 6px;
    background: linear-gradient(to right, #3B82F6, #10B981);
    border-radius: 3px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
  }

  .dual-range-slider input[type="range"] {
    position: absolute;
    width: 100%;
    height: 6px;
    background: transparent;
    -webkit-appearance: none;
    appearance: none;
    pointer-events: none;
    outline: none;
    top: 50%;
    transform: translateY(-50%);
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb {
    pointer-events: all;
    position: relative;
    z-index: 10;
  }

  .dual-range-slider input[type="range"]::-moz-range-thumb {
    pointer-events: all;
    position: relative;
    z-index: 10;
  }

  .dual-range-slider input[type="range"]::-webkit-slider-track {
    background: transparent;
    border: none;
    height: 6px;
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: all 0.2s ease;
    position: relative;
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb:active {
    transform: scale(1.15);
  }

  .dual-range-slider input[type="range"]::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: all 0.2s ease;
    -moz-appearance: none;
  }

  .dual-range-slider input[type="range"]::-moz-range-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  }

  .dual-range-slider input[type="range"]::-moz-range-track {
    background: transparent;
    border: none;
    height: 6px;
  }

  .dual-range-slider input[type="range"]:focus::-webkit-slider-thumb {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
  }

  .dual-range-slider .range-min::-webkit-slider-thumb {
    background: #10B981;
  }

  .dual-range-slider .range-min::-webkit-slider-thumb:hover {
    background: #059669;
  }

  .dual-range-slider .range-min::-moz-range-thumb {
    background: #10B981;
  }

  .dual-range-slider .range-min::-moz-range-thumb:hover {
    background: #059669;
  }

  .dual-range-slider .range-max::-webkit-slider-thumb {
    background: #EF4444;
  }

  .dual-range-slider .range-max::-webkit-slider-thumb:hover {
    background: #DC2626;
  }

  .dual-range-slider .range-max::-moz-range-thumb {
    background: #EF4444;
  }

  .dual-range-slider .range-max::-moz-range-thumb:hover {
    background: #DC2626;
  }

  /* Đảm bảo slider min có z-index thấp hơn */
  .dual-range-slider .range-min {
    z-index: 3;
  }

  /* Đảm bảo slider max có z-index cao hơn */
  .dual-range-slider .range-max {
    z-index: 5;
  }

  /* Khi giá trị min gần bằng max, ưu tiên max slider */
  .dual-range-slider .range-max::-webkit-slider-thumb {
    z-index: 6;
  }

  .dual-range-slider .range-max::-moz-range-thumb {
    z-index: 6;
  }

  /* Tooltip cho slider */
  .dual-range-slider input[type="range"]:hover::-webkit-slider-thumb::after {
    content: attr(data-value);
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
  }
`,Od=({handleSearchResult:e,prefilledData:t,onDataUsed:n})=>{const[r,a]=N.useState(null),[i,o]=N.useState(null),[l,c]=N.useState([0,1e7]),[u,h]=N.useState(""),[d,f]=N.useState(""),[m,x]=N.useState([]),[p,w]=N.useState([]),[v,g]=N.useState(""),[y,b]=N.useState(null);N.useEffect(()=>{(async()=>{try{const H=await Kt.getAllRoomTypes();H.statusCode===200&&x(H.kieuPhongList||[]);const O=await Kt.getAllRoomCategories();O.statusCode===200&&w(O.loaiPhongList||[])}catch(H){console.error("Error loading room types and categories:",H)}})()},[]),N.useEffect(()=>{t&&(t.kieuPhong&&h(t.kieuPhong),t.loaiPhong&&f(t.loaiPhong),n&&n())},[t,n]);const j=()=>{const O=(l[0]-0)/1e7*100,B=(l[1]-0)/1e7*100;return{left:`${O}%`,width:`${B-O}%`}};N.useEffect(()=>{const D=document.createElement("style");return D.textContent=P5,document.head.appendChild(D),()=>{document.head.removeChild(D)}},[]);const C=D=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D),T=(D,H=5e3)=>{g(D),setTimeout(()=>{g("")},H)},k=async()=>{if(!r||!i)return T("Vui lòng chọn ngày nhận phòng và ngày trả phòng"),!1;if(r>=i)return T("Ngày trả phòng phải sau ngày nhận phòng"),!1;if(r<new Date().setHours(0,0,0,0))return T("Ngày nhận phòng không thể là ngày trong quá khứ"),!1;if(l[0]>=l[1])return T("Khoảng giá không hợp lệ"),!1;try{const D=Hy(r),H=Hy(i);console.log("Search parameters being sent to API:",{minPrice:l[0],maxPrice:l[1],checkIn:D,checkOut:H,kieuPhong:u,loaiPhong:d});const O=await Kt.searchRoomsByPriceRange(D,H,l[0],l[1],u,d);if(O.statusCode===200){if(console.log("API Response Data:",O.availableRoomsByHangPhongList),O.availableRoomsByHangPhongList&&O.availableRoomsByHangPhongList.length===0){T("Không có phòng trống trong khoảng thời gian và mức giá này.");return}e(O.availableRoomsByHangPhongList||[],{startDate:r,endDate:i,priceRange:l,kieuPhong:u,loaiPhong:d}),g("")}}catch(D){T("Có lỗi xảy ra: "+(D.message||"Không thể tìm kiếm phòng"))}};return s.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày nhận phòng"}),s.jsx($y,{selected:r,onChange:D=>a(D),dateFormat:"dd/MM/yyyy",placeholderText:"Chọn ngày nhận phòng",className:"w-full",minDate:new Date,showPopperArrow:!1,popperPlacement:"bottom-start"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày trả phòng"}),s.jsx($y,{selected:i,onChange:D=>o(D),dateFormat:"dd/MM/yyyy",placeholderText:"Chọn ngày trả phòng",className:"w-full",minDate:r||new Date,showPopperArrow:!1,popperPlacement:"bottom-start"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Giá: ",C(l[0])," - ",C(l[1])]}),s.jsx("div",{className:"px-1",style:{height:"48px",display:"flex",alignItems:"center"},children:s.jsxs("div",{className:"dual-range-slider",style:{width:"100%"},children:[s.jsx("div",{className:"slider-track"}),s.jsx("div",{className:"slider-range",style:j()}),s.jsx("input",{type:"range",min:"0",max:"10000000",step:"500000",value:l[0],onChange:D=>{const H=parseInt(D.target.value),O=l[1]-5e5,B=Math.min(H,O);c([B,l[1]])},onMouseDown:()=>b("min"),onMouseUp:()=>b(null),onTouchStart:()=>b("min"),onTouchEnd:()=>b(null),className:"range-min",style:{zIndex:y==="min"?6:l[0]>l[1]-1e6?5:3}}),s.jsx("input",{type:"range",min:"0",max:"10000000",step:"500000",value:l[1],onChange:D=>{const H=parseInt(D.target.value),O=l[0]+5e5,B=Math.max(H,O);c([l[0],B])},onMouseDown:()=>b("max"),onMouseUp:()=>b(null),onTouchStart:()=>b("max"),onTouchEnd:()=>b(null),className:"range-max",style:{zIndex:y==="max"?6:5}})]})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1 px-1",children:[s.jsx("span",{children:"0đ"}),s.jsx("span",{children:"10 triệu"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:u,onChange:D=>h(D.target.value),className:"w-full h-12 px-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-700",children:[s.jsx("option",{value:"",children:"Tất cả"}),m.map(D=>s.jsx("option",{value:D.tenKp,children:D.tenKp},D.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:d,onChange:D=>f(D.target.value),className:"w-full h-12 px-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-700",children:[s.jsx("option",{value:"",children:"Tất cả"}),p.map(D=>s.jsx("option",{value:D.tenLp,children:D.tenLp},D.idLp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),s.jsx("button",{className:"btn-primary w-full h-12 text-lg font-semibold",onClick:k,children:"Tìm phòng"})]})]})]}),v&&s.jsx("p",{className:"text-red-600 text-sm mt-2",children:v})]})},Hp=[{value:"wifi",label:"Wi-Fi",icon:rm,category:"basic"},{value:"tv",label:"TV",icon:Qc,category:"basic"},{value:"ac",label:"Air Conditioner",icon:Q_,category:"basic"},{value:"fridge",label:"Mini Fridge",icon:Jg,category:"basic"},{value:"tv-32",label:"TV 32 inch",icon:Qc,category:"entertainment"},{value:"tv-42",label:"TV 42 inch",icon:Qc,category:"entertainment"},{value:"tv-50",label:"TV 50 inch",icon:Qc,category:"entertainment"},{value:"single-sofa",label:"Single sofa",icon:g_,category:"furniture"},{value:"double-sofa",label:"Double sofa",icon:W_,category:"furniture"},{value:"work-table",label:"Work Table",icon:j_,category:"furniture"},{value:"bathtub",label:"Bathtub",icon:w_,category:"bathroom"},{value:"shower",label:"Separate shower",icon:V_,category:"bathroom"},{value:"jacuzzi",label:"Jacuzzi",icon:ey,category:"bathroom"},{value:"balcony",label:"Private balcony",icon:mr,category:"room"},{value:"living-room",label:"Separate living room",icon:yc,category:"room"},{value:"dining-area",label:"Private dining area",icon:Zg,category:"room"},{value:"city-view",label:"City/Pool view",icon:Hn,category:"room"},{value:"coffee-machine",label:"Coffee machine",icon:wo,category:"dining"},{value:"coffee-set",label:"Coffee set",icon:wo,category:"dining"},{value:"mini-bar",label:"Mini bar",icon:Jg,category:"dining"},{value:"bluetooth-speaker",label:"Bluetooth speaker",icon:G_,category:"entertainment"},{value:"parking",label:"Bãi đỗ xe",icon:zN,category:"basic"},{value:"bed",label:"Giường thoải mái",icon:N_,category:"basic"},{value:"restaurant",label:"Nhà hàng",icon:Zg,category:"dining"},{value:"microwave",label:"Lò vi sóng",icon:O_,category:"dining"},{value:"gym",label:"Phòng tập gym",icon:QN,category:"entertainment"},{value:"pool",label:"Hồ bơi",icon:ey,category:"entertainment"},{value:"music",label:"Hệ thống âm thanh",icon:L_,category:"entertainment"},{value:"security",label:"An ninh 24/7",icon:Td,category:"service"},{value:"phone",label:"Điện thoại",icon:ds,category:"service"},{value:"laundry",label:"Dịch vụ giặt ủi",icon:U_,category:"service"},{value:"reception-24h",label:"Lễ tân 24h",icon:gn,category:"service"},{value:"concierge",label:"Dịch vụ concierge",icon:mn,category:"service"},{value:"heating",label:"Hệ thống sưởi",icon:z_,category:"comfort"},{value:"cooling",label:"Hệ thống làm mát",icon:K_,category:"comfort"},{value:"night-service",label:"Dịch vụ đêm",icon:M_,category:"comfort"},{value:"location",label:"Vị trí thuận lợi",icon:_r,category:"location"},{value:"eco-friendly",label:"Thân thiện môi trường",icon:D_,category:"special"},{value:"luxury",label:"Dịch vụ cao cấp",icon:mh,category:"special"},{value:"family-friendly",label:"Thân thiện gia đình",icon:E_,category:"special"},{value:"business",label:"Tiện ích kinh doanh",icon:X_,category:"business"},{value:"photography",label:"Dịch vụ chụp ảnh",icon:k_,category:"special"},{value:"gift-shop",label:"Cửa hàng quà tặng",icon:_u,category:"shopping"}],A5={TN01:"wifi",TN02:"tv",TN03:"ac",TN04:"fridge",TN06:"tv-32",TN07:"tv-42",TN08:"tv-50",TN09:"single-sofa",TN10:"double-sofa",TN11:"bathtub",TN12:"shower",TN13:"balcony",TN14:"coffee-machine",TN15:"coffee-set",TN16:"city-view",TN17:"living-room",TN18:"jacuzzi",TN19:"mini-bar",TN20:"bluetooth-speaker",TN22:"dining-area",TN23:"work-table",wifi:"wifi",tv:"tv",ac:"ac",fridge:"fridge","tv-32":"tv-32","tv-42":"tv-42","tv-50":"tv-50","single-sofa":"single-sofa","double-sofa":"double-sofa",bathtub:"bathtub",shower:"shower",balcony:"balcony","coffee-machine":"coffee-machine","coffee-set":"coffee-set","city-view":"city-view","living-room":"living-room",jacuzzi:"jacuzzi","mini-bar":"mini-bar","bluetooth-speaker":"bluetooth-speaker","dining-area":"dining-area","work-table":"work-table","/icons/wifi.png":"wifi","/icons/tv.png":"tv","/icons/ac.png":"ac","/icons/fridge.png":"fridge","/icons/safe.png":"security"},L2=(e,t="w-5 h-5")=>{const n=A5[e]||e,r=Hp.find(a=>a.value===n);if(r){const a=r.icon;return s.jsx(a,{className:t})}return s.jsx("div",{className:`${t} bg-gray-300 rounded flex items-center justify-center text-xs text-gray-600`,title:`Icon not found: ${e}`,children:"?"})},O5=(e,t,n="w-5 h-5")=>{if(e)try{let r=e;if(e instanceof ArrayBuffer){const i=new Uint8Array(e);r=btoa(String.fromCharCode.apply(null,i))}const a=atob(r);return s.jsx("div",{className:n,dangerouslySetInnerHTML:{__html:a},style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}})}catch(r){console.warn("Failed to render blob icon:",r)}return L2(t,n)},R5=()=>[...new Set(Hp.map(t=>t.category))].map(t=>({value:t,label:M5(t)})),M5=e=>({basic:"Tiện ích cơ bản",dining:"Ăn uống",entertainment:"Giải trí",service:"Dịch vụ",comfort:"Tiện nghi",location:"Vị trí",special:"Đặc biệt",business:"Kinh doanh",shopping:"Mua sắm",furniture:"Nội thất",bathroom:"Phòng tắm",room:"Tiện ích phòng"})[e]||e,L5=e=>{const t=new Uint8Array(e);let n="";for(let r=0;r<t.byteLength;r++)n+=String.fromCharCode(t[r]);return btoa(n)},F5=e=>{try{if(typeof e=="string"){if(e.includes("base64,"))return atob(e.split("base64,")[1]);try{return atob(e)}catch{return e}}if(e instanceof ArrayBuffer){const t=L5(e);return atob(t)}if(e instanceof Uint8Array){const t=btoa(String.fromCharCode.apply(null,e));return atob(t)}return null}catch(t){return console.warn("Failed to convert blob to SVG string:",t),null}},F2=e=>!e||typeof e!="string"?!1:e.trim().startsWith("<svg")&&e.includes("</svg>"),I5=e=>F2(e)?e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+="[^"]*"/gi,"").replace(/on\w+='[^']*'/gi,"").replace(/javascript:/gi,""):null,B5=(e,t="",n={})=>{const r=F5(e);if(!r||!F2(r))return null;const a=I5(r);if(!a)return null;let i=a;if(t&&(i.includes('class="')?i=i.replace(/class="([^"]*)"/,`class="$1 ${t}"`):i=i.replace("<svg",`<svg class="${t}"`)),Object.keys(n).length>0){const o=Object.entries(n).map(([l,c])=>`${l.replace(/([A-Z])/g,"-$1").toLowerCase()}:${c}`).join(";");i.includes('style="')?i=i.replace(/style="([^"]*)"/,`style="$1;${o}"`):i=i.replace("<svg",`<svg style="${o}"`)}return i},gm=({amenity:e,className:t="w-5 h-5",showTooltip:n=!1})=>{if(e!=null&&e.ICON||e!=null&&e.icon){const a=e.ICON||e.icon,i=e.ID_TN||e.idTn||e.iconName,o=B5(a,t);return o?s.jsxs("div",{className:n?"relative group":"",title:n?e.TEN_TN||e.tenTn:void 0,children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:o},style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}}),n&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:e.TEN_TN||e.tenTn})]}):s.jsxs("div",{className:n?"relative group":"",title:n?e.TEN_TN||e.tenTn:void 0,children:[O5(a,i,t),n&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:e.TEN_TN||e.tenTn})]})}const r=(e==null?void 0:e.iconName)||(e==null?void 0:e.icon)||"wifi";return s.jsxs("div",{className:n?"relative group":"",title:n?e.TEN_TN||e.tenTn:void 0,children:[L2(r,t),n&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:e.TEN_TN||e.tenTn})]})},Sn=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),$5=(e,t)=>{const n=new Date(e),r=new Date(t);return n.toDateString()===r.toDateString()||Math.ceil((r-n)/(1e3*60*60*24))===1?n.toLocaleDateString("vi-VN"):`${n.toLocaleDateString("vi-VN")} - ${r.toLocaleDateString("vi-VN")}`},H5=e=>{if(!e||e.length===0)return null;const t=e.map(a=>a.pricePerNight),n=Math.min(...t),r=Math.max(...t);return{min:n,max:r,isSamePrice:n===r}},I2=e=>!e||e.length===0?[]:e.map(t=>({...t,formattedDateRange:$5(t.startDate,t.endDate),formattedPrice:Sn(t.pricePerNight),formattedTotal:Sn(t.totalPrice),nightsText:t.numberOfNights===1?"1 đêm":`${t.numberOfNights} đêm`})),U5=e=>{if(e.priceSegments&&e.priceSegments.length>0){const t=H5(e.priceSegments);return t.isSamePrice?{price:t.min,label:"/đêm",type:"single"}:{price:t.min,label:"/đêm",prefix:"Từ",type:"range"}}return e.averagePrice?{price:e.averagePrice,label:"/đêm",type:"average"}:e.totalPrice&&e.numberOfNights?{price:e.totalPrice/e.numberOfNights,label:"/đêm",type:"calculated"}:e.giaHienTai?{price:e.giaHienTai,label:"/đêm",type:"current"}:null},V5=({room:e,bookingData:t,setBookingData:n,searchDates:r,onNext:a,onClose:i})=>{const[o,l]=N.useState((r==null?void 0:r.checkIn)||null),[c,u]=N.useState((r==null?void 0:r.checkOut)||null),[h,d]=N.useState(0),[f,m]=N.useState(1),[x,p]=N.useState("");N.useEffect(()=>{if(o&&c){const T=w(o,c);d(T)}},[o,c]);const w=(T,k)=>{if(T&&k){const D=Math.abs(k-T);return Math.ceil(D/(1e3*60*60*24))}return 0},v=()=>e.totalPrice&&f?e.totalPrice*f:e.giaHienTai&&h>0?e.giaHienTai*h*f:0,g=()=>v()*.2,y=T=>{if(p(""),T<1){p("Số lượng phòng phải ít nhất là 1");return}if(T>e.soPhongTrong){p(`Chỉ còn ${e.soPhongTrong} phòng trống`);return}m(T)},b=()=>{y(f+1)},j=()=>{y(f-1)},C=()=>{if(!o||!c){alert("Vui lòng điền đầy đủ thông tin");return}if(x){alert("Vui lòng kiểm tra lại số lượng phòng");return}const T=v(),k=g();n({...t,checkIn:o,checkOut:c,nights:h,roomQuantity:f,totalAmount:T,depositAmount:k}),a()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Thông tin phòng đã chọn"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-lg text-gray-800",children:[e.tenKieuPhong," - ",e.tenLoaiPhong]}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.moTaKieuPhong}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mn,{size:16}),e.moTaKieuPhong]}),s.jsxs("span",{className:"text-green-600 font-medium",children:[e.soPhongTrong,"/",e.tongSoPhong," phòng trống"]})]})]}),s.jsx("div",{className:"text-right",children:e.priceSegments&&e.priceSegments.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Chi tiết giá"}),s.jsx("div",{className:"space-y-1 mb-3",children:I2(e.priceSegments).map((T,k)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[T.formattedDateRange," (",T.nightsText,")"]}),s.jsx("span",{className:"font-medium text-blue-600",children:T.formattedPrice})]},k))}),e.totalPrice&&s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Tổng:"}),s.jsx("span",{className:"text-xl font-bold text-blue-600",children:Sn(e.totalPrice)})]})})]}):e.averagePrice?s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Sn(e.averagePrice)}),s.jsx("div",{className:"text-sm text-gray-500",children:"/ đêm (trung bình)"}),e.totalPrice&&s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Tổng: ",Sn(e.totalPrice)]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Sn(e.giaHienTai)}),s.jsx("div",{className:"text-sm text-gray-500",children:"/ đêm"})]})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Lưu ý:"})," Ngày nhận phòng và ngày trả phòng được lấy từ form tìm kiếm. Nếu muốn thay đổi ngày, vui lòng quay lại trang tìm kiếm để tìm lại phòng phù hợp."]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Ngày nhận phòng"]}),s.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700",children:o?o.toLocaleDateString("vi-VN"):"Chưa chọn ngày"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Ngày trả phòng"]}),s.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700",children:c?c.toLocaleDateString("vi-VN"):"Chưa chọn ngày"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số đêm"}),s.jsxs("div",{className:"px-3 py-2 bg-gray-100 rounded-lg text-gray-700",children:[h," đêm"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng phòng"}),s.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-300 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:j,disabled:f<=1,className:"w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center hover:border-blue-500 hover:text-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(R_,{size:16})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800",children:f}),s.jsx("div",{className:"text-xs text-gray-500",children:"phòng"})]}),s.jsx("button",{onClick:b,disabled:f>=e.soPhongTrong,className:"w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center hover:border-blue-500 hover:text-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(Bn,{size:16})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Phòng trống"}),s.jsx("div",{className:"text-sm font-semibold text-green-600",children:e.soPhongTrong})]})]}),x&&s.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-xs",children:x})})]})]}),h>0&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Tóm tắt chi phí"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[e.totalPrice?s.jsxs("span",{children:["Giá phòng cho ",h," đêm x ",f," phòng"]}):s.jsxs("span",{children:[Sn(e.giaHienTai)," x ",h," đêm x ",f," phòng"]}),s.jsx("span",{children:Sn(v())})]}),e.totalPrice&&e.averagePrice&&s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:["Giá trung bình: ",Sn(e.averagePrice)," / đêm"]}),s.jsx("span",{})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[s.jsx("span",{children:"Tổng cộng"}),s.jsx("span",{className:"text-xl text-blue-600",children:Sn(v())})]}),s.jsxs("div",{className:"flex justify-between text-orange-600",children:[s.jsx("span",{children:"Tiền đặt cọc (20%)"}),s.jsx("span",{className:"font-semibold",children:Sn(g())})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:i,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Hủy"}),s.jsx("button",{onClick:C,disabled:!o||!c||h===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Tiếp tục"})]})]})},K5=({bookingData:e,setBookingData:t,onNext:n,onBack:r})=>{var m,x;const{user:a}=Pr(),[i,o]=N.useState({fullName:"",phone:"",email:"",idCard:""}),[l,c]=N.useState({});N.useEffect(()=>{a&&(console.log("User data for auto-fill:",a),o({fullName:a.hoTen||a.tenKhachHang||a.fullName||a.name||"",phone:a.sdt||a.soDienThoai||a.phone||a.phoneNumber||"",email:a.email||"",idCard:a.cccd||a.cmnd||a.idCard||a.identityCard||""}))},[a]);const u=()=>{const p={};return(!i.fullName||!i.fullName.trim())&&(p.fullName="Vui lòng nhập họ tên"),!i.phone||!i.phone.trim()?p.phone="Vui lòng nhập số điện thoại":/^[0-9]{10,11}$/.test(i.phone.trim())||(p.phone="Số điện thoại không hợp lệ (10-11 số)"),!i.email||!i.email.trim()?p.email="Vui lòng nhập email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email.trim())||(p.email="Email không hợp lệ"),!i.idCard||!i.idCard.trim()?p.idCard="Vui lòng nhập CCCD/CMND":/^[0-9]{9,12}$/.test(i.idCard.trim())||(p.idCard="CCCD/CMND không hợp lệ (9-12 số)"),c(p),Object.keys(p).length===0},h=(p,w)=>{o(v=>({...v,[p]:w})),l[p]&&c(v=>({...v,[p]:""}))},d=()=>{if(!e.checkIn||!e.checkOut||!e.totalAmount){alert("Thông tin đặt phòng không đầy đủ. Vui lòng quay lại bước trước để kiểm tra.");return}if(u()){const p={...e,customerInfo:i};t(p),setTimeout(()=>{n()},100)}},f=p=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(us,{className:"text-yellow-600 mt-1",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Thông tin liên lạc khách sạn"}),s.jsxs("div",{className:"space-y-2 text-yellow-700",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ds,{size:16}),s.jsx("span",{className:"font-medium",children:"Hotline: 1900-1234"})]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Lưu ý quan trọng:"})," Sau khi điền thông tin, vui lòng chú ý nghe máy. Nhân viên khách sạn sẽ gọi để xác nhận đặt phòng và hướng dẫn thanh toán trong vòng 15 phút."]})]})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Tóm tắt đặt phòng"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Phòng:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[e.room.tenKieuPhong," - ",e.room.tenLoaiPhong]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Số lượng:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[e.roomQuantity||1," phòng"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Số đêm:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[e.nights," đêm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Nhận phòng:"}),s.jsx("span",{className:"ml-2 font-medium",children:(m=e.checkIn)==null?void 0:m.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Trả phòng:"}),s.jsx("span",{className:"ml-2 font-medium",children:(x=e.checkOut)==null?void 0:x.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tổng tiền:"}),s.jsx("span",{className:"ml-2 font-medium text-blue-600",children:f(e.totalAmount)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Đặt cọc:"}),s.jsx("span",{className:"ml-2 font-medium text-orange-600",children:f(e.depositAmount)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Thông tin khách hàng"}),a&&s.jsx("div",{className:"text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:"Đã điền từ tài khoản của bạn"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ft,{className:"inline w-4 h-4 mr-1"}),"Họ và tên *"]}),s.jsx("input",{type:"text",value:i.fullName,onChange:p=>h("fullName",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.fullName?"border-red-500":"border-gray-300"}`,placeholder:"Nhập họ và tên"}),l.fullName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.fullName})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ds,{className:"inline w-4 h-4 mr-1"}),"Số điện thoại *"]}),s.jsx("input",{type:"tel",value:i.phone,onChange:p=>h("phone",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.phone?"border-red-500":"border-gray-300"}`,placeholder:"Nhập số điện thoại"}),l.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(hs,{className:"inline w-4 h-4 mr-1"}),"Email *"]}),s.jsx("input",{type:"email",value:i.email,onChange:p=>h("email",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"Nhập email"}),l.email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CCCD/CMND *"}),s.jsx("input",{type:"text",value:i.idCard,onChange:p=>h("idCard",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.idCard?"border-red-500":"border-gray-300"}`,placeholder:"Nhập số CCCD/CMND"}),l.idCard&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.idCard})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Quay lại"}),s.jsx("button",{onClick:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tiếp tục thanh toán"})]})]})},W5=({amount:e,currency:t="VND",onSuccess:n,onError:r,onCancel:a,disabled:i=!1,bookingData:o})=>{const[{isPending:l}]=wN(),[c,u]=N.useState(!1),h=G4(e),d=(p,w)=>{var v;return console.log("Creating PayPal order with amount:",h,"USD"),console.log("Booking data:",o),w.order.create({purchase_units:[{amount:{currency_code:"USD",value:h.toString()},description:`Đặt cọc phòng khách sạn - ${((v=o==null?void 0:o.room)==null?void 0:v.tenKieuPhong)||"Phòng"}`,custom_id:`booking_${Date.now()}`}],application_context:{shipping_preference:"NO_SHIPPING"}}).catch(g=>{throw console.error("Error creating PayPal order:",g),g})},f=async(p,w)=>{var v,g;u(!0);try{const y=await w.order.capture();console.log("PayPal Payment Success:",y);const b={paypalOrderId:y.id,paypalPayerId:y.payer.payer_id,paymentStatus:y.status,amountPaid:{usd:parseFloat(y.purchase_units[0].amount.value),vnd:e},paymentMethod:"PAYPAL",transactionId:y.purchase_units[0].payments.captures[0].id,paymentTime:new Date().toISOString(),payerInfo:{email:y.payer.email_address,name:((v=y.payer.name)==null?void 0:v.given_name)+" "+((g=y.payer.name)==null?void 0:g.surname),payerId:y.payer.payer_id}};X.success("Thanh toán PayPal thành công!"),n&&n(b)}catch(y){console.error("PayPal payment error:",y),X.error("Có lỗi xảy ra khi xử lý thanh toán"),r&&r(y)}finally{u(!1)}},m=p=>{console.error("PayPal Error:",p),X.error("Có lỗi xảy ra với PayPal"),r&&r(p)},x=p=>{console.log("PayPal Payment Cancelled:",p),X.info("Thanh toán đã bị hủy"),a&&a(p)};return l?s.jsxs("div",{className:"flex justify-center items-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Đang tải PayPal..."})]}):s.jsxs("div",{className:"paypal-button-container",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Số tiền thanh toán"}),s.jsx("p",{className:"text-lg font-bold text-blue-800",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}),s.jsxs("p",{className:"text-sm text-blue-500",children:["≈ $",h," USD"]})]})}),s.jsx(wp,{style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal",height:45},disabled:i||c,createOrder:d,onApprove:f,onError:m,onCancel:x}),c&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("div",{className:"inline-flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),s.jsx("span",{className:"text-blue-600",children:"Đang xử lý thanh toán..."})]})})]})},Y5=({amount:e,bookingData:t,onSuccess:n,onError:r,onBack:a})=>{const[i,o]=N.useState(!1),l=async h=>{var d,f,m;o(!0);try{console.log("PayPal payment successful, processing booking..."),console.log("Payment data received:",h),console.log("Booking data:",t);const x={...t,paymentData:h,paymentStatus:"PAID",paymentMethod:"PAYPAL"};console.log("Original bookingData:",t),console.log("checkIn type:",typeof t.checkIn,t.checkIn),console.log("checkOut type:",typeof t.checkOut,t.checkOut),console.log("Customer info from bookingData:",{fullName:t.fullName,phone:t.phone,email:t.email,idCard:t.idCard}),console.log("Customer info from customerInfo:",t.customerInfo);const p=y=>{if(!y)return null;if(y instanceof Date){const b=y.getFullYear(),j=String(y.getMonth()+1).padStart(2,"0"),C=String(y.getDate()).padStart(2,"0");return`${b}-${j}-${C}`}if(typeof y=="string"){const b=new Date(y),j=b.getFullYear(),C=String(b.getMonth()+1).padStart(2,"0"),T=String(b.getDate()).padStart(2,"0");return`${j}-${C}-${T}`}return null},w=t.customerInfo;if(!w||!w.fullName||!w.phone||!w.email||!w.idCard)throw new Error("Thông tin khách hàng không đầy đủ. Vui lòng kiểm tra lại.");const v={checkIn:p(t.checkIn),checkOut:p(t.checkOut),nights:t.nights,fullName:w.fullName.trim(),phone:w.phone.trim(),email:w.email.trim(),idCard:w.idCard.trim(),room:{idHangPhong:t.room.idHangPhong,tenKieuPhong:t.room.tenKieuPhong,tenLoaiPhong:t.room.tenLoaiPhong,tenHangPhong:t.room.tenHangPhong,giaPhong:t.room.giaPhong,soLuongPhongDat:t.roomQuantity||1},totalAmount:t.totalAmount,depositAmount:t.depositAmount,paymentMethod:"PAYPAL",paymentStatus:"PAID",paymentData:h};console.log("Calling PayPal booking API with:",v);const g=await V.post("/api/phieu-dat/create-paypal",v);if(console.log("API response:",g.data),g.data.statusCode===200)X.success("Đặt phòng thành công!"),n&&n(g.data);else throw new Error(g.data.message||"Có lỗi xảy ra khi tạo booking")}catch(x){console.error("Booking creation error:",x),console.error("Error details:",((d=x.response)==null?void 0:d.data)||x.message);let p="Có lỗi xảy ra khi tạo đặt phòng";(m=(f=x.response)==null?void 0:f.data)!=null&&m.message?p+=": "+x.response.data.message:x.message&&(p+=": "+x.message),X.error(p),r&&r(x)}finally{o(!1)}},c=h=>{console.error("Payment error:",h),X.error("Có lỗi xảy ra khi thanh toán"),r&&r(h)},u=h=>{console.log("Payment cancelled:",h),X.info("Thanh toán đã bị hủy")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Thanh toán PayPal"}),a&&s.jsxs("button",{onClick:a,className:"flex items-center text-gray-600 hover:text-gray-800",children:[s.jsx(em,{size:20,className:"mr-1"}),"Quay lại"]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Thông tin thanh toán"}),s.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("p",{children:"• Bạn chỉ cần thanh toán 20% tổng tiền phòng để đặt cọc"}),s.jsx("p",{children:"• Số tiền còn lại sẽ thanh toán khi nhận phòng"}),s.jsx("p",{children:"• Tiền cọc sẽ được hoàn lại nếu hủy phòng trước 24h"}),s.jsx("p",{children:"• Sau khi thanh toán, nhân viên sẽ gọi xác nhận trong 15 phút"})]})]}),s.jsx("div",{className:"bg-white border rounded-lg p-6",children:s.jsx(W5,{amount:e,bookingData:t,onSuccess:l,onError:c,onCancel:u,disabled:i})}),s.jsx("div",{className:"text-center text-xs text-gray-500",children:s.jsx("p",{children:"Bằng cách thanh toán, bạn đồng ý với điều khoản sử dụng của chúng tôi"})})]})},z5=({bookingData:e,onBack:t,onComplete:n})=>{var f,m,x,p;const[r,a]=N.useState("paypal"),[i,o]=N.useState(!1),[l,c]=N.useState(!1),u=w=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(w),h=w=>{c(!0),o(!1),console.log("Payment successful:",w),console.log("Booking data:",e),setTimeout(()=>{n()},3e3)},d=w=>{o(!1),console.error("Payment error:",w),alert("Có lỗi xảy ra trong quá trình thanh toán. Vui lòng thử lại.")};return l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(In,{className:"mx-auto text-green-500 mb-4",size:64}),s.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Đặt phòng thành công!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Cảm ơn bạn đã đặt phòng. Chúng tôi sẽ liên hệ với bạn trong thời gian sớm nhất."}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 max-w-md mx-auto",children:s.jsx("p",{className:"text-sm text-green-700",children:"Mã đặt phòng của bạn sẽ được gửi qua email và SMS."})})]}):!e||!e.room||!e.customerInfo?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(us,{className:"mx-auto text-red-500 mb-4",size:64}),s.jsx("h3",{className:"text-xl font-bold text-red-600 mb-2",children:"Thiếu thông tin đặt phòng"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vui lòng quay lại các bước trước để điền đầy đủ thông tin."}),s.jsx("button",{onClick:t,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Quay lại"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(us,{className:"text-blue-600 mt-1",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Thông tin thanh toán"}),s.jsxs("div",{className:"space-y-2 text-blue-700 text-sm",children:[s.jsx("p",{children:"• Bạn chỉ cần thanh toán 20% tổng tiền phòng để đặt cọc"}),s.jsx("p",{children:"• Số tiền còn lại sẽ thanh toán khi nhận phòng"}),s.jsx("p",{children:"• Tiền cọc sẽ được hoàn lại nếu hủy phòng trước 24h"}),s.jsx("p",{children:"• Sau khi thanh toán, nhân viên sẽ gọi xác nhận trong 15 phút"})]})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Chi tiết đặt phòng"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Phòng:"}),s.jsxs("span",{className:"font-medium",children:[e.room.tenKieuPhong," - ",e.room.tenLoaiPhong]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số lượng:"}),s.jsxs("span",{className:"font-medium",children:[e.roomQuantity||1," phòng"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Khách hàng:"}),s.jsx("span",{className:"font-medium",children:(f=e.customerInfo)==null?void 0:f.fullName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số điện thoại:"}),s.jsx("span",{className:"font-medium",children:(m=e.customerInfo)==null?void 0:m.phone})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in:"}),s.jsx("span",{className:"font-medium",children:(x=e.checkIn)==null?void 0:x.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-out:"}),s.jsx("span",{className:"font-medium",children:(p=e.checkOut)==null?void 0:p.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số đêm:"}),s.jsxs("span",{className:"font-medium",children:[e.nights," đêm"]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Tổng tiền:"}),s.jsx("span",{className:"font-bold text-blue-600",children:u(e.totalAmount)})]}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"text-orange-600 font-medium",children:"Tiền đặt cọc (20%):"}),s.jsx("span",{className:"font-bold text-orange-600",children:u(e.depositAmount)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Phương thức thanh toán"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:r==="paypal",onChange:w=>a(w.target.value),className:"mr-3"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-8 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"PayPal"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"PayPal"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Thanh toán an toàn với PayPal"})]})]})]}),s.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50 opacity-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"card",disabled:!0,className:"mr-3"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ql,{className:"text-gray-400",size:32}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-400",children:"Thẻ tín dụng/ghi nợ"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Sắp ra mắt"})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[s.jsx(Td,{size:16}),s.jsx("span",{children:"Thông tin thanh toán của bạn được bảo mật với mã hóa SSL 256-bit"})]}),r==="paypal"&&s.jsx(Y5,{amount:e.depositAmount,bookingData:e,onSuccess:h,onError:d}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:t,disabled:i,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Quay lại"}),r!=="paypal"&&s.jsx("button",{disabled:i,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Đang xử lý...":`Thanh toán ${u(e.depositAmount)}`})]})]})},q5=({room:e,searchDates:t,onClose:n})=>{const[r,a]=N.useState(1),[i,o]=N.useState({room:e,checkIn:null,checkOut:null,guests:1,nights:0,roomQuantity:1,customerInfo:null,totalAmount:0,depositAmount:0}),l=()=>{switch(r){case 1:return s.jsx(V5,{room:e,bookingData:i,setBookingData:o,searchDates:t,onNext:()=>a(2),onClose:n});case 2:return s.jsx(K5,{bookingData:i,setBookingData:o,onNext:()=>a(3),onBack:()=>a(1)});case 3:return s.jsx(z5,{bookingData:i,onBack:()=>a(2),onComplete:n});default:return null}},c=()=>{switch(r){case 1:return"Xác nhận thông tin đặt phòng";case 2:return"Thông tin liên lạc";case 3:return"Thanh toán đặt cọc";default:return""}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c()}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[s.jsxs("div",{className:`flex items-center ${r>=1?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=1?"bg-blue-600 text-white":"bg-gray-200"}`,children:"1"}),s.jsx("span",{className:"ml-2 text-sm",children:"Xác nhận"})]}),s.jsx("div",{className:`w-8 h-1 ${r>=2?"bg-blue-600":"bg-gray-200"}`}),s.jsxs("div",{className:`flex items-center ${r>=2?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=2?"bg-blue-600 text-white":"bg-gray-200"}`,children:"2"}),s.jsx("span",{className:"ml-2 text-sm",children:"Liên lạc"})]}),s.jsx("div",{className:`w-8 h-1 ${r>=3?"bg-blue-600":"bg-gray-200"}`}),s.jsxs("div",{className:`flex items-center ${r>=3?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=3?"bg-blue-600 text-white":"bg-gray-200"}`,children:"3"}),s.jsx("span",{className:"ml-2 text-sm",children:"Thanh toán"})]})]})]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(pn,{size:24})})]}),s.jsx("div",{className:"p-6",children:l()})]})})},Up=({searchResults:e,searchDates:t,isPublic:n=!1})=>{const r=tr(),[a,i]=N.useState(null),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[h,d]=N.useState(null),f=x=>{if(n){const p={room:x,searchDates:t,returnUrl:"/booking"};sessionStorage.setItem("pendingBooking",JSON.stringify(p)),r("/login?redirect=booking")}else i(x),l(!0)},m=x=>{d(x),u(!0)};return!e||e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Không có kết quả tìm kiếm"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Kết quả tìm kiếm"}),s.jsxs("p",{className:"text-gray-600",children:["Tìm thấy ",e.length," hạng phòng phù hợp"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((x,p)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"relative",children:x.danhSachAnhUrl&&x.danhSachAnhUrl.length>0?s.jsx("img",{src:x.danhSachAnhUrl[0],alt:`${x.tenKieuPhong} - ${x.tenLoaiPhong}`,className:"w-full h-56 object-cover"}):s.jsx("div",{className:"w-full h-56 bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-sm",children:"Không có hình ảnh"})})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2",children:[x.tenKieuPhong," - ",x.tenLoaiPhong]}),s.jsx("div",{className:"text-right mb-3",children:(()=>{const w=U5(x);return w?s.jsxs("div",{children:[w.prefix&&s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:w.prefix}),s.jsx("div",{className:"text-xl font-bold text-blue-600",children:Sn(w.price)}),s.jsx("div",{className:"text-xs text-gray-500",children:w.label})]}):null})()}),s.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:x.moTaKieuPhong}),x.danhSachTienNghi&&x.danhSachTienNghi.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[x.danhSachTienNghi.slice(0,3).map((w,v)=>s.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-600 bg-gray-50 px-2 py-1 rounded border",children:[s.jsx(gm,{amenity:w,className:"w-3 h-3"}),w.tenTn]},v)),x.danhSachTienNghi.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",x.danhSachTienNghi.length-3]})]}),s.jsxs("div",{className:"text-green-600 font-medium text-xs mb-3",children:[x.soPhongTrong,"/",x.tongSoPhong," phòng trống"]}),s.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-3 rounded-lg transition-colors duration-200 text-sm",onClick:()=>m(x),children:"Xem Chi Tiết & Đặt Phòng"})]})]},p))}),o&&a&&s.jsx(q5,{room:a,searchDates:t,onClose:()=>{l(!1),i(null)}}),c&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[h.tenKieuPhong," - ",h.tenLoaiPhong]}),s.jsx("button",{onClick:()=>{u(!1),d(null)},className:"text-gray-500 hover:text-gray-700 text-2xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100",children:"×"})]}),s.jsxs("div",{className:"flex h-[calc(90vh-80px)]",children:[s.jsxs("div",{className:"flex-[2] p-6 overflow-y-auto",children:[h.danhSachAnhUrl&&h.danhSachAnhUrl.length>0&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:h.danhSachAnhUrl[0],alt:h.tenKieuPhong,className:"w-full h-72 object-cover rounded-xl"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Thông tin hạng phòng"}),s.jsx("p",{className:"text-gray-600 mb-3",children:h.moTaKieuPhong}),s.jsxs("div",{className:"inline-block bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[h.soPhongTrong,"/",h.tongSoPhong," phòng trống"]})]}),h.danhSachTienNghi&&h.danhSachTienNghi.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Tiện nghi"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:h.danhSachTienNghi.map((x,p)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx(gm,{amenity:x,className:"w-4 h-4 text-blue-500",showTooltip:!0}),s.jsx("span",{className:"text-sm text-gray-700",children:x.tenTn})]},p))})]}),h.danhSachKhuyenMai&&h.danhSachKhuyenMai.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Khuyến mãi"}),s.jsx("div",{className:"space-y-2",children:h.danhSachKhuyenMai.map((x,p)=>s.jsx("div",{className:"bg-red-50 border border-red-200 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-red-700 font-medium",children:["🎉 ",x.moTaKm]}),x.phanTramGiam&&s.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",x.phanTramGiam,"%"]})]})},p))})]}),h.danhSachAnhUrl&&h.danhSachAnhUrl.length>1&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Hình ảnh khác"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:h.danhSachAnhUrl.slice(1,9).map((x,p)=>s.jsx("img",{src:x,alt:`${h.tenKieuPhong} - ${p+2}`,className:"w-full h-32 object-cover rounded-lg hover:scale-105 transition-transform cursor-pointer"},p))})]})]})]}),s.jsxs("div",{className:"flex-1 bg-gray-50 p-6 flex flex-col min-w-[320px] max-w-[400px]",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 text-center",children:"Giá hạng phòng"}),s.jsx("div",{className:"text-center mb-6",children:h.priceSegments&&h.priceSegments.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Chi tiết giá"}),s.jsx("div",{className:"space-y-2",children:I2(h.priceSegments).map((x,p)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:x.formattedDateRange}),s.jsx("div",{className:"text-xs text-gray-500",children:x.nightsText})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium text-blue-600",children:x.formattedPrice}),s.jsx("div",{className:"text-xs text-gray-500",children:"/đêm"})]})]},p))}),h.totalPrice&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Tổng cộng:"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:Sn(h.totalPrice)})]})})]}):h.totalPrice?s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:Sn(h.totalPrice)}),s.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"tổng cộng"}),h.averagePrice&&s.jsxs("div",{className:"text-sm text-gray-600",children:[Sn(h.averagePrice)," / đêm"]})]}):h.giaHienTai?s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:Sn(h.giaHienTai)}),s.jsx("div",{className:"text-sm text-gray-500",children:"/ đêm"})]}):null}),s.jsx("button",{onClick:()=>{u(!1),f(h)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-xl transition-colors text-lg shadow-lg",children:n?"Đăng nhập để đặt phòng":"Đặt hạng phòng ngay"}),s.jsxs("div",{className:"mt-4 space-y-2 text-center text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Miễn phí hủy trong 24h"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Xác nhận ngay lập tức"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Thanh toán an toàn"})]})]})]})}),s.jsx("button",{onClick:()=>{u(!1),d(null)},className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:"Đóng"})]})]})]})})]})},B2={async getAllHangPhong(){var e;try{return(await V.get("/api/hang-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHotHangPhongThisMonth(){var e;try{return(await V.get("/api/hang-phong/hot-this-month")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAllHangPhongWithPrices(){var e;try{return(await V.get("/api/hang-phong/all-with-prices")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHangPhongById(e){var t;try{return(await V.get(`/api/hang-phong/get-by-id/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getHangPhongByKieuPhong(e){var t;try{return(await V.get(`/api/hang-phong/by-kieu-phong/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getHangPhongByLoaiPhong(e){var t;try{return(await V.get(`/api/hang-phong/by-loai-phong/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getHangPhongByKieuAndLoai(e,t){var n;try{return(await V.get("/api/hang-phong/by-kieu-and-loai",{params:{idKp:e,idLp:t}})).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async getRoomPriceByKieuAndLoai(e,t){var n;try{return(await V.get("/api/hang-phong/room-price",{params:{idKp:e,idLp:t}})).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async createHangPhong(e){var t;try{return(await V.post("/api/hang-phong/create",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async updateHangPhong(e,t){var n;try{return(await V.put(`/api/hang-phong/update/${e}`,t)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async deleteHangPhong(e){var t;try{return(await V.delete(`/api/hang-phong/delete/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getAvailableHangPhong(){var e;try{return(await V.get("/api/hang-phong/available")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHangPhongWithAvailableRooms(){var e;try{return(await V.get("/api/hang-phong/with-available-rooms")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHangPhongStatistics(){var e;try{return(await V.get("/api/hang-phong/statistics")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async searchHangPhong(e){var t;try{return(await V.get("/api/hang-phong/search",{params:{keyword:e}})).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async filterHangPhong(e,t){var n;try{return(await V.get("/api/hang-phong/filter",{params:{idKp:e,idLp:t}})).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}}},G5=()=>{const e=tr(),t=N.useRef(null),n=N.useRef(null),[r,a]=N.useState([]),[i,o]=N.useState({checkIn:null,checkOut:null}),[l,c]=N.useState(null),[u,h]=N.useState(!1);N.useEffect(()=>{const y=sessionStorage.getItem("homeSearchData");if(y)try{const b=JSON.parse(y);a(b.results||[]),o(b.searchDates||{checkIn:null,checkOut:null})}catch(b){console.error("Error loading saved search data:",b)}},[]);const d=(y,b)=>{a(y);const j=b?{checkIn:b.startDate,checkOut:b.endDate}:{checkIn:null,checkOut:null};o(j);const C={results:y,searchDates:j};sessionStorage.setItem("homeSearchData",JSON.stringify(C)),setTimeout(()=>{t.current&&y.length>0&&t.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},f=y=>{console.log("🚀 handleFeaturedRoomBooking called with room:",y);const b={kieuPhong:y.type,loaiPhong:y.category};sessionStorage.setItem("bookingPrefilledData",JSON.stringify(b)),console.log("📦 Saved prefilled data:",b),console.log("🔄 Navigating to /booking..."),e("/booking")},[m,x]=N.useState([]);N.useEffect(()=>{p()},[]);const p=async()=>{try{console.log("🔄 Fetching featured rooms...");const y=await B2.getHotHangPhongThisMonth();if(console.log("📡 API response:",y),y.statusCode===200&&y.hotHangPhongList){const b=y.hotHangPhongList.map(j=>({id:j.idHangPhong,name:`${j.tenKp} - ${j.tenLp}`,type:j.tenKp||"Standard",category:j.tenLp||"Single",price:j.giaHienTai||1e6,image:j.urlAnhDaiDien||"/api/placeholder/400/300",amenities:j.danhSachTienNghi||[],description:j.moTaKieuPhong||"",soLuotThue:j.soLuotThue||0}));console.log("✅ Featured rooms from API:",b),x(b)}else console.log("⚠️ No API data, using fallback"),x([{id:1,name:"Standard - Single",type:"Standard",category:"Single",price:11e5,image:"/api/placeholder/400/300",amenities:["WiFi miễn phí","Điều hòa","TV","Minibar"],description:"Phòng Standard với tiện nghi hiện đại và dịch vụ chất lượng cao",soLuotThue:15},{id:2,name:"Standard - Double",type:"Standard",category:"Double",price:13e5,image:"/api/placeholder/400/300",amenities:["WiFi miễn phí","Điều hòa","TV","Minibar"],description:"Phòng Standard với tiện nghi hiện đại và dịch vụ chất lượng cao",soLuotThue:12},{id:3,name:"Superior - Double",type:"Superior",category:"Double",price:15e5,image:"/api/placeholder/400/300",amenities:["WiFi miễn phí","Điều hòa","TV","Minibar"],description:"Phòng Superior với tiện nghi hiện đại và dịch vụ chất lượng cao",soLuotThue:10}]),console.log("📋 Using fallback featured rooms")}catch(y){console.error("❌ Error fetching hot hang phong:",y),x([])}},[w,v]=N.useState([]);N.useEffect(()=>{g()},[]);const g=async()=>{try{const j=((await V.get("/api/services/dich-vu")).data.dichVuList||[]).slice(0,6).map(C=>({icon:rm,title:C.tenDv,description:C.moTa||"Dịch vụ chất lượng cao"}));v(j)}catch(y){console.error("Error fetching services:",y),v([{icon:rm,title:"Wifi miễn phí",description:"Kết nối internet tốc độ cao trong toàn bộ khách sạn"},{icon:zN,title:"Bãi đỗ xe",description:"Bãi đỗ xe rộng rãi, an toàn cho khách hàng"},{icon:wo,title:"Nhà hàng",description:"Nhà hàng phục vụ các món ăn ngon, đa dạng"},{icon:QN,title:"Phòng gym",description:"Phòng tập gym hiện đại với đầy đủ thiết bị"}])}};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("img",{src:"/home.webp",alt:"Hotel Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 hero-overlay"})]}),s.jsx("div",{className:"relative z-10 container mx-auto px-4 text-center text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight animate-fadeInUp",children:["Khách Sạn Sang Trọng",s.jsx("span",{className:"block text-3xl md:text-5xl text-yellow-400 mt-2",children:"Trải Nghiệm Đẳng Cấp"})]}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 text-gray-200 max-w-3xl mx-auto leading-relaxed animate-fadeInUp",style:{animationDelay:"0.2s"},children:"Chào mừng bạn đến với không gian nghỉ dưỡng tuyệt vời, nơi sự thoải mái và dịch vụ chất lượng cao hòa quyện cùng thiết kế hiện đại"}),u&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl p-6 shadow-2xl max-w-7xl mx-auto mb-6 animate-fadeInUp relative",children:[s.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-white hover:text-gray-200 text-xl font-bold",children:"×"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3",children:s.jsx(pt,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold mb-1",children:"🎯 Đã tự động điền thông tin phòng!"}),s.jsxs("p",{className:"text-blue-100",children:["Vui lòng chọn ",s.jsx("strong",{children:"ngày nhận phòng"})," và ",s.jsx("strong",{children:"ngày trả phòng"})," để tiếp tục tìm kiếm phòng phù hợp."]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-7xl mx-auto animate-fadeInUp",style:{animationDelay:"0.4s"},ref:n,children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Tìm Kiếm Phòng Lý Tưởng"}),s.jsx(Od,{handleSearchResult:d,prefilledData:l,onDataUsed:()=>c(null)})]})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})]}),r.length>0&&s.jsx("section",{className:"py-16 bg-gray-50",ref:t,children:s.jsx("div",{className:"container",children:s.jsx(Up,{searchResults:r,searchDates:i})})}),s.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Về Khách Sạn Của Chúng Tôi"}),s.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"Với hơn 10 năm kinh nghiệm trong ngành khách sạn, chúng tôi tự hào mang đến cho quý khách những trải nghiệm nghỉ dưỡng đẳng cấp nhất. Từ thiết kế nội thất sang trọng đến dịch vụ chu đáo, mọi chi tiết đều được chăm chút tỉ mỉ."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(y_,{className:"w-6 h-6 text-amber-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Chất lượng 5 sao"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Được chứng nhận bởi các tổ chức uy tín"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(Td,{className:"w-6 h-6 text-emerald-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"An toàn tuyệt đối"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Hệ thống bảo mật hiện đại"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(gn,{className:"w-6 h-6 text-blue-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Phục vụ 24/7"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Luôn sẵn sàng hỗ trợ quý khách"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(_r,{className:"w-6 h-6 text-rose-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Vị trí đắc địa"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Trung tâm thành phố, giao thông thuận lợi"})]})]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/abouthotel.jpg",alt:"Hotel Interior",className:"rounded-2xl shadow-2xl w-full h-auto"})})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Hạng Phòng Hot Trong Tháng"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Top 3 hạng phòng được khách hàng yêu thích và đặt nhiều nhất trong tháng"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((y,b)=>{var j;return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition-shadow duration-300 animate-fadeInUp",style:{animationDelay:`${.1*b}s`},children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:y.image,alt:y.name,className:"w-full h-56 object-cover"}),s.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",children:"🔥 HOT"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2",children:y.name}),s.jsxs("div",{className:"text-right mb-3",children:[s.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[(j=y.price)==null?void 0:j.toLocaleString("vi-VN")," ₫"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"/đêm"})]}),s.jsx("div",{className:"flex items-center space-x-2 mb-3",children:s.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-sm rounded-full font-semibold",children:["🔥 ",y.soLuotThue," lượt thuê/đặt"]})}),y.description&&s.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:y.description}),y.amenities&&y.amenities.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[y.amenities.slice(0,3).map((C,T)=>s.jsx("span",{className:"text-xs text-gray-600 bg-gray-50 px-2 py-1 rounded border",children:C.tenTn},T)),y.amenities.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",y.amenities.length-3]})]}),s.jsx("button",{onClick:()=>{console.log("🔘 Button clicked for room:",y),f(y)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-3 rounded-lg transition-colors duration-200 text-sm",children:"Xem Chi Tiết & Đặt Phòng"})]})]},y.id)})}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs($e,{to:"/rooms",className:"inline-flex items-center px-8 py-4 bg-white border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white rounded-xl font-semibold transition-all duration-200",children:["Xem Tất Cả Phòng",s.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Dịch Vụ Đẳng Cấp"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Những tiện ích và dịch vụ cao cấp được thiết kế để mang lại trải nghiệm hoàn hảo"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:w.map((y,b)=>{const j=y.icon;return s.jsxs("div",{className:"group text-center p-6 rounded-2xl hover:bg-gray-50 transition-all duration-300",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx(j,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:y.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:y.description})]},b)})})]})}),s.jsx("section",{className:"py-20 gradient-primary text-white",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Sẵn Sàng Đặt Phòng?"}),s.jsx("p",{className:"text-xl text-primary-100 mb-8 leading-relaxed",children:"Liên hệ với chúng tôi ngay hôm nay để được tư vấn và đặt phòng với giá tốt nhất. Đội ngũ chăm sóc khách hàng chuyên nghiệp luôn sẵn sàng hỗ trợ bạn 24/7."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(ds,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Hotline"}),s.jsx("div",{className:"text-primary-100",children:"1900 1234 (24/7)"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(hs,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Email"}),s.jsx("div",{className:"text-primary-100",children:"booking@hotel.com"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(_r,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Địa chỉ"}),s.jsx("div",{className:"text-primary-100",children:"123 Đường ABC, Quận 1, TP.HCM"})]})]})]})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-2xl p-8",children:[s.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Đặt Phòng Ngay"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{className:"w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-4 rounded-xl transition-colors duration-200 btn-glow",children:"Gọi Ngay: 1900 1234"}),s.jsx("button",{className:"w-full bg-white bg-opacity-20 hover:bg-opacity-30 border-2 border-white text-white font-semibold py-4 rounded-xl transition-all duration-200 btn-glow",children:"Chat Trực Tuyến"}),s.jsx($e,{to:"/rooms",className:"block w-full bg-transparent border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-4 rounded-xl text-center transition-all duration-200 btn-glow",children:"Xem Tất Cả Phòng"})]})]})]})})}),s.jsx("section",{className:"py-16 bg-gray-900 text-white",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Đăng Ký Nhận Ưu Đãi"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Nhận thông tin về các chương trình khuyến mãi và ưu đãi đặc biệt từ chúng tôi"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 max-w-md mx-auto",children:[s.jsx("input",{type:"email",placeholder:"Nhập email của bạn",className:"flex-1 px-6 py-3 rounded-xl bg-gray-800 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:border-primary-500"}),s.jsx("button",{className:"px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-xl transition-colors duration-200 btn-glow",children:"Đăng Ký"})]})]})})})]})},Q5=({roomSearchResults:e})=>{const t=tr(),n=go.isAdmin();return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e&&e.length>0&&e.map(r=>s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsx("img",{className:"w-full h-48 object-cover rounded-lg mb-4",src:"/api/placeholder/400/300",alt:r.tenKp||"Room"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Phòng ",r.soPhong]}),s.jsxs("p",{className:"text-gray-600",children:[r.tenKp," - ",r.tenLp]}),s.jsxs("p",{className:"text-gray-600",children:["Tầng: ",r.tang]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Trạng thái: ",r.tenTrangThai]})]}),s.jsx("div",{className:"mt-4",children:n?s.jsx("button",{className:"btn-secondary w-full",onClick:()=>t(`/admin/rooms/edit/${r.soPhong}`),children:"Chỉnh sửa phòng"}):s.jsx("button",{className:"btn-primary w-full",onClick:()=>t(`/rooms/${r.soPhong}`),children:"Xem chi tiết / Đặt phòng"})})]},r.soPhong))})},Fa=({itemsPerPage:e,totalItems:t,currentPage:n,paginate:r})=>{const a=[],i=Math.ceil(t/e);for(let c=1;c<=i;c++)a.push(c);const o=()=>{n>1&&r(n-1)},l=()=>{n<i&&r(n+1)};return i<=1?null:s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[s.jsxs("button",{onClick:o,disabled:n===1,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(S_,{className:"w-4 h-4 mr-1"}),"Trước"]}),s.jsx("div",{className:"flex space-x-1",children:a.map(c=>s.jsx("button",{onClick:()=>r(c),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${n===c?"bg-primary-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-100"}`,children:c},c))}),s.jsxs("button",{onClick:l,disabled:n===i,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Sau",s.jsx(GN,{className:"w-4 h-4 ml-1"})]})]})},X5=()=>{fC();const[e,t]=N.useState([]),[n,r]=N.useState(!0),[a,i]=N.useState(1),[o]=N.useState(9);N.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const m=await Kt.getAvailableRooms();m.statusCode===200&&t(m.phongList||[])}catch(m){console.error("Error fetching rooms:",m)}finally{r(!1)}},c=m=>{t(m),i(1)},u=a*o,h=u-o,d=e.slice(h,u),f=m=>i(m);return n?s.jsx("div",{className:"container py-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})}):s.jsxs("div",{className:"container py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Danh sách phòng"}),s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tìm kiếm phòng"}),s.jsx(Od,{handleSearchResult:c})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-600",children:["Hiển thị ",d.length," trong tổng số ",e.length," phòng"]})}),e.length>0?s.jsxs(s.Fragment,{children:[s.jsx(Q5,{roomSearchResults:d}),s.jsx(Fa,{itemsPerPage:o,totalItems:e.length,currentPage:a,paginate:f})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"Không tìm thấy phòng nào"})})]})},J5=()=>{const{id:e}=Jw();return s.jsxs("div",{className:"container py-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:["Chi tiết phòng #",e]}),s.jsx("p",{className:"text-gray-600",children:"Trang chi tiết phòng đang được phát triển..."})]})},Z5=()=>{tr();const e=N.useRef(null),[t,n]=N.useState([]),[r,a]=N.useState(!1),[i,o]=N.useState(1),[l]=N.useState(6),[c,u]=N.useState(!1),[h,d]=N.useState({checkIn:null,checkOut:null}),[f,m]=N.useState(null);N.useEffect(()=>{const y=sessionStorage.getItem("publicBookingSearchData");if(y)try{const j=JSON.parse(y);n(j.rooms||[]),u(j.hasSearched||!1),d(j.searchDates||{checkIn:null,checkOut:null}),o(j.currentPage||1)}catch(j){console.error("Error loading saved search data:",j)}const b=sessionStorage.getItem("bookingPrefilledData");if(b)try{const j=JSON.parse(b);m(j),sessionStorage.removeItem("bookingPrefilledData")}catch(j){console.error("Error loading prefilled data:",j)}},[]),N.useEffect(()=>{if(c){const y={rooms:t,hasSearched:c,searchDates:h,currentPage:i};sessionStorage.setItem("publicBookingSearchData",JSON.stringify(y))}},[t,c,h,i]);const x=(y,b)=>{n(y),u(!0),d({checkIn:b.startDate,checkOut:b.endDate}),o(1),setTimeout(()=>{e.current&&e.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},p=i*l,w=p-l,v=t.slice(w,p),g=y=>{o(y),e.current&&e.current.scrollIntoView({behavior:"smooth",block:"start"})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Đặt phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Tìm và đặt phòng phù hợp với nhu cầu của bạn"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(_r,{className:"w-5 h-5"}),s.jsx("span",{children:"Hotel Booking"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Xn,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm phòng"})]}),s.jsx(Od,{handleSearchResult:x,prefilledData:f,onDataUsed:()=>m(null)})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",ref:e,children:c?t.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Kết quả tìm kiếm (",t.length," phòng)"]}),h.checkIn&&h.checkOut&&s.jsxs("p",{className:"text-gray-600",children:["Từ ",h.checkIn.toLocaleDateString("vi-VN")," đến ",h.checkOut.toLocaleDateString("vi-VN")]})]}),s.jsx(Up,{searchResults:v,searchDates:h,isPublic:!0}),s.jsx(Fa,{itemsPerPage:l,totalItems:t.length,currentPage:i,paginate:g})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Xn,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Thử thay đổi tiêu chí tìm kiếm"})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Xn,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tìm kiếm phòng"}),s.jsx("p",{className:"text-gray-500",children:"Sử dụng form tìm kiếm ở trên để bắt đầu"})]})})]})]})},eA=()=>{var x,p;const[e,t]=N.useState({email:"",password:""}),[n,r]=N.useState(!1),[a,i]=N.useState(!1),{login:o}=Pr(),l=tr(),c=Us(),u=((p=(x=c.state)==null?void 0:x.from)==null?void 0:p.pathname)||"/",d=new URLSearchParams(c.search).get("redirect"),f=w=>{t({...e,[w.target.name]:w.target.value})},m=async w=>{w.preventDefault(),i(!0);try{const v={email:e.email,matKhau:e.password},g=await o(v);if(g.success){if(X.success("Đăng nhập thành công!"),sessionStorage.getItem("pendingBooking")&&d==="booking"){l("/customer/booking",{replace:!0});return}const b=g.user;let j=u;if(u==="/")switch(b.role){case"ADMIN":j="/admin";break;case"EMPLOYEE":j="/staff";break;case"CUSTOMER":j="/customer";break;default:j="/"}l(j,{replace:!0})}else X.error(g.message||"Đăng nhập thất bại")}catch{X.error("Có lỗi xảy ra khi đăng nhập")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"H"})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đăng nhập vào tài khoản"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoặc"," ",s.jsx($e,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"tạo tài khoản mới"})]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"email",name:"email",type:"text",required:!0,value:e.email,onChange:f,className:"input mt-1",placeholder:"Nhập email"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:e.password,onChange:f,className:"input pr-10",placeholder:"Nhập mật khẩu"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?s.jsx(bo,{className:"h-5 w-5 text-gray-400"}):s.jsx(Hn,{className:"h-5 w-5 text-gray-400"})})]})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"text-sm",children:s.jsx($e,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Quên mật khẩu?"})})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex justify-center items-center",children:a?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):s.jsxs(s.Fragment,{children:[s.jsx(P_,{className:"w-5 h-5 mr-2"}),"Đăng nhập"]})})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Chưa có tài khoản?"," ",s.jsx($e,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Đăng ký ngay"})]})})]})]})})},tA=()=>{const e=tr(),[t,n]=N.useState(!1),[r,a]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState({cccd:"",ho:"",ten:"",sdt:"",email:"",diaChi:"",maSoThue:"",matKhau:"",confirmPassword:""}),[u,h]=N.useState({}),d=x=>{const{name:p,value:w}=x.target;c(v=>({...v,[p]:w})),u[p]&&h(v=>({...v,[p]:""}))},f=()=>{const x={};l.cccd.trim()||(x.cccd="CCCD/CMND là bắt buộc"),l.ho.trim()||(x.ho="Họ là bắt buộc"),l.ten.trim()||(x.ten="Tên là bắt buộc"),l.email.trim()||(x.email="Email là bắt buộc"),l.sdt.trim()||(x.sdt="Số điện thoại là bắt buộc"),l.matKhau||(x.matKhau="Mật khẩu là bắt buộc"),l.confirmPassword||(x.confirmPassword="Xác nhận mật khẩu là bắt buộc");const p=/^[0-9]{9,12}$/;l.cccd&&!p.test(l.cccd)&&(x.cccd="CCCD/CMND phải có 9-12 chữ số");const w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;l.email&&!w.test(l.email)&&(x.email="Email không hợp lệ");const v=/^[0-9]{10,11}$/;return l.sdt&&!v.test(l.sdt)&&(x.sdt="Số điện thoại phải có 10-11 chữ số"),l.matKhau&&l.matKhau.length<6&&(x.matKhau="Mật khẩu phải có ít nhất 6 ký tự"),l.matKhau!==l.confirmPassword&&(x.confirmPassword="Mật khẩu xác nhận không khớp"),h(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!f()){o(!0);try{const{confirmPassword:p,...w}=l,v=await go.register(w);X.success("Đăng ký thành công! Vui lòng đăng nhập."),e("/login")}catch(p){console.error("Registration error:",p),X.error(p.message||"Có lỗi xảy ra khi đăng ký")}finally{o(!1)}}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"H"})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đăng ký tài khoản"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoặc"," ",s.jsx($e,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"đăng nhập nếu đã có tài khoản"})]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cccd",className:"block text-sm font-medium text-gray-700",children:"CCCD/CMND *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"cccd",name:"cccd",type:"text",value:l.cccd,onChange:d,className:`input ${u.cccd?"border-red-500":""}`,placeholder:"Nhập số CCCD/CMND"}),s.jsx(Ft,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.cccd&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.cccd})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ho",className:"block text-sm font-medium text-gray-700",children:"Họ *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"ho",name:"ho",type:"text",value:l.ho,onChange:d,className:`input ${u.ho?"border-red-500":""}`,placeholder:"Nhập họ"}),s.jsx(Ft,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.ho&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.ho})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ten",className:"block text-sm font-medium text-gray-700",children:"Tên *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"ten",name:"ten",type:"text",value:l.ten,onChange:d,className:`input ${u.ten?"border-red-500":""}`,placeholder:"Nhập tên"}),s.jsx(Ft,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.ten&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.ten})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"email",name:"email",type:"email",value:l.email,onChange:d,className:`input ${u.email?"border-red-500":""}`,placeholder:"Nhập email"}),s.jsx(hs,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sdt",className:"block text-sm font-medium text-gray-700",children:"Số điện thoại *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"sdt",name:"sdt",type:"tel",value:l.sdt,onChange:d,className:`input ${u.sdt?"border-red-500":""}`,placeholder:"Nhập số điện thoại"}),s.jsx(ds,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.sdt&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.sdt})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"diaChi",className:"block text-sm font-medium text-gray-700",children:"Địa chỉ"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"diaChi",name:"diaChi",type:"text",value:l.diaChi,onChange:d,className:"input",placeholder:"Nhập địa chỉ"}),s.jsx(_r,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"maSoThue",className:"block text-sm font-medium text-gray-700",children:"Mã số thuế"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"maSoThue",name:"maSoThue",type:"text",value:l.maSoThue,onChange:d,className:"input",placeholder:"Nhập mã số thuế (tùy chọn)"}),s.jsx(Ft,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matKhau",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"matKhau",name:"matKhau",type:t?"text":"password",value:l.matKhau,onChange:d,className:`input ${u.matKhau?"border-red-500":""}`,placeholder:"Nhập mật khẩu"}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 h-4 w-4 text-gray-400",onClick:()=>n(!t),children:t?s.jsx(bo,{}):s.jsx(Hn,{})})]}),u.matKhau&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.matKhau})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Xác nhận mật khẩu *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",value:l.confirmPassword,onChange:d,className:`input ${u.confirmPassword?"border-red-500":""}`,placeholder:"Nhập lại mật khẩu"}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 h-4 w-4 text-gray-400",onClick:()=>a(!r),children:r?s.jsx(bo,{}):s.jsx(Hn,{})})]}),u.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword})]})]}),s.jsx("div",{children:s.jsxs("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):null,i?"Đang đăng ký...":"Đăng ký"]})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-gray-600",children:["Bằng việc đăng ký, bạn đồng ý với"," ",s.jsx($e,{to:"/terms",className:"text-primary-600 hover:text-primary-500",children:"Điều khoản dịch vụ"})," ","và"," ",s.jsx($e,{to:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"Chính sách bảo mật"})," ","của chúng tôi."]})})]})]})})},nA=()=>{const[e,t]=N.useState(""),[n,r]=N.useState(!1),[a,i]=N.useState(!1),o=async l=>{var c,u;if(l.preventDefault(),!e){X.error("Vui lòng nhập email");return}if(!e.includes("@")){X.error("Email không hợp lệ");return}r(!0);try{const h=await V.post("/auth/forgot-password",null,{params:{email:e}});h.data.statusCode===200?(i(!0),X.success("Link đặt lại mật khẩu đã được gửi đến email của bạn")):X.error(h.data.message||"Có lỗi xảy ra")}catch(h){console.error("Forgot password error:",h),X.error(((u=(c=h.response)==null?void 0:c.data)==null?void 0:u.message)||"Có lỗi xảy ra khi gửi email")}finally{r(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx(hs,{className:"h-6 w-6 text-green-600"})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Email đã được gửi"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Chúng tôi đã gửi link đặt lại mật khẩu đến email ",s.jsx("strong",{children:e})]}),s.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"Vui lòng kiểm tra email và nhấn vào link để đặt lại mật khẩu. Link sẽ hết hạn sau 1 giờ."}),s.jsx("div",{className:"mt-6",children:s.jsxs($e,{to:"/login",className:"flex items-center justify-center space-x-2 w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[s.jsx(em,{className:"w-4 h-4"}),s.jsx("span",{children:"Quay lại đăng nhập"})]})})]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Quên mật khẩu"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Nhập email của bạn để nhận link đặt lại mật khẩu"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("form",{className:"space-y-6",onSubmit:o,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Nhập email của bạn"}),s.jsx(hs,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Đang gửi..."})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(H_,{className:"w-4 h-4"}),s.jsx("span",{children:"Gửi link đặt lại mật khẩu"})]})})}),s.jsx("div",{className:"text-center",children:s.jsxs($e,{to:"/login",className:"flex items-center justify-center space-x-2 text-sm text-primary-600 hover:text-primary-500",children:[s.jsx(em,{className:"w-4 h-4"}),s.jsx("span",{children:"Quay lại đăng nhập"})]})})]})})})]})},rA=()=>{const{token:e}=Jw(),t=tr(),[n,r]=N.useState({newPassword:"",confirmPassword:""}),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[h,d]=N.useState(!1);N.useEffect(()=>{e||(X.error("Token không hợp lệ"),t("/login"))},[e,t]);const f=p=>{const{name:w,value:v}=p.target;r(g=>({...g,[w]:v}))},m=p=>p.length<6?"Mật khẩu phải có ít nhất 6 ký tự":null,x=async p=>{var y,b;p.preventDefault();const{newPassword:w,confirmPassword:v}=n;if(!w||!v){X.error("Vui lòng nhập đầy đủ thông tin");return}const g=m(w);if(g){X.error(g);return}if(w!==v){X.error("Mật khẩu xác nhận không khớp");return}u(!0);try{const j=await V.post("/auth/reset-password",null,{params:{token:e,newPassword:w}});j.data.statusCode===200?(d(!0),X.success("Đặt lại mật khẩu thành công!"),setTimeout(()=>{t("/login")},3e3)):X.error(j.data.message||"Có lỗi xảy ra")}catch(j){console.error("Reset password error:",j),X.error(((b=(y=j.response)==null?void 0:y.data)==null?void 0:b.message)||"Có lỗi xảy ra khi đặt lại mật khẩu")}finally{u(!1)}};return h?s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx(In,{className:"h-6 w-6 text-green-600"})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đặt lại mật khẩu thành công"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Mật khẩu của bạn đã được cập nhật thành công."}),s.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng đến trang đăng nhập trong 3 giây..."}),s.jsx("div",{className:"mt-6",children:s.jsx($e,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Đăng nhập ngay"})})]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đặt lại mật khẩu"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Nhập mật khẩu mới của bạn"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("form",{className:"space-y-6",onSubmit:x,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu mới"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"newPassword",name:"newPassword",type:a?"text":"password",required:!0,value:n.newPassword,onChange:f,className:"appearance-none block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Nhập mật khẩu mới"}),s.jsx(tm,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),s.jsx("button",{type:"button",className:"absolute right-3 top-2.5",onClick:()=>i(!a),children:a?s.jsx(bo,{className:"h-4 w-4 text-gray-400"}):s.jsx(Hn,{className:"h-4 w-4 text-gray-400"})})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Xác nhận mật khẩu"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:n.confirmPassword,onChange:f,className:"appearance-none block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Nhập lại mật khẩu mới"}),s.jsx(tm,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),s.jsx("button",{type:"button",className:"absolute right-3 top-2.5",onClick:()=>l(!o),children:o?s.jsx(bo,{className:"h-4 w-4 text-gray-400"}):s.jsx(Hn,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Đang cập nhật..."})]}):"Đặt lại mật khẩu"})}),s.jsx("div",{className:"text-center",children:s.jsx($e,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-500",children:"Quay lại đăng nhập"})})]})})})]})},Nl={getEmployeeByEmail:async e=>{try{let t;return e&&e.includes("@")?t=`/api/nhanvien/my-info/${encodeURIComponent(e)}`:t=`/api/nhanvien/get-by-username/${encodeURIComponent(e)}`,(await V.get(t)).data}catch(t){throw console.error("Error fetching employee by email:",t),t}},getEmployeeById:async e=>{try{return(await V.get(`/api/nhanvien/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching employee by ID:",t),t}},getAllEmployees:async()=>{try{return(await V.get("/api/nhanvien/all")).data}catch(e){throw console.error("Error fetching all employees:",e),e}},createEmployee:async e=>{try{return(await V.post("/api/nhanvien/register",e)).data}catch(t){throw console.error("Error creating employee:",t),t}},getAllDepartments:async()=>{try{return(await V.get("/api/bo-phan/all")).data}catch(e){throw console.error("Error fetching departments:",e),e}},getAllRoles:async()=>{try{return(await V.get("/api/nhom-quyen/all")).data}catch(e){throw console.error("Error fetching roles:",e),e}}},Rd=()=>{const[e,t]=N.useState(!1),[n,r]=N.useState(null),{user:a,logout:i,setUser:o}=Pr(),l=tr(),c=d=>{try{const m=d.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),x=decodeURIComponent(atob(m).split("").map(function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(x)}catch(f){return console.error("Error decoding JWT:",f),null}};N.useEffect(()=>{(async()=>{if(!a||n)return;let f=a==null?void 0:a.email;if(!f){const m=localStorage.getItem("token")||(a==null?void 0:a.token);if(m){const x=c(m);f=x==null?void 0:x.sub}}if(f&&(a==null?void 0:a.role)==="EMPLOYEE")try{const m=await Nl.getEmployeeByEmail(f);if(m.statusCode===200&&m.nhanVien){const x=m.nhanVien;if(r(x),o&&typeof a=="object"){const p={...a,id:x.idNv||x.maNhanVien||x.id,idNv:x.idNv,maNhanVien:x.maNhanVien,hoTen:x.hoTen||x.tenNhanVien||a.hoTen,soDienThoai:x.soDienThoai||a.soDienThoai,diaChi:x.diaChi||a.diaChi,employeeData:x};o(p),localStorage.setItem("user",JSON.stringify(p))}}}catch(m){console.error("Error fetching employee data for header:",m)}})()},[a,n,o]);const u=()=>{i(),l("/")},h=()=>n&&(n.hoTen||n.tenNhanVien)||yo(a);return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs($e,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Hotel Booking"})]}),s.jsx("span",{className:"text-gray-400",children:"|"}),s.jsxs("span",{className:"text-gray-600",children:[Z0(a==null?void 0:a.role)," Dashboard"]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(b_,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-3 p-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Ft,{className:"w-4 h-4 text-primary-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-medium",children:h()}),s.jsx("div",{className:"text-xs text-gray-500",children:Z0(a==null?void 0:a.role)})]})]}),e&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:h()}),s.jsx("div",{className:"text-xs text-gray-500",children:a==null?void 0:a.email}),n&&s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",n.idNv||n.maNhanVien]})]}),s.jsxs($e,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>t(!1),children:[s.jsx(jd,{className:"w-4 h-4 inline mr-2"}),"Thông tin cá nhân"]}),s.jsx($e,{to:"/",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>t(!1),children:"Về trang chủ"}),s.jsxs("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[s.jsx(XN,{className:"w-4 h-4 inline mr-2"}),"Đăng xuất"]})]})]})]})]})})})},$2=()=>s.jsx("footer",{className:"bg-gray-900 text-white",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),s.jsx("span",{className:"text-xl font-bold",children:"HOTEL BOOKING"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Hệ thống quản lý đặt phòng khách sạn hiện đại, mang đến trải nghiệm tuyệt vời cho khách hàng."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{children:"+84 818 181 948"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(hs,{className:"w-4 h-4"}),s.jsx("span",{children:"booking@hotel.com"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liên kết nhanh"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx($e,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Trang chủ"})}),s.jsx("li",{children:s.jsx($e,{to:"/rooms",className:"text-gray-300 hover:text-white transition-colors",children:"Phòng"})}),s.jsx("li",{children:s.jsx($e,{to:"/login",className:"text-gray-300 hover:text-white transition-colors",children:"Đăng nhập"})}),s.jsx("li",{children:s.jsx($e,{to:"/register",className:"text-gray-300 hover:text-white transition-colors",children:"Đăng ký"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liên hệ"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-2 text-gray-300",children:[s.jsx(_r,{className:"w-4 h-4 mt-1"}),s.jsx("span",{children:"97 Man Thiện, Hiệp Phú, Thủ Đức, Hồ Chí Minh"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{children:"+84 818 181 948"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(hs,{className:"w-4 h-4"}),s.jsx("span",{children:"booking@hotel.com"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-300",children:s.jsx("p",{children:"© 2025 Hotel Booking Management System. All rights reserved."})})]})}),sA=()=>{const{user:e,setUser:t}=Pr(),[n,r]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState({hoTen:"",email:"",soDienThoai:"",diaChi:"",ngaySinh:"",gioiTinh:"",cccd:""}),[h,d]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""});N.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{i(!0);let v;if(e.role==="CUSTOMER")v=`/api/khach-hang/get-by-email/${encodeURIComponent(e.email)}`;else{const y=e.email||e.username;y&&y.includes("@")?v=`/api/nhanvien/my-info/${encodeURIComponent(y)}`:v=`/api/nhanvien/get-by-username/${encodeURIComponent(y)}`}const g=await V.get(v);if(g.data.statusCode===200){const y=g.data.nhanVien||g.data.khachHang||{};u({hoTen:y.hoTen||`${y.ho||""} ${y.ten||""}`.trim()||e.hoTen||"",email:y.email||e.email||"",soDienThoai:y.sdt||y.soDienThoai||"",diaChi:y.diaChi||"",ngaySinh:y.ngaySinh||"",gioiTinh:y.phai||y.gioiTinh||"",cccd:y.cccd||""})}else u({hoTen:e.hoTen||"",email:e.email||"",soDienThoai:e.soDienThoai||e.phone||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||"",gioiTinh:e.gioiTinh||e.gender||"",cccd:e.cccd||e.idCard||""})}catch(v){console.error("Error fetching profile:",v),u({hoTen:e.hoTen||"",email:e.email||"",soDienThoai:e.soDienThoai||e.phone||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||"",gioiTinh:e.gioiTinh||e.gender||"",cccd:e.cccd||e.idCard||""})}finally{i(!1)}},m=v=>{const{name:g,value:y}=v.target;u(b=>({...b,[g]:y}))},x=v=>{const{name:g,value:y}=v.target;d(b=>({...b,[g]:y}))},p=async()=>{try{i(!0);let v,g;if(e.role==="CUSTOMER"){const b=e.cccd||e.id;if(!b){X.error("Không tìm thấy CCCD của khách hàng");return}v=`/api/khach-hang/update/${b}`,g={ho:c.hoTen.split(" ").slice(0,-1).join(" ")||"",ten:c.hoTen.split(" ").slice(-1)[0]||"",sdt:c.soDienThoai,email:c.email,diaChi:c.diaChi,ngaySinh:c.ngaySinh,gioiTinh:c.gioiTinh}}else{const b=e.idNv||e.id;if(!b){X.error("Không tìm thấy ID nhân viên");return}v=`/api/nhanvien/update-profile/${b}`,g={ho:c.hoTen.split(" ").slice(0,-1).join(" ")||"",ten:c.hoTen.split(" ").slice(-1)[0]||"",sdt:c.soDienThoai,email:c.email,diaChi:c.diaChi,ngaySinh:c.ngaySinh,phai:c.gioiTinh}}const y=await V.put(v,g);if(y.data.statusCode===200){const b={...e,...c};t(b),localStorage.setItem("user",JSON.stringify(b)),X.success("Cập nhật thông tin thành công!"),r(!1)}else X.error(y.data.message||"Cập nhật thất bại")}catch(v){console.error("Update profile error:",v),X.error("Có lỗi xảy ra khi cập nhật thông tin")}finally{i(!1)}},w=async()=>{var v,g;if(h.newPassword!==h.confirmPassword){X.error("Mật khẩu xác nhận không khớp");return}if(h.newPassword.length<6){X.error("Mật khẩu mới phải có ít nhất 6 ký tự");return}try{if(i(!0),e.role==="CUSTOMER"){X.error("Chức năng đổi mật khẩu cho khách hàng đang được phát triển");return}const y=e.idNv||e.id;if(!y){X.error("Không tìm thấy ID nhân viên");return}const b=`/api/nhanvien/change-password/${y}`,j=await V.put(b,null,{params:{oldPassword:h.currentPassword,newPassword:h.newPassword}});j.data.statusCode===200?(X.success("Đổi mật khẩu thành công!"),l(!1),d({currentPassword:"",newPassword:"",confirmPassword:""})):X.error(j.data.message||"Đổi mật khẩu thất bại")}catch(y){console.error("Change password error:",y),X.error(((g=(v=y.response)==null?void 0:v.data)==null?void 0:g.message)||"Có lỗi xảy ra khi đổi mật khẩu")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Rd,{}),s.jsx("main",{className:"flex-1 bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Ft,{className:"w-8 h-8 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:yo(e)}),s.jsx("p",{className:"text-gray-600",children:Z0(e==null?void 0:e.role)})]})]}),s.jsx("div",{className:"flex space-x-3",children:n?s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:p,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[s.jsx(kp,{className:"w-4 h-4"}),s.jsx("span",{children:"Lưu"})]}),s.jsxs("button",{onClick:()=>{r(!1),u({hoTen:e.hoTen||"",email:e.email||"",soDienThoai:e.soDienThoai||e.phone||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||"",gioiTinh:e.gioiTinh||e.gender||"",cccd:e.cccd||e.idCard||""})},className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(pn,{className:"w-4 h-4"}),s.jsx("span",{children:"Hủy"})]})]}):s.jsxs("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[s.jsx(Dr,{className:"w-4 h-4"}),s.jsx("span",{children:"Chỉnh sửa"})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Thông tin cá nhân"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên"}),n?s.jsx("input",{type:"text",name:"hoTen",value:c.hoTen,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.hoTen||"Chưa cập nhật"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(hs,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.email||"Chưa cập nhật"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),n?s.jsx("input",{type:"tel",name:"soDienThoai",value:c.soDienThoai,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(ds,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.soDienThoai||"Chưa cập nhật"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),n?s.jsx("input",{type:"text",name:"diaChi",value:c.diaChi,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(_r,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.diaChi||"Chưa cập nhật"})]})]}),e.role!=="CUSTOMER"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh"}),n?s.jsx("input",{type:"date",name:"ngaySinh",value:c.ngaySinh,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(pt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.ngaySinh||"Chưa cập nhật"})]})]}),e.role!=="CUSTOMER"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới tính"}),n?s.jsxs("select",{name:"gioiTinh",value:c.gioiTinh,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Chọn giới tính"}),s.jsx("option",{value:"Nam",children:"Nam"}),s.jsx("option",{value:"Nữ",children:"Nữ"}),s.jsx("option",{value:"Khác",children:"Khác"})]}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.gioiTinh||"Chưa cập nhật"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Đổi mật khẩu"}),s.jsxs("button",{onClick:()=>l(!o),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[o?s.jsx(bo,{className:"w-4 h-4"}):s.jsx(Hn,{className:"w-4 h-4"}),s.jsx("span",{children:o?"Ẩn":"Hiển thị"})]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),s.jsx("input",{type:"password",name:"currentPassword",value:h.currentPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),s.jsx("input",{type:"password",name:"newPassword",value:h.newPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),s.jsx("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("button",{onClick:w,disabled:a,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:"Đổi mật khẩu"})]})]})]})}),s.jsx($2,{})]})},aA=()=>{const{user:e}=Pr(),[t,n]=N.useState({totalBookings:0,activeBookings:0,completedBookings:0,cancelledBookings:0}),[r,a]=N.useState([]);N.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await V.get("/api/dashboard/customer/stats"),u=await V.get("/api/phieu-dat/khach-hang/recent");n(c.data.stats||{}),a(u.data.bookings||[])}catch(c){console.error("Error fetching dashboard data:",c)}},o=c=>{switch(c){case"confirmed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=c=>{switch(c){case"confirmed":return"Xác nhận";case"pending":return"Chờ xác nhận";case"cancelled":return"Đã hủy";default:return"Không xác định"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-6 text-white",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Chào mừng, ",yo(e),"!"]}),s.jsx("p",{className:"text-primary-100",children:"Quản lý đặt phòng và thông tin cá nhân của bạn"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(pt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng đặt phòng"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalBookings})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(In,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang hoạt động"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeBookings})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(gn,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.completedBookings})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(vo,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hủy"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.cancelledBookings})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx($e,{to:"/customer/booking",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-primary-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(pt,{className:"w-8 h-8 text-primary-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Đặt phòng mới"}),s.jsx("p",{className:"text-gray-600",children:"Tìm và đặt phòng phù hợp với nhu cầu"})]})}),s.jsx($e,{to:"/customer/history",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(gn,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Lịch sử đặt phòng"}),s.jsx("p",{className:"text-gray-600",children:"Xem tất cả đặt phòng đã thực hiện"})]})}),s.jsx($e,{to:"/customer/profile",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Ft,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thông tin cá nhân"}),s.jsx("p",{className:"text-gray-600",children:"Cập nhật thông tin và mật khẩu"})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Đặt phòng gần đây"}),s.jsx($e,{to:"/customer/history",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(c=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Phòng ",c.roomNumber]}),s.jsx("div",{className:"text-sm text-gray-500",children:c.roomType})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[c.checkIn," - ",c.checkOut]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(c.status)}`,children:l(c.status)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[c.total.toLocaleString("vi-VN")," VNĐ"]})]},c.id))})]})})]})]})},iA=()=>{tr();const e=N.useRef(null),[t,n]=N.useState([]),[r,a]=N.useState(!1),[i,o]=N.useState(1),[l]=N.useState(6),[c,u]=N.useState(!1),[h,d]=N.useState({checkIn:null,checkOut:null});N.useEffect(()=>{const v=sessionStorage.getItem("bookingSearchData");if(v)try{const y=JSON.parse(v);n(y.rooms||[]),u(y.hasSearched||!1),d(y.searchDates||{checkIn:null,checkOut:null}),o(y.currentPage||1)}catch(y){console.error("Error loading saved search data:",y)}const g=sessionStorage.getItem("pendingBooking");if(g)try{const y=JSON.parse(g);y.room&&y.searchDates&&(n([y.room]),u(!0),d(y.searchDates),o(1)),sessionStorage.removeItem("pendingBooking")}catch(y){console.error("Error loading pending booking:",y)}},[]);const f=(v,g)=>{n(v),o(1),u(!0);const y=g?{checkIn:g.startDate,checkOut:g.endDate}:{checkIn:null,checkOut:null};d(y);const b={rooms:v,hasSearched:!0,searchDates:y,currentPage:1};sessionStorage.setItem("bookingSearchData",JSON.stringify(b)),setTimeout(()=>{e.current&&e.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},m=i*l,x=m-l,p=t.slice(x,m),w=v=>{o(v);const g=sessionStorage.getItem("bookingSearchData");if(g)try{const y=JSON.parse(g);y.currentPage=v,sessionStorage.setItem("bookingSearchData",JSON.stringify(y))}catch(y){console.error("Error updating page in saved search data:",y)}};return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Đặt phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Tìm và đặt phòng phù hợp với nhu cầu của bạn"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(_r,{className:"w-5 h-5"}),s.jsx("span",{children:"Hotel Booking"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Xn,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm phòng"})]}),s.jsx(Od,{handleSearchResult:f})]}),s.jsx("div",{className:"card",ref:e,children:c?t.length>0?s.jsxs(s.Fragment,{children:[s.jsx(Up,{searchResults:p,searchDates:h}),s.jsx(Fa,{itemsPerPage:l,totalItems:t.length,currentPage:i,paginate:w})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Xn,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Thử thay đổi tiêu chí tìm kiếm"})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Xn,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tìm kiếm phòng lý tưởng"}),s.jsx("p",{className:"text-gray-500",children:'Vui lòng nhập thông tin tìm kiếm và bấm "Tìm phòng"'})]})})]})},oA=()=>{const{user:e}=Pr(),[t,n]=N.useState([]),[r,a]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState(1),[u]=N.useState(10),[h,d]=N.useState(""),[f,m]=N.useState("");N.useEffect(()=>{e&&x()},[e]);const x=async()=>{var O,B;try{if(o(!0),console.log("Current user data:",e),!e){console.error("User not found"),o(!1);return}const W=e.cccd||e.id||e.maKhachHang||e.userId;if(!W){console.error("CCCD not found in user data:",e),o(!1);return}console.log("Fetching booking history for CCCD:",W);const ue=await V.get(`/api/phieu-dat/khach-hang/${W}`);console.log("API response:",ue.data);const G=ue.data.phieuDatList||[];console.log("Booking data:",G),console.log("First booking sample:",G[0]),G[0]&&(console.log("Available fields in booking:",Object.keys(G[0])),console.log("Status value:",G[0].trangThai),console.log("Room info:",{tenKp:G[0].tenKp,tenLp:G[0].tenLp,idHangPhong:G[0].idHangPhong}),console.log("Date info:",{ngayDat:G[0].ngayDat,ngayBdThue:G[0].ngayBdThue,ngayDi:G[0].ngayDi}),console.log("Money info:",{soTienCoc:G[0].soTienCoc})),n(G),a(G)}catch(W){console.error("Error fetching booking history:",W),console.error("Error details:",((O=W.response)==null?void 0:O.data)||W.message),((B=W.response)==null?void 0:B.status)===403&&console.error("Access denied - check authentication")}finally{o(!1)}},p=O=>{switch(O){case"completed":case"Đã hoàn thành":case"Hoàn thành":case"COMPLETED":return"text-green-600 bg-green-100";case"confirmed":case"Xác nhận":case"Xác nhận":case"CONFIRMED":return"text-blue-600 bg-blue-100";case"pending":case"Chờ xác nhận":case"PENDING":return"text-yellow-600 bg-yellow-100";case"cancelled":case"Đã hủy":case"CANCELLED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},w=O=>{switch(O){case"completed":case"COMPLETED":case"Hoàn thành":return"Đã hoàn thành";case"confirmed":case"CONFIRMED":case"Xác nhận":return"Xác nhận";case"pending":case"PENDING":case"Chờ xác nhận":return"Chờ xác nhận";case"cancelled":case"CANCELLED":case"Đã hủy":return"Đã hủy";default:return O||"Không xác định"}},v=O=>{switch(O){case"completed":case"COMPLETED":case"Đã hoàn thành":case"Hoàn thành":return s.jsx(In,{className:"w-4 h-4"});case"confirmed":case"CONFIRMED":case"Xác nhận":case"Xác nhận":return s.jsx(pt,{className:"w-4 h-4"});case"pending":case"PENDING":case"Chờ xác nhận":return s.jsx(gn,{className:"w-4 h-4"});case"cancelled":case"CANCELLED":case"Đã hủy":return s.jsx(vo,{className:"w-4 h-4"});default:return s.jsx(gn,{className:"w-4 h-4"})}},g=O=>{d(O),b(O,f)},y=O=>{m(O),b(h,O)},b=(O,B)=>{let W=[...t];if(O&&(W=W.filter(ue=>ue.status===O)),B){const ue=new Date(B);W=W.filter(G=>new Date(G.createdAt)>=ue)}a(W),c(1)},j=()=>{d(""),m(""),a(t),c(1)},C=l*u,T=C-u,k=r.slice(T,C),D=O=>c(O);return i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?e.cccd||e.id||e.maKhachHang||e.userId?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch sử đặt phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Xem tất cả đặt phòng đã thực hiện"})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bộ lọc"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:h,onChange:O=>g(O.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"pending",children:"Chờ xác nhận"}),s.jsx("option",{value:"confirmed",children:"Xác nhận"}),s.jsx("option",{value:"completed",children:"Đã hoàn thành"}),s.jsx("option",{value:"cancelled",children:"Đã hủy"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Từ ngày"}),s.jsx("input",{type:"date",value:f,onChange:O=>y(O.target.value),className:"input"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:j,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Kết quả (",r.length," đặt phòng)"]})}),r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã đặt phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.idPd||O.maPhieuThue||"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:O.ngayDat||O.createdAt||"N/A"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.tenLp||O.roomNumber||"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:O.tenKp||O.roomType||"N/A"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[O.ngayBdThue||O.checkIn||"N/A"," - ",O.ngayDi||O.checkOut||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${p(O.trangThai)}`,children:[v(O.trangThai),s.jsx("span",{className:"ml-1",children:w(O.trangThai)})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(O.soTienCoc||O.total||0).toLocaleString("vi-VN")," VNĐ"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:s.jsx(Hn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:s.jsx(Tp,{className:"w-4 h-4"})})]})})]},O.idPd||O.id))})]})}),s.jsx(Fa,{itemsPerPage:u,totalItems:r.length,currentPage:l,paginate:D})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có đặt phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Bạn chưa có đặt phòng nào hoặc thử thay đổi bộ lọc"})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600",children:"Không tìm thấy thông tin khách hàng"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Vui lòng liên hệ hỗ trợ"}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Debug: User data"}),s.jsx("pre",{className:"text-xs text-gray-400 mt-2",children:JSON.stringify(e,null,2)})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"Vui lòng đăng nhập để xem lịch sử đặt phòng"})})},Jr={getAllCustomers:async()=>{try{return(await V.get("/api/khach-hang/all")).data}catch(e){throw console.error("Error fetching all customers:",e),e}},getCustomerById:async e=>{try{return(await V.get(`/api/khach-hang/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching customer by CCCD:",t),t}},createCustomer:async e=>{try{return(await V.post("/api/khach-hang/create",e)).data}catch(t){throw console.error("Error creating customer:",t),t}},updateCustomer:async(e,t)=>{try{return(await V.put(`/api/khach-hang/update/${e}`,t)).data}catch(n){throw console.error("Error updating customer:",n),n}},deleteCustomer:async e=>{try{return(await V.delete(`/api/khach-hang/delete/${e}`)).data}catch(t){throw console.error("Error deleting customer:",t),t}},searchCustomers:async e=>{try{return(await V.get(`/api/khach-hang/search?keyword=${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error searching customers:",t),t}},getCustomerByEmail:async e=>{try{return(await V.get(`/api/khach-hang/email/${e}`)).data}catch(t){throw console.error("Error fetching customer by email:",t),t}},getCustomerByPhone:async e=>{try{return(await V.get(`/api/khach-hang/phone/${e}`)).data}catch(t){throw console.error("Error fetching customer by phone:",t),t}},getCustomerBookingHistory:async e=>{try{return(await V.get(`/api/khach-hang/booking-history/${e}`)).data}catch(t){throw console.error("Error fetching customer booking history:",t),t}},getCustomerRentalHistory:async e=>{try{return(await V.get(`/api/khach-hang/rental-history/${e}`)).data}catch(t){throw console.error("Error fetching customer rental history:",t),t}},getCustomerStats:async e=>{try{return(await V.get(`/api/khach-hang/stats/${e}`)).data}catch(t){throw console.error("Error fetching customer statistics:",t),t}},validateCustomer:async e=>{try{return(await V.post("/api/khach-hang/validate",e)).data}catch(t){throw console.error("Error validating customer:",t),t}},checkCustomerExists:async e=>{try{return(await V.get(`/api/khach-hang/exists/${e}`)).data}catch(t){throw console.error("Error checking customer existence:",t),t}},getProfile:async()=>{try{return(await V.get("/api/khach-hang/profile")).data}catch(e){throw console.error("Error fetching customer profile:",e),e}},updateProfile:async(e,t)=>{try{return(await V.put(`/api/khach-hang/update-profile/${e}`,t)).data}catch(n){throw console.error("Error updating customer profile:",n),n}},changePassword:async(e,t)=>{try{return(await V.put(`/api/khach-hang/change-password/${e}`,null,{params:{oldPassword:t.currentPassword,newPassword:t.newPassword}})).data}catch(n){throw console.error("Error changing password:",n),n}},uploadAvatar:async e=>{try{return(await V.post("/api/khach-hang/avatar",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error uploading avatar:",t),t}}},lA=()=>{const{user:e,updateUser:t}=Pr(),[n,r]=N.useState(!0),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState({ho:"",ten:"",email:"",sdt:"",diaChi:"",maSoThue:"",cccd:""}),[h,d]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""});N.useEffect(()=>{f()},[]);const f=async()=>{try{if(r(!0),e!=null&&e.cccd||e!=null&&e.id){const v=e.cccd||e.id,g=await Jr.getCustomerById(v);if(g.statusCode===200&&g.khachHang){const y=g.khachHang;u({ho:y.ho||"",ten:y.ten||"",email:y.email||"",sdt:y.sdt||"",diaChi:y.diaChi||"",maSoThue:y.maSoThue||"",cccd:y.cccd||""})}}else u({ho:(e==null?void 0:e.ho)||"",ten:(e==null?void 0:e.ten)||"",email:(e==null?void 0:e.email)||"",sdt:(e==null?void 0:e.sdt)||(e==null?void 0:e.soDienThoai)||"",diaChi:(e==null?void 0:e.diaChi)||"",maSoThue:(e==null?void 0:e.maSoThue)||"",cccd:(e==null?void 0:e.cccd)||(e==null?void 0:e.id)||""})}catch(v){console.error("Error fetching profile:",v),X.error("Không thể tải thông tin cá nhân"),u({ho:(e==null?void 0:e.ho)||"",ten:(e==null?void 0:e.ten)||"",email:(e==null?void 0:e.email)||"",sdt:(e==null?void 0:e.sdt)||(e==null?void 0:e.soDienThoai)||"",diaChi:(e==null?void 0:e.diaChi)||"",maSoThue:(e==null?void 0:e.maSoThue)||"",cccd:(e==null?void 0:e.cccd)||(e==null?void 0:e.id)||""})}finally{r(!1)}},m=v=>{const{name:g,value:y}=v.target;u(b=>({...b,[g]:y}))},x=v=>{const{name:g,value:y}=v.target;d(b=>({...b,[g]:y}))},p=async v=>{v.preventDefault();try{r(!0);const g={ho:c.ho,ten:c.ten,email:c.email,sdt:c.sdt,diaChi:c.diaChi,maSoThue:c.maSoThue};console.log("Updating profile with data:",g),console.log("User CCCD:",c.cccd);const y=await Jr.updateProfile(c.cccd,g);if(y.statusCode===200){X.success("Cập nhật thông tin thành công!"),i(!1);const b={ho:g.ho,ten:g.ten,email:g.email,sdt:g.sdt,diaChi:g.diaChi,maSoThue:g.maSoThue,hoTen:`${g.ho} ${g.ten}`.trim()};console.log("Updating user context with:",b),t(b),await f()}else X.error(y.message||"Có lỗi xảy ra khi cập nhật thông tin")}catch(g){console.error("Error updating profile:",g),X.error("Có lỗi xảy ra khi cập nhật thông tin")}finally{r(!1)}},w=async v=>{var g;if(v.preventDefault(),h.newPassword!==h.confirmPassword){X.error("Mật khẩu xác nhận không khớp");return}if(h.newPassword.length<6){X.error("Mật khẩu mới phải có ít nhất 6 ký tự");return}if(h.currentPassword===h.newPassword){X.error("Mật khẩu mới không được trùng với mật khẩu cũ");return}try{r(!0);const y={currentPassword:h.currentPassword,newPassword:h.newPassword};console.log("Changing password for user:",c.cccd);const b=await Jr.changePassword(c.cccd,y);b.statusCode===200?(X.success("Đổi mật khẩu thành công!"),l(!1),d({currentPassword:"",newPassword:"",confirmPassword:""})):X.error(b.message||"Có lỗi xảy ra khi đổi mật khẩu")}catch(y){console.error("Error changing password:",y),((g=y.response)==null?void 0:g.status)===400?X.error("Mật khẩu hiện tại không đúng"):X.error("Có lỗi xảy ra khi đổi mật khẩu")}finally{r(!1)}};return n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thông tin cá nhân"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý thông tin tài khoản của bạn"})]}),s.jsx("div",{className:"flex space-x-3",children:!a&&s.jsxs("button",{onClick:()=>i(!0),className:"btn-outline",disabled:n,children:[s.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Chỉnh sửa"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Ft,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin cơ bản"})]}),s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ"}),s.jsx("input",{type:"text",name:"ho",value:c.ho,onChange:m,disabled:!a,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên"}),s.jsx("input",{type:"text",name:"ten",value:c.ten,onChange:m,disabled:!a,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CCCD"}),s.jsx("input",{type:"text",name:"cccd",value:c.cccd,disabled:!0,className:"input bg-gray-50",placeholder:"Số CCCD"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:c.email,onChange:m,disabled:!a,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),s.jsx("input",{type:"tel",name:"sdt",value:c.sdt,onChange:m,disabled:!a,className:"input"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),s.jsx("input",{type:"text",name:"diaChi",value:c.diaChi,onChange:m,disabled:!a,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã số thuế"}),s.jsx("input",{type:"text",name:"maSoThue",value:c.maSoThue,onChange:m,disabled:!a,className:"input",placeholder:"Mã số thuế (tùy chọn)"})]})]}),a&&s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-outline",children:"Hủy"}),s.jsxs("button",{type:"submit",className:"btn-primary",children:[s.jsx(kp,{className:"w-4 h-4 mr-2"}),"Lưu thay đổi"]})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx(Ft,{className:"w-12 h-12 text-primary-600"})}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[c.ho," ",c.ten]}),s.jsx("p",{className:"text-gray-500",children:c.email}),s.jsx("button",{className:"btn-outline mt-4",children:"Thay đổi ảnh đại diện"})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(tm,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Đổi mật khẩu"})]}),o?s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),s.jsx("input",{type:"password",name:"currentPassword",value:h.currentPassword,onChange:x,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),s.jsx("input",{type:"password",name:"newPassword",value:h.newPassword,onChange:x,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),s.jsx("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:x,className:"input",required:!0})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-outline flex-1",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Lưu"})]})]}):s.jsx("button",{onClick:()=>l(!0),className:"btn-outline w-full",children:"Đổi mật khẩu"})]})]})]})]})},Lu={getStaffStats:async()=>{try{return(await V.get("/api/dashboard/staff/stats")).data}catch(e){throw console.error("Error fetching staff stats:",e),e}},getTodayCheckIns:async()=>{try{return(await V.get("/api/dashboard/staff/today-checkins")).data}catch(e){throw console.error("Error fetching today check-ins:",e),e}},getTodayCheckOuts:async()=>{try{return(await V.get("/api/dashboard/staff/today-checkouts")).data}catch(e){throw console.error("Error fetching today check-outs:",e),e}},getAdminStats:async()=>{try{const[e,t,n]=await Promise.all([V.get("/api/phong/all"),V.get("/api/nhanvien/all"),V.get("/api/khach-hang/all")]),r=e.data.phongList||[],a=t.data.nhanVienList||[],i=n.data.khachHangList||[],o=r.filter(d=>{var f;return d.tenTrangThai==="Trống"||((f=d.trangThai)==null?void 0:f.tenTrangThai)==="Trống"}).length,l=r.filter(d=>{var f;return d.tenTrangThai==="Đã có khách"||((f=d.trangThai)==null?void 0:f.tenTrangThai)==="Đã có khách"}).length,c=r.filter(d=>{var f;return d.tenTrangThai==="Đang dọn dẹp"||((f=d.trangThai)==null?void 0:f.tenTrangThai)==="Đang dọn dẹp"}).length,u=r.filter(d=>{var f;return d.tenTrangThai==="Đang bảo trì"||((f=d.trangThai)==null?void 0:f.tenTrangThai)==="Đang bảo trì"}).length,h=r.filter(d=>{var f;return d.tenTrangThai==="Đã đặt"||((f=d.trangThai)==null?void 0:f.tenTrangThai)==="Đã đặt"}).length;return{statusCode:200,stats:{totalRooms:r.length,availableRooms:o,occupiedRooms:l,cleaningRooms:c,maintenanceRooms:u,reservedRooms:h,totalStaff:a.length,totalCustomers:i.length,monthlyRevenue:25e8,todayRevenue:85e6,totalServices:25,totalAmenities:15,pendingReservations:12,checkInsToday:8,checkOutsToday:6,occupancyRate:r.length>0?((l+h)/r.length*100).toFixed(1):0}}}catch(e){throw console.error("Error fetching admin stats:",e),e}},getCurrentGuests:async()=>{try{return(await V.get("/api/dashboard/staff/current-guests")).data}catch(e){throw console.error("Error fetching current guests:",e),e}}},cA=({stats:e})=>{const t=[{title:"Phiếu đặt mới hôm nay",value:e.todayBookings||0,icon:vi,color:"bg-indigo-500",textColor:"text-indigo-600",bgColor:"bg-indigo-50",description:"Phiếu đặt nhận trong ngày"},{title:"Check-in hôm nay",value:e.checkInsToday||0,icon:mn,color:"bg-green-500",textColor:"text-green-600",bgColor:"bg-green-50"},{title:"Check-out hôm nay",value:e.checkOutsToday||0,icon:gn,color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"},{title:"Phòng còn trống",value:e.availableRooms||0,icon:In,color:"bg-teal-500",textColor:"text-teal-600",bgColor:"bg-teal-50"},{title:"Phòng đã có khách",value:e.occupiedRooms||0,icon:yc,color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{title:"Phòng đang dọn dẹp",value:e.cleaningRooms||0,icon:Y_,color:"bg-cyan-500",textColor:"text-cyan-600",bgColor:"bg-cyan-50"},{title:"Đặt phòng khả dụng",value:e.totalReservations||0,icon:pt,color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50",description:"Xác nhận, chưa check-in"},{title:"Đặt phòng chờ xử lý",value:e.pendingReservations||0,icon:us,color:"bg-yellow-500",textColor:"text-yellow-600",bgColor:"bg-yellow-50",description:"Chờ xác nhận"},{title:"Phòng đang bảo trì",value:e.maintenanceRooms||0,icon:xh,color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-3 gap-4",children:t.map((n,r)=>{const a=n.icon;return s.jsx("div",{className:`card ${n.bgColor}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${n.color}`,children:s.jsx(a,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:n.title}),s.jsx("p",{className:`text-2xl font-bold ${n.textColor}`,children:n.value.toLocaleString()}),n.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.description})]})]})},r)})})},uA=()=>{const{user:e}=Pr(),[t,n]=N.useState({totalReservations:0,checkInsToday:0,checkOutsToday:0,occupiedRooms:0,availableRooms:0,pendingReservations:0}),[r,a]=N.useState([]),[i,o]=N.useState([]);N.useEffect(()=>{l()},[]);const l=async()=>{let c=null;try{c=await Lu.getStaffStats()}catch(d){console.error("❌ Stats API failed:",d)}let u={phieuDatList:[]};try{u=await Lu.getTodayCheckIns()}catch(d){console.error("⚠️ Check-ins API failed (using empty data):",d.message)}let h={phieuThueList:[]};try{h=await Lu.getTodayCheckOuts()}catch(d){console.error("⚠️ Check-outs API failed (using empty data):",d.message)}if(c){const d=c.stats||c,f={totalReservations:d.confirmedBookings||0,checkInsToday:d.todayCheckIns||0,checkOutsToday:d.todayCheckOuts||0,occupiedRooms:d.occupiedRooms||0,availableRooms:d.availableRooms||0,cleaningRooms:d.cleaningRooms||0,maintenanceRooms:d.maintenanceRooms||0,todayBookings:d.todayBookings||0,pendingReservations:d.pendingBookings||0,totalRooms:d.totalRooms||0,occupancyRate:d.occupancyRate||0};n(f)}else n({totalReservations:0,checkInsToday:0,checkOutsToday:0,occupiedRooms:0,availableRooms:0,cleaningRooms:0,maintenanceRooms:0,todayBookings:0,pendingReservations:0,totalRooms:0,occupancyRate:0});a(u.activities||[]),o(h.activities||[])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-lg p-6 text-white",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Chào mừng, ",yo(e),"!"]}),s.jsx("p",{className:"text-blue-100",children:"Dashboard lễ tân - Quản lý đặt phòng và dịch vụ khách hàng"})]}),s.jsx(cA,{stats:t}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx($e,{to:"/staff/reservations",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(pt,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý đặt phòng"}),s.jsx("p",{className:"text-gray-600",children:"Xem và quản lý tất cả đặt phòng"})]})}),s.jsx($e,{to:"/staff/checkin",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(va,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check-in"}),s.jsx("p",{className:"text-gray-600",children:"Thực hiện check-in cho khách hàng"})]})}),s.jsx($e,{to:"/staff/checkout",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(ei,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check-out"}),s.jsx("p",{className:"text-gray-600",children:"Thực hiện check-out cho khách hàng"})]})}),s.jsx($e,{to:"/staff/walkin",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-teal-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(ph,{className:"w-8 h-8 text-teal-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Walk-in Check-in"}),s.jsx("p",{className:"text-gray-600",children:"Check-in khách không đặt trước"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[s.jsx($e,{to:"/staff/rooms",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-indigo-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(mr,{className:"w-8 h-8 text-indigo-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý thông tin phòng khách sạn"})]})}),s.jsx($e,{to:"/staff/services",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(jd,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dịch vụ & Phụ thu"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý dịch vụ và phụ thu khách sạn"})]})}),s.jsx($e,{to:"/staff/rentals",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-orange-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(mn,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý thuê phòng"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý chi tiết phiếu thuê và khách ở"})]})}),s.jsx($e,{to:"/staff/room-changes",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-cyan-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(vc,{className:"w-8 h-8 text-cyan-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý đổi phòng"}),s.jsx("p",{className:"text-gray-600",children:"Theo dõi và xử lý yêu cầu đổi phòng"})]})}),s.jsx($e,{to:"/staff/invoices",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-emerald-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(vi,{className:"w-8 h-8 text-emerald-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý hóa đơn"}),s.jsx("p",{className:"text-gray-600",children:"Xem và quản lý hóa đơn thanh toán"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Khách hàng sẽ tới hôm nay"}),s.jsx($e,{to:"/staff/checkin",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:r.length>0?r.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(va,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:c.customerName||c.hoTenKhachHang||"Khách hàng"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[c.roomNumber?`Phòng ${c.roomNumber}`:"Chờ phân phòng"," • ",c.checkInTime||c.ngayBdThue||"Chưa xác định"]})]})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-green-600 bg-green-100",children:"Check-in"})]},c.id||c.idPd||u)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(va,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"Không có khách check-in hôm nay"})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Khách hàng trả phòng hôm nay"}),s.jsx($e,{to:"/staff/checkout",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:i.length>0?i.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ei,{className:"w-5 h-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:c.customerName||c.hoTenKhachHang||"Khách hàng"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["CCCD: ",c.cccd," • Ngày đi: ",c.ngayDi," • ",c.soNgayThue," ngày"]})]})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-orange-600 bg-orange-100",children:"Check-out"})]},c.id||c.idPt||u)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ei,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"Không có khách check-out hôm nay"})]})})]})]})]})},Zs={getAllBookings:async()=>{try{return(await V.get("/api/phieu-dat/all")).data}catch(e){throw console.error("Error fetching all bookings:",e),e}},getBookingById:async e=>{try{return(await V.get(`/api/phieu-dat/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching booking by ID:",t),t}},createBooking:async e=>{try{return(await V.post("/api/phieu-dat/create",e)).data}catch(t){throw console.error("Error creating booking:",t),t}},createBookingAtReception:async e=>{try{return(await V.post("/api/phieu-dat/create-at-reception",e)).data}catch(t){throw console.error("Error creating booking at reception:",t),t}},updateBooking:async(e,t)=>{try{return(await V.put(`/api/phieu-dat/update/${e}`,t)).data}catch(n){throw console.error("Error updating booking:",n),n}},deleteBooking:async e=>{try{return(await V.delete(`/api/phieu-dat/delete/${e}`)).data}catch(t){throw console.error("Error deleting booking:",t),t}},getBookingsByCustomer:async e=>{try{return(await V.get(`/api/phieu-dat/khach-hang/${e}`)).data}catch(t){throw console.error("Error fetching bookings by customer:",t),t}},getBookingsByEmployee:async e=>{try{return(await V.get(`/api/phieu-dat/nhan-vien/${e}`)).data}catch(t){throw console.error("Error fetching bookings by employee:",t),t}},getBookingsByStatus:async e=>{try{return(await V.get(`/api/phieu-dat/trang-thai/${e}`)).data}catch(t){throw console.error("Error fetching bookings by status:",t),t}},getBookingsByDateRange:async(e,t)=>{try{return(await V.get(`/api/phieu-dat/date-range?startDate=${e}&endDate=${t}`)).data}catch(n){throw console.error("Error fetching bookings by date range:",n),n}},confirmBooking:async e=>{try{return(await V.put(`/api/phieu-dat/confirm/${e}`)).data}catch(t){throw console.error("Error confirming booking:",t),t}},cancelBooking:async(e,t)=>{try{return(await V.put(`/api/phieu-dat/cancel/${e}?reason=${encodeURIComponent(t)}`)).data}catch(n){throw console.error("Error canceling booking:",n),n}},updateBookingStatus:async(e,t)=>{try{return(await V.put(`/api/phieu-dat/update-status/${e}?trangThai=${encodeURIComponent(t)}`)).data}catch(n){throw console.error("Error updating booking status:",n),n}},updateBookingSimple:async(e,t)=>{try{return(await V.put(`/api/phieu-dat/update-simple/${e}`,t)).data}catch(n){throw console.error("Error updating booking simple:",n),n}},deleteBooking:async e=>{try{return(await V.delete(`/api/phieu-dat/delete/${e}`)).data}catch(t){throw console.error("Error deleting booking:",t),t}},getPendingBookings:async()=>{try{return(await V.get("/api/phieu-dat/pending")).data}catch(e){throw console.error("Error fetching pending bookings:",e),e}},getTodayBookings:async()=>{try{return(await V.get("/api/phieu-dat/today")).data}catch(e){throw console.error("Error fetching today bookings:",e),e}},getConfirmedBookings:async()=>{try{return(await V.get("/api/phieu-dat/confirmed")).data}catch(e){throw console.error("Error fetching confirmed bookings:",e),e}},validateBookingDates:async(e,t)=>{try{return(await V.get(`/api/phieu-dat/validate-dates?checkIn=${e}&checkOut=${t}`)).data}catch(n){throw console.error("Error validating booking dates:",n),n}}},hA=()=>{const[e,t]=N.useState([]),[n,r]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(10),[u,h]=N.useState({status:"",dateFrom:"",dateTo:"",searchTerm:""}),[d,f]=N.useState(!1),[m,x]=N.useState(!1),[p,w]=N.useState(null);N.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0);const pe=((await Zs.getAllBookings()).phieuDatList||[]).map(P=>({id:P.idPd,maPhieuThue:`PD${P.idPd}`,customerName:P.hoTenKhachHang||"N/A",customerPhone:P.sdtKhachHang||"N/A",customerEmail:P.emailKhachHang||P.email||"N/A",roomNumber:P.soPhong||"Chưa chọn",roomType:"Standard",kieuPhong:P.tenKp||"Chưa xác định",loaiPhong:P.tenLp||"Chưa xác định",soLuongPhongO:P.soLuongPhongO||0,idKp:P.idKp,idLp:P.idLp,checkIn:P.ngayBdThue,checkOut:P.ngayDi,status:g(P.trangThai),total:P.soTienCoc||0,createdAt:P.ngayDat,cccd:P.cccd,employeeId:P.idNv,employeeName:P.hoTenNhanVien}));t(pe),r(pe)}catch(z){console.error("Error fetching reservations:",z),t([]),r([])}finally{i(!1)}},g=z=>{switch(z){case"Chờ xác nhận":return"pending";case"Xác nhận":return"confirmed";case"Đã check-in":return"checkedin";case"Đã hủy":return"cancelled";case"Đã check-out":return"checkedout";default:return"pending"}},y=z=>{switch(z){case"pending":return"Chờ xác nhận";case"confirmed":return"Xác nhận";case"checkedin":return"Đã check-in";case"cancelled":return"Đã hủy";case"checkedout":return"Đã check-out";default:return"Chờ xác nhận"}},b=z=>{switch(z){case"confirmed":return"text-blue-600 bg-blue-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";case"checkedin":return"text-green-600 bg-green-100";case"checkedout":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},j=z=>{switch(z){case"confirmed":return"Xác nhận";case"pending":return"Chờ xác nhận";case"cancelled":return"Đã hủy";case"checkedin":return"Đã check-in";case"checkedout":return"Đã check-out";default:return"Không xác định"}},C=z=>{switch(z){case"confirmed":return s.jsx(In,{className:"w-4 h-4"});case"pending":return s.jsx(gn,{className:"w-4 h-4"});case"cancelled":return s.jsx(vo,{className:"w-4 h-4"});case"checkedin":return s.jsx(Xg,{className:"w-4 h-4"});case"checkedout":return s.jsx(In,{className:"w-4 h-4"});default:return s.jsx(us,{className:"w-4 h-4"})}},T=(z,J)=>{const pe={...u,[z]:J};h(pe),k(pe)},k=z=>{let J=[...e];if(z.status&&(J=J.filter(pe=>pe.status===z.status)),z.dateFrom&&(J=J.filter(pe=>new Date(pe.checkIn)>=new Date(z.dateFrom))),z.dateTo&&(J=J.filter(pe=>new Date(pe.checkOut)<=new Date(z.dateTo))),z.searchTerm){const pe=z.searchTerm.toLowerCase();J=J.filter(P=>P.customerName.toLowerCase().includes(pe)||P.maPhieuThue.toLowerCase().includes(pe)||P.roomNumber.includes(pe))}r(J),l(1)},D=()=>{h({status:"",dateFrom:"",dateTo:"",searchTerm:""}),r(e),l(1)},H=async(z,J)=>{try{const pe=y(J);J==="confirmed"?await Zs.confirmBooking(z):J==="cancelled"?await Zs.cancelBooking(z,"Hủy bởi lễ tân"):await Zs.updateBookingStatus(z,pe),t(P=>P.map(ee=>ee.id===z?{...ee,status:J}:ee)),k(u)}catch(pe){console.error("Error updating reservation status:",pe),alert("Có lỗi xảy ra khi cập nhật trạng thái đặt phòng")}},O=z=>{w(z),f(!0)},B=z=>{w(z),x(!0)},W=async z=>{if(window.confirm("Bạn có chắc chắn muốn xóa phiếu đặt này không?"))try{await Zs.deleteBooking(z),await v(),alert("Xóa phiếu đặt thành công!")}catch(J){console.error("Error deleting reservation:",J),alert("Có lỗi xảy ra khi xóa phiếu đặt")}},ue=async z=>{var J,pe;try{const P={customerName:z.customerName,customerPhone:z.customerPhone,customerEmail:z.customerEmail,checkIn:z.checkIn,checkOut:z.checkOut,status:y(z.status),soTienCoc:z.soTienCoc,kieuPhong:z.kieuPhong,loaiPhong:z.loaiPhong,soLuongPhongO:z.soLuongPhongO},ee=await Zs.updateBookingSimple(p.id,P);if(ee.statusCode===200)t(Y=>Y.map(q=>q.id===p.id?{...q,customerName:z.customerName,customerPhone:z.customerPhone,customerEmail:z.customerEmail,checkIn:z.checkIn,checkOut:z.checkOut,kieuPhong:z.kieuPhong,loaiPhong:z.loaiPhong,soLuongPhongO:z.soLuongPhongO,total:z.soTienCoc,status:z.status}:q)),x(!1),w(null),alert("Cập nhật đặt phòng thành công!"),v();else throw new Error(ee.message||"Lỗi cập nhật đặt phòng")}catch(P){console.error("Error updating reservation:",P),alert("Có lỗi xảy ra khi cập nhật đặt phòng: "+(((pe=(J=P.response)==null?void 0:J.data)==null?void 0:pe.message)||P.message))}},G=o*c,I=G-c,K=n.slice(I,G),se=z=>l(z);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý đặt phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Xem và quản lý tất cả đặt phòng của khách sạn"})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Xn,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Tên khách, mã đặt phòng, số phòng...",value:u.searchTerm,onChange:z=>T("searchTerm",z.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:z=>T("status",z.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"pending",children:"Chờ xác nhận"}),s.jsx("option",{value:"confirmed",children:"Xác nhận"}),s.jsx("option",{value:"checkedin",children:"Đã check-in"}),s.jsx("option",{value:"checkedout",children:"Đã check-out"}),s.jsx("option",{value:"cancelled",children:"Đã hủy"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Từ ngày"}),s.jsx("input",{type:"date",value:u.dateFrom,onChange:z=>T("dateFrom",z.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đến ngày"}),s.jsx("input",{type:"date",value:u.dateTo,onChange:z=>T("dateTo",z.target.value),className:"input"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:D,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Kết quả (",n.length," đặt phòng)"]})}),n.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã đặt phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kiểu & Loại phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số tiền cọc"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(z=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.maPhieuThue}),s.jsx("div",{className:"text-sm text-gray-500",children:z.createdAt})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.customerName}),s.jsx("div",{className:"text-sm text-gray-500",children:z.customerPhone}),s.jsx("div",{className:"text-sm text-gray-500",children:z.customerEmail})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.kieuPhong}),s.jsx("div",{className:"text-sm text-gray-500",children:z.loaiPhong})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[z.checkIn," - ",z.checkOut]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${b(z.status)}`,children:[C(z.status),s.jsx("span",{className:"ml-1",children:j(z.status)})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[z.total.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>O(z),className:"text-blue-600 hover:text-blue-900",title:"Xem chi tiết",children:s.jsx(Hn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>B(z),className:"text-yellow-600 hover:text-yellow-900",title:"Chỉnh sửa",children:s.jsx(Dr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>W(z.id),className:"text-red-600 hover:text-red-900",title:"Xóa phiếu đặt",children:s.jsx(Ls,{className:"w-4 h-4"})}),z.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>H(z.id,"confirmed"),className:"text-green-600 hover:text-green-900",title:"Xác nhận đặt phòng",children:s.jsx(Xg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>H(z.id,"cancelled"),className:"text-red-600 hover:text-red-900",title:"Hủy đặt phòng",children:s.jsx(pn,{className:"w-4 h-4"})})]})]})})]},z.id))})]})}),s.jsx(Fa,{itemsPerPage:c,totalItems:n.length,currentPage:o,paginate:se})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có đặt phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy đặt phòng nào phù hợp với bộ lọc"})]})]}),d&&p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chi tiết đặt phòng"}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(pn,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Tên khách hàng"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.customerName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Số điện thoại"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.customerPhone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.customerEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"CCCD"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.cccd||"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Thông tin đặt phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Mã đặt phòng"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.maPhieuThue})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ngày check-in"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(p.checkIn).toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ngày check-out"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(p.checkOut).toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Kiểu phòng"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.kieuPhong})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Loại phòng"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.loaiPhong})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Số lượng phòng ở"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.soLuongPhongO||"Chưa xác định"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Số tiền cọc"}),s.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[p.total.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Trạng thái"}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${b(p.status)}`,children:[C(p.status),s.jsx("span",{className:"ml-1",children:j(p.status)})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Thông tin nhân viên"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nhân viên tạo"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.employeeName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Mã nhân viên"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.employeeId||"N/A"})]})]})]})]}),s.jsx("div",{className:"flex justify-end pt-6",children:s.jsx("button",{onClick:()=>f(!1),className:"btn-outline",children:"Đóng"})})]})}),m&&p&&s.jsx(dA,{reservation:p,onClose:()=>{x(!1),w(null)},onUpdate:ue})]})},dA=({reservation:e,onClose:t,onUpdate:n})=>{const[r,a]=N.useState({customerName:e.customerName||"",customerPhone:e.customerPhone||"",customerEmail:e.customerEmail||"",checkIn:e.checkIn||"",checkOut:e.checkOut||"",kieuPhong:e.kieuPhong||"",loaiPhong:e.loaiPhong||"",soLuongPhongO:e.soLuongPhongO||0,soTienCoc:e.total||0,status:e.status||""}),[i,o]=N.useState([]),[l,c]=N.useState([]);N.useEffect(()=>{u(),h()},[]);const u=async()=>{try{const m=await Kt.getAllRoomTypes();o(m.kieuPhongList||[])}catch(m){console.error("Error fetching room types:",m)}},h=async()=>{try{const m=await Kt.getAllRoomCategories();c(m.loaiPhongList||[])}catch(m){console.error("Error fetching room categories:",m)}},d=m=>{m.preventDefault(),n(r)},f=(m,x)=>{a(p=>({...p,[m]:x}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chỉnh sửa đặt phòng"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(pn,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tên khách hàng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.customerName,onChange:m=>f("customerName",m.target.value),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số điện thoại ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",value:r.customerPhone,onChange:m=>f("customerPhone",m.target.value),className:"input",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",value:r.customerEmail,onChange:m=>f("customerEmail",m.target.value),className:"input",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin đặt phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-in ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:r.checkIn,onChange:m=>f("checkIn",m.target.value),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-out ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:r.checkOut,onChange:m=>f("checkOut",m.target.value),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:r.kieuPhong,onChange:m=>f("kieuPhong",m.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Chọn kiểu phòng"}),i.map(m=>s.jsx("option",{value:m.tenKp,children:m.tenKp},m.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:r.loaiPhong,onChange:m=>f("loaiPhong",m.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Chọn loại phòng"}),l.map(m=>s.jsx("option",{value:m.tenLp,children:m.tenLp},m.idLp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng phòng ở"}),s.jsx("input",{type:"number",value:r.soLuongPhongO,onChange:m=>f("soLuongPhongO",parseInt(m.target.value)||0),className:"input",placeholder:"VD: 1, 2, 3...",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số tiền cọc (VNĐ)"}),s.jsx("input",{type:"text",value:r.soTienCoc?r.soTienCoc.toLocaleString("vi-VN"):"",onChange:m=>{const x=m.target.value.replace(/[^\d]/g,"");f("soTienCoc",parseInt(x)||0)},className:"input",placeholder:"VD: 500,000",style:{appearance:"textfield"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:r.status,onChange:m=>f("status",m.target.value),className:"input",children:[s.jsx("option",{value:"pending",children:"Chờ xác nhận"}),s.jsx("option",{value:"confirmed",children:"Xác nhận"}),s.jsx("option",{value:"checkedin",children:"Đã check-in"}),s.jsx("option",{value:"checkedout",children:"Đã check-out"}),s.jsx("option",{value:"cancelled",children:"Đã hủy"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Cập nhật"})]})]})]})})},Dh={getAllRentals:async()=>{try{return(await V.get("/api/phieu-thue/all")).data}catch(e){throw console.error("Error fetching all rentals:",e),e}},getRentalById:async e=>{try{return(await V.get(`/api/phieu-thue/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching rental by ID:",t),t}},createRental:async e=>{try{return(await V.post("/api/phieu-thue/create",e)).data}catch(t){throw console.error("Error creating rental:",t),t}},updateRental:async(e,t)=>{try{return(await V.put(`/api/phieu-thue/update/${e}`,t)).data}catch(n){throw console.error("Error updating rental:",n),n}},deleteRental:async e=>{try{return(await V.delete(`/api/phieu-thue/delete/${e}`)).data}catch(t){throw console.error("Error deleting rental:",t),t}},getRentalsByCustomer:async e=>{try{return(await V.get(`/api/phieu-thue/khach-hang/${e}`)).data}catch(t){throw console.error("Error fetching rentals by customer:",t),t}},getRentalsByEmployee:async e=>{try{return(await V.get(`/api/phieu-thue/nhan-vien/${e}`)).data}catch(t){throw console.error("Error fetching rentals by employee:",t),t}},getRentalsByBooking:async e=>{try{return(await V.get(`/api/phieu-thue/phieu-dat/${e}`)).data}catch(t){throw console.error("Error fetching rentals by booking:",t),t}},getCurrentStays:async()=>{try{return(await V.get("/api/phieu-thue/current-stays")).data}catch(e){throw console.error("Error fetching current stays:",e),e}},checkInFromBooking:async e=>{try{return(await V.post(`/api/phieu-thue/checkin-booking/${e}`)).data}catch(t){throw console.error("Error checking in from booking:",t),t}},checkInFromBookingWithRoom:async e=>{try{return(await V.post("/api/phieu-thue/checkin-from-booking-with-room",e)).data}catch(t){throw console.error("Error check-in from booking with room:",t),t}},checkInFromBookingWithMultipleRooms:async e=>{try{return(await V.post("/api/phieu-thue/checkin-from-booking-multiple-rooms",e)).data}catch(t){throw console.error("Error checking in from booking with multiple rooms:",t),t}},checkInWalkIn:async e=>{try{return(await V.post("/api/phieu-thue/checkin-walkin",e)).data}catch(t){throw console.error("Error walk-in check-in:",t),t}},checkOut:async e=>{try{return(await V.put(`/api/phieu-thue/checkout/${e}`)).data}catch(t){throw console.error("Error checking out:",t),t}},extendStay:async(e,t)=>{try{return(await V.put(`/api/phieu-thue/extend-stay/${e}?newCheckOut=${t}`)).data}catch(n){throw console.error("Error extending stay:",n),n}},searchRentals:async e=>{try{return(await V.get(`/api/phieu-thue/search?keyword=${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error searching rentals:",t),t}},getRentalsByDateRange:async(e,t)=>{try{return(await V.get(`/api/phieu-thue/date-range?startDate=${e}&endDate=${t}`)).data}catch(n){throw console.error("Error fetching rentals by date range:",n),n}},getTodayCheckIns:async()=>{try{return(await V.get("/api/phieu-thue/today-checkins")).data}catch(e){throw console.error("Error fetching today check-ins:",e),e}},getTodayCheckOuts:async()=>{try{return(await V.get("/api/phieu-thue/today-checkouts")).data}catch(e){throw console.error("Error fetching today check-outs:",e),e}},getOccupancyReport:async e=>{try{return(await V.get(`/api/phieu-thue/occupancy-report?date=${e}`)).data}catch(t){throw console.error("Error fetching occupancy report:",t),t}},getRevenueReport:async(e,t)=>{try{return(await V.get(`/api/phieu-thue/revenue-report?startDate=${e}&endDate=${t}`)).data}catch(n){throw console.error("Error fetching revenue report:",n),n}},getRentalDetails:async e=>{try{return(await V.get(`/api/phieu-thue/details/${e}`)).data}catch(t){throw console.error("Error fetching rental details:",t),t}},updatePaymentStatus:async(e,t)=>{try{return(await V.put(`/api/phieu-thue/update-payment-status/${e}?trangThaiThanhToan=${t}`)).data}catch(n){throw console.error("Error updating payment status:",n),n}}},H2=({onRoomSelect:e,selectedRoom:t,selectedRooms:n=[],checkInDate:r,checkOutDate:a,filters:i={},multiSelect:o=!1,maxRooms:l=1})=>{var k,D,H;const[c,u]=N.useState([]),[h,d]=N.useState(!0),[f,m]=N.useState(null);N.useEffect(()=>{x()},[r,a,i]);const x=async()=>{try{d(!0);let O;if(r&&a){const W=new URLSearchParams({checkIn:r,checkOut:a});i.idKp&&W.append("idKp",i.idKp),i.idLp&&W.append("idLp",i.idLp);const ue=`/api/phong/available-by-date?${W.toString()}`;O=await V.get(ue),O=O.data}else O=await Kt.getAllRooms();let B=O.phongList||O.data||[];u(B)}catch(O){console.error("Error fetching rooms:",O),u([])}finally{d(!1)}},p=O=>{var W;switch(O.tenTrangThai||((W=O.trangThai)==null?void 0:W.tenTrangThai)||O.status){case"Trống":return"bg-green-100 border-green-300 hover:bg-green-200";case"Đã có khách":return"bg-white border-gray-300 hover:bg-gray-50";case"Đang bảo trì":return"bg-red-100 border-red-300 hover:bg-red-200";case"Đã đặt":return"bg-yellow-100 border-yellow-300 hover:bg-yellow-200";case"Đã được đặt":return"bg-yellow-100 border-yellow-300 hover:bg-yellow-200";default:return"bg-green-100 border-green-300 hover:bg-green-200"}},w=O=>{var W;switch(O.tenTrangThai||((W=O.trangThai)==null?void 0:W.tenTrangThai)||O.status){case"Trống":return s.jsx(In,{className:"w-4 h-4 text-green-600"});case"Đã có khách":return s.jsx(mn,{className:"w-4 h-4 text-gray-600"});case"Đang bảo trì":return s.jsx(xh,{className:"w-4 h-4 text-red-600"});case"Đã đặt":return s.jsx(gn,{className:"w-4 h-4 text-yellow-600"});case"Đã được đặt":return s.jsx(gn,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(In,{className:"w-4 h-4 text-green-600"})}},v=O=>{var W;return(O.tenTrangThai||((W=O.trangThai)==null?void 0:W.tenTrangThai)||O.status)==="Trống"},g=O=>{v(O)&&e&&e(O)},y=O=>o?n.some(B=>B.soPhong===O.soPhong):(t==null?void 0:t.soPhong)===O.soPhong,b=O=>{const B={};return O.forEach(W=>{const ue=W.tang||1;B[ue]||(B[ue]=[]),B[ue].push(W)}),Object.keys(B).forEach(W=>{B[W].sort((ue,G)=>ue.soPhong.localeCompare(G.soPhong))}),B},j=O=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(O);if(h)return s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),s.jsx("span",{className:"ml-2",children:"Đang tải sơ đồ phòng..."})]});const C=b(c),T=Object.keys(C).sort((O,B)=>parseInt(B)-parseInt(O));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),s.jsx(In,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Trống"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded"}),s.jsx(mn,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đã có khách"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),s.jsx(xh,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đang bảo trì"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded"}),s.jsx(gn,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đã đặt"})]}),o&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-500 rounded ring-2 ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đã chọn"})]})]}),s.jsx("div",{className:"space-y-4",children:T.map(O=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Tầng ",O]}),s.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-2",children:C[O].map(B=>{var W,ue,G,I,K,se,z;return s.jsxs("div",{className:`
                    relative p-3 rounded-lg border-2 cursor-pointer transition-all duration-200
                    ${p(B)}
                    ${y(B)?"ring-2 ring-blue-500 bg-blue-100":""}
                    ${v(B)?"":"cursor-not-allowed opacity-75"}
                  `,onClick:()=>g(B),onMouseEnter:()=>m(B),onMouseLeave:()=>m(null),children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-1",children:w(B)}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.soPhong})]}),(f==null?void 0:f.soPhong)===B.soPhong&&s.jsxs("div",{className:"absolute z-10 bottom-full left-1/2 transform -translate-x-1/2 mb-2 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-lg min-w-48",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Phòng:"})," ",B.soPhong]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tầng:"})," ",B.tang]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loại phòng:"})," ",B.tenKp||((ue=(W=B.hangPhong)==null?void 0:W.kieuPhong)==null?void 0:ue.tenKp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Hạng phòng:"})," ",B.tenLp||((I=(G=B.hangPhong)==null?void 0:G.loaiPhong)==null?void 0:I.tenLp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Giá:"})," ",j(B.giaPhong||((K=B.hangPhong)==null?void 0:K.giaPhong)||0)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Sức chứa:"})," ",B.soLuongKhachO||((se=B.hangPhong)==null?void 0:se.soNguoiToiDa)||2," người"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Trạng thái:"})," ",B.tenTrangThai||((z=B.trangThai)==null?void 0:z.tenTrangThai)||"N/A"]}),B.currentGuest&&s.jsxs("div",{className:"border-t border-gray-700 pt-1 mt-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Khách:"})," ",B.currentGuest.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Check-in:"})," ",B.currentGuest.checkIn]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Check-out:"})," ",B.currentGuest.checkOut]})]})]}),s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]},B.soPhong)})})]},O))}),o&&n.length>0&&s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2",children:["Phòng đã chọn (",n.length,"/",l,")"]}),s.jsx("div",{className:"space-y-2",children:n.map((O,B)=>{var W,ue,G,I;return s.jsx("div",{className:"text-sm p-2 bg-white rounded border",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Phòng:"})," ",O.soPhong]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tầng:"})," ",O.tang]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Kiểu:"})," ",O.tenKp||((ue=(W=O.hangPhong)==null?void 0:W.kieuPhong)==null?void 0:ue.tenKp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loại:"})," ",O.tenLp||((I=(G=O.hangPhong)==null?void 0:G.loaiPhong)==null?void 0:I.tenLp)||"N/A"]})]})},O.soPhong)})})]}),!o&&t&&s.jsxs("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-primary-900 mb-2",children:"Phòng đã chọn"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Số phòng:"})," ",t.soPhong]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tầng:"})," ",t.tang]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loại phòng:"})," ",((D=(k=t.hangPhong)==null?void 0:k.kieuPhong)==null?void 0:D.tenKp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Giá:"})," ",j(((H=t.hangPhong)==null?void 0:H.giaPhong)||0)]})]})]})]})},fA=()=>{const[e,t]=N.useState(""),[n,r]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(null),[c,u]=N.useState(!1),[h,d]=N.useState(1),[f]=N.useState(5),[m,x]=N.useState("all"),[p,w]=N.useState([]),[v,g]=N.useState(!1),[y,b]=N.useState([]),[j,C]=N.useState(null),[T,k]=N.useState({idKp:"",idLp:""}),[D,H]=N.useState([]),[O,B]=N.useState([]),[W,ue]=N.useState({actualCheckIn:""});N.useEffect(()=>{G(),I(),K()},[]),N.useEffect(()=>{P()},[n,e,m]);const G=async()=>{try{u(!0);const Pe=((await Zs.getConfirmedBookings()).phieuDatList||[]).map(Be=>({id:Be.idPd,maPhieuThue:`PD${Be.idPd}`,customerName:Be.hoTenKhachHang||"N/A",customerPhone:Be.sdtKhachHang||"N/A",customerEmail:Be.emailKhachHang||"N/A",cccd:Be.cccd,checkIn:Be.ngayBdThue,checkOut:Be.ngayDi,status:"confirmed",roomNumber:"TBD",roomType:"Standard",kieuPhong:Be.tenKp||"Chưa xác định",loaiPhong:Be.tenLp||"Chưa xác định",soLuongPhongO:Be.soLuongPhongO||0,idKp:Be.idKp,idLp:Be.idLp,idHangPhong:Be.idHangPhong,total:Be.soTienCoc||0,employeeId:Be.idNv,employeeName:Be.hoTenNhanVien}));r(Pe),i(Pe)}catch(te){console.error("Error fetching today reservations:",te),r([]),i([])}finally{u(!1)}},I=async()=>{try{const te=await Kt.getAllRoomTypes();H(te.kieuPhongList||[])}catch(te){console.error("Error fetching room types:",te)}},K=async()=>{try{const te=await Kt.getAllRoomCategories();B(te.loaiPhongList||[])}catch(te){console.error("Error fetching room categories:",te)}},se=(te,Te)=>{k(Ce=>({...Ce,[te]:Te})),o&&z(o,{...T,[te]:Te})},z=async(te,Te)=>{try{const Ce=await Kt.getAvailableRoomsByDateRange(te.checkIn,te.checkOut,Te.idKp||"",Te.idLp||"");b(Ce.phongList||[])}catch(Ce){console.error("Error fetching filtered rooms:",Ce),b([])}},J=te=>{const Te=(o==null?void 0:o.soLuongPhongO)||1;p.find(Pe=>Pe.soPhong===te.soPhong)?w(Pe=>Pe.filter(Be=>Be.soPhong!==te.soPhong)):p.length<Te?w(Pe=>[...Pe,te]):w(Pe=>[...Pe.slice(1),te])},pe=te=>{w(Te=>Te.filter(Ce=>Ce.soPhong!==te.soPhong))},P=()=>{let te=n;if(m==="today"){const Te=new Date().toISOString().split("T")[0];te=te.filter(Ce=>Ce.checkIn?Ce.checkIn<=Te:!1)}e.trim()&&(te=te.filter(Te=>Te.customerName.toLowerCase().includes(e.toLowerCase())||Te.maPhieuThue.toLowerCase().includes(e.toLowerCase())||Te.customerPhone.includes(e))),i(te),d(1)},ee=te=>{t(te)},Y=te=>{x(te)},q=te=>{l(te),w([]),k({idKp:te.idKp||"",idLp:te.idLp||""}),ue({actualCheckIn:new Date().toISOString().slice(0,16)}),U(te)},U=async te=>{try{const Te=await Kt.getAvailableRoomsByDateRange(te.checkIn,te.checkOut,te.idKp||"",te.idLp||"");Te.statusCode===200?b(Te.phongList||[]):(X.error("Không thể tải danh sách phòng trống"),b([]))}catch(Te){console.error("Error fetching available rooms:",Te),X.error("Có lỗi xảy ra khi tải danh sách phòng"),b([])}},he=te=>{J(te),C(te)},ve=(te,Te)=>{ue(Ce=>({...Ce,[te]:Te}))},E=async()=>{if(!o){X.error("Vui lòng chọn phiếu đặt");return}if(!o.id){X.error("ID phiếu đặt không hợp lệ");return}if(p.length===0){X.error("Vui lòng chọn ít nhất một phòng");return}if(p.length!==(o.soLuongPhongO||1)){X.error(`Vui lòng chọn đúng ${o.soLuongPhongO||1} phòng`);return}if(p.filter(Te=>!Te.soPhong).length>0){X.error("Một số phòng được chọn không có số phòng hợp lệ");return}try{u(!0);const Te=W.actualCheckIn?W.actualCheckIn.split("T")[0]:new Date().toISOString().split("T")[0],Ce={idPhieuDat:parseInt(o.id),ngayDen:Te,danhSachSoPhong:p.map(Be=>Be.soPhong).filter(Be=>Be)},Pe=await Dh.checkInFromBookingWithMultipleRooms(Ce);if(Pe.statusCode===200){const Be=p.map(oe=>oe.soPhong).join(", ");X.success(`Check-in thành công cho ${o.customerName} vào phòng ${Be}!`),r(oe=>oe.map(Ue=>Ue.id===o.id?{...Ue,status:"checkedin",roomNumber:Be}:Ue)),l(null),w([]),ue({actualCheckIn:""}),G()}else X.error(Pe.message||"Có lỗi xảy ra khi check-in")}catch(Te){X.error("Có lỗi xảy ra khi check-in"),console.error("Check-in error:",Te)}finally{u(!1)}},ne=te=>{switch(te){case"confirmed":return"text-blue-600 bg-blue-100";case"checkedin":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},je=te=>{switch(te){case"confirmed":return"Xác nhận";case"checkedin":return"Đã check-in";default:return"Không xác định"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check-in khách hàng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thực hiện check-in cho khách hàng có đặt phòng đã được xác nhận"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Xn,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sách đặt phòng đã xác nhận"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>Y("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="all"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tất cả"}),s.jsx("button",{onClick:()=>Y("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="today"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Hôm nay"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("input",{type:"text",placeholder:"Tìm theo tên, mã đặt phòng, SĐT...",value:e,onChange:te=>ee(te.target.value),className:"input"})}),s.jsx("div",{className:"space-y-3",children:(()=>{const te=(h-1)*f,Te=te+f,Ce=a.slice(te,Te);return Ce.length>0?Ce.map(Pe=>s.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(o==null?void 0:o.id)===Pe.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>q(Pe),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:Pe.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:Pe.maPhieuThue})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ne(Pe.status)}`,children:je(Pe.status)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",Pe.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-in:"})," ",Pe.checkIn]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-out:"})," ",Pe.checkOut]})]})]},Pe.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy đặt phòng nào"})]})})()}),a.length>f&&s.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[s.jsx("button",{onClick:()=>d(te=>Math.max(te-1,1)),disabled:h===1,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),Array.from({length:Math.ceil(a.length/f)},(te,Te)=>s.jsx("button",{onClick:()=>d(Te+1),className:`px-3 py-1 rounded border ${h===Te+1?"bg-primary-500 text-white border-primary-500":"hover:bg-gray-50"}`,children:Te+1},Te+1)),s.jsx("button",{onClick:()=>d(te=>Math.min(te+1,Math.ceil(a.length/f))),disabled:h===Math.ceil(a.length/f),className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(va,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin check-in"})]}),o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tên:"})," ",o.customerName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",o.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",o.customerEmail]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Số lượng phòng:"})," ",o.soLuongPhongO||1]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Kiểu phòng:"})," ",o.kieuPhong||"Chưa xác định"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại phòng:"})," ",o.loaiPhong||"Chưa xác định"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Hạng phòng:"})," ",o.idHangPhong||"N/A"]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Số tiền cọc:"})," ",o.total.toLocaleString("vi-VN")," VNĐ"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chọn phòng (",p.length,"/",o.soLuongPhongO||1,")"]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>{k({idKp:o.idKp||"",idLp:o.idLp||""}),g(!0)},className:"btn-outline flex-1",children:[s.jsx(_r,{className:"w-4 h-4 mr-2"}),p.length>0?`${p.length} phòng đã chọn`:"Chọn phòng"]}),p.length>0&&s.jsx("button",{onClick:()=>w([]),className:"btn-outline px-3",children:s.jsx(pn,{className:"w-4 h-4"})})]}),p.length>0&&s.jsx("div",{className:"mt-2 space-y-2",children:p.map((te,Te)=>{var Ce;return s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phòng:"})," ",te.soPhong]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tầng:"})," ",te.tang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Kiểu phòng:"})," ",te.tenKp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại phòng:"})," ",te.tenLp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giá:"})," ",(Ce=te.gia)==null?void 0:Ce.toLocaleString("vi-VN")," VNĐ/đêm"]})]}),s.jsx("button",{onClick:()=>w(Pe=>Pe.filter(Be=>Be.soPhong!==te.soPhong)),className:"text-red-500 hover:text-red-700",children:s.jsx(pn,{className:"w-4 h-4"})})]})},te.soPhong)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian check-in thực tế"}),s.jsx("input",{type:"datetime-local",value:W.actualCheckIn,onChange:te=>ve("actualCheckIn",te.target.value),className:"input",required:!0})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{l(null),w([])},className:"btn-outline flex-1",children:"Hủy"}),s.jsxs("button",{onClick:E,disabled:c||!W.actualCheckIn||p.length===0,className:"btn-primary flex-1",children:[c?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(In,{className:"w-4 h-4 mr-2"}),"Xác nhận check-in"]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(va,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chọn đặt phòng để check-in"}),s.jsx("p",{className:"text-gray-500",children:"Tìm kiếm và chọn đặt phòng từ danh sách bên trái"})]})]})]}),v&&o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chọn phòng cho check-in"}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(pn,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lọc phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:T.idKp,onChange:te=>se("idKp",te.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả kiểu phòng"}),D.map(te=>s.jsx("option",{value:te.idKp,children:te.tenKp},te.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:T.idLp,onChange:te=>se("idLp",te.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả loại phòng"}),O.map(te=>s.jsx("option",{value:te.idLp,children:te.tenLp},te.idLp))]})]})]}),s.jsx("div",{className:"mt-4 flex space-x-3",children:s.jsx("button",{onClick:()=>k({idKp:"",idLp:""}),className:"btn-secondary",children:"Xóa bộ lọc"})})]}),s.jsx("div",{className:"border rounded-lg p-4",children:s.jsx(H2,{onRoomSelect:he,selectedRooms:p,checkInDate:o.checkIn,checkOutDate:o.checkOut,filters:T,maxRooms:o.soLuongPhongO||1,multiSelect:!0})}),p.length>0&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Phòng đã chọn (",p.length,"/",o.soLuongPhongO||1,")"]}),s.jsx("div",{className:"space-y-2 text-sm",children:p.map(te=>{var Te;return s.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[s.jsxs("span",{children:["Phòng ",te.soPhong," - ",te.tenKp," - ",te.tenLp," - Hạng phòng ",te.idHangPhong]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{children:[(Te=te.gia)==null?void 0:Te.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("button",{onClick:()=>pe(te),className:"text-red-500 hover:text-red-700 p-1",title:"Xóa phòng",children:s.jsx(pn,{className:"w-4 h-4"})})]})]},te.soPhong)})}),s.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200",children:s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Tổng tiền phòng:"}),s.jsxs("span",{children:[p.reduce((te,Te)=>te+(Te.gia||0),0).toLocaleString("vi-VN")," VNĐ"]})]})})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>g(!1),className:"btn-primary",children:"Xác nhận chọn phòng"})})]})})]})},Ei={getAllRentals:async()=>{try{return(await V.get("/api/phieu-thue/all")).data}catch(e){throw console.error("Error fetching all rentals:",e),e}},getActiveRentalsWithoutInvoice:async()=>{try{return(await V.get("/api/phieu-thue/active-without-invoice")).data}catch(e){throw console.error("Error fetching active rentals without invoice:",e),e}},getActiveRentalsWithOccupiedRoomsOnly:async()=>{try{return(await V.get("/api/phieu-thue/active-with-occupied-rooms-only")).data}catch(e){throw console.error("Error fetching active rentals with occupied rooms only:",e),e}},getRentalDetails:async e=>{try{return(await V.get(`/api/phieu-thue/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching rental details:",t),t}},getRoomGuests:async e=>{try{return(await V.get(`/api/ct-khach-o/${e}`)).data}catch(t){return console.error("Error fetching room guests:",t),{statusCode:200,guestList:[]}}},addGuestToRoom:async(e,t)=>{try{return(await V.post("/api/ct-khach-o/add",{idCtPt:e,cccd:t})).data}catch(n){if(console.error("Error adding guest to room:",n),n.response&&n.response.data)return n.response.data;throw n}},removeGuestFromRoom:async(e,t)=>{try{return(await V.delete(`/api/ct-khach-o/remove/${e}/${t}`)).data}catch(n){throw console.error("Error removing guest from room:",n),n}},searchRentals:async e=>{try{return(await V.get(`/api/phieu-thue/search?keyword=${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error searching rentals:",t),t}},filterRentalsByStatus:async e=>{try{return(await V.get(`/api/phieu-thue/filter?status=${e}`)).data}catch(t){throw console.error("Error filtering rentals by status:",t),t}}},Ph=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return e}},Ah=e=>{if(!e&&e!==0)return"N/A";try{return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}catch{return`${e} VND`}},rs={getAllDoiPhong:async()=>{var e;try{return(await V.get("/api/doi-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},getDoiPhongById:async(e,t)=>{var n;try{return(await V.get(`/api/doi-phong/${e}/${t}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},requestRoomChange:async e=>{var t;try{return(await V.post("/api/doi-phong/request",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},changeRoom:async e=>{var t;try{return(await V.post("/api/doi-phong/change",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},checkRoomChangeEligibility:async e=>{var t;try{return(await V.get(`/api/doi-phong/check-eligibility/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},getAvailableRoomsForChange:async e=>{var t;try{return(await V.get(`/api/doi-phong/available-rooms/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},calculateRoomChangeFee:async(e,t)=>{var n;try{return(await V.get(`/api/doi-phong/calculate-fee/${e}/${t}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},getRoomChangeHistory:async e=>{var t;try{return(await V.get(`/api/doi-phong/history/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},getDoiPhongByPhongMoi:async e=>{var t;try{return(await V.get(`/api/doi-phong/by-room/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},getDoiPhongByKhachHang:async e=>{var t;try{return(await V.get(`/api/doi-phong/by-customer/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},getDoiPhongByDateRange:async(e,t)=>{var n;try{return(await V.get(`/api/doi-phong/by-date-range?startDate=${e}&endDate=${t}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},getCurrentRoomChanges:async()=>{var e;try{return(await V.get("/api/doi-phong/current")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},approveRoomChange:async(e,t)=>{var n;try{return(await V.put(`/api/doi-phong/approve/${e}/${t}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},cancelRoomChange:async(e,t,n)=>{var r;try{return(await V.put(`/api/doi-phong/cancel/${e}/${t}?reason=${encodeURIComponent(n)}`)).data}catch(a){throw((r=a.response)==null?void 0:r.data)||a.message}},completeRoomChange:async(e,t)=>{var n;try{return(await V.put(`/api/doi-phong/complete/${e}/${t}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},updateDoiPhong:async(e,t,n)=>{var r;try{return(await V.put(`/api/doi-phong/update/${e}/${t}`,n)).data}catch(a){throw((r=a.response)==null?void 0:r.data)||a.message}},deleteDoiPhong:async(e,t)=>{var n;try{return(await V.delete(`/api/doi-phong/delete/${e}/${t}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},validateRoomChange:async e=>{var t;try{return(await V.post("/api/doi-phong/validate",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},getRoomChangeStatistics:async(e,t)=>{var n;try{return(await V.get(`/api/doi-phong/statistics?startDate=${e}&endDate=${t}`)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},searchDoiPhong:async e=>{var t;try{return(await V.get(`/api/doi-phong/search?keyword=${encodeURIComponent(e)}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},filterDoiPhong:async e=>{var t;try{const n=new URLSearchParams;return e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),e.cccd&&n.append("cccd",e.cccd),(await V.get(`/api/doi-phong/filter?${n.toString()}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}}},mA=({isOpen:e,onClose:t,ctPhieuThue:n,onSuccess:r})=>{const[a,i]=N.useState(1),[o,l]=N.useState(null),[c,u]=N.useState([]),[h,d]=N.useState(null),[f,m]=N.useState(null),[x,p]=N.useState(!1),[w,v]=N.useState({idCtPt:(n==null?void 0:n.idCtPt)||null,soPhongMoi:"",ngayDen:new Date().toISOString().split("T")[0],ngayDi:null,lyDo:"",ghiChu:"",autoCalculateFee:!0,applyPromotion:!0});N.useEffect(()=>{e&&n&&(v(k=>({...k,idCtPt:n.idCtPt,ngayDi:n.ngayDi})),g())},[e,n]);const g=async()=>{if(n!=null&&n.idCtPt){p(!0);try{const k=await rs.checkRoomChangeEligibility(n.idCtPt);k.statusCode===200?(l(k.roomChangeEligibility),k.roomChangeEligibility.eligible&&y()):X.error(k.message)}catch(k){X.error("Lỗi khi kiểm tra điều kiện đổi phòng"),console.error(k)}finally{p(!1)}}},y=async()=>{try{const k=await rs.getAvailableRoomsForChange(n.idCtPt);k.statusCode===200&&u(k.phongList||[])}catch(k){X.error("Lỗi khi tải danh sách phòng"),console.error(k)}},b=async k=>{d(k),v(D=>({...D,soPhongMoi:k.soPhong}));try{const D=await rs.calculateRoomChangeFee(n.idCtPt,k.soPhong);D.statusCode===200&&m(D.roomChangeFeeCalculation)}catch(D){console.error("Lỗi khi tính phí đổi phòng:",D)}},j=async()=>{if(!h){X.error("Vui lòng chọn phòng muốn đổi");return}p(!0);try{const k=await rs.changeRoom(w);k.statusCode===200?(X.success("Đổi phòng thành công!"),r&&r(),C()):X.error(k.message)}catch(k){X.error("Lỗi khi đổi phòng"),console.error(k)}finally{p(!1)}},C=()=>{i(1),l(null),u([]),d(null),m(null),v({idCtPt:null,soPhongMoi:"",ngayDen:new Date().toISOString().split("T")[0],ngayDi:null,lyDo:"",ghiChu:"",autoCalculateFee:!0,applyPromotion:!0}),t()},T=k=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(k);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Đổi phòng"}),s.jsx("button",{onClick:C,className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a>=1?"bg-blue-500 text-white":"bg-gray-300"}`,children:"1"}),s.jsx("div",{className:"text-sm ml-2 mr-4",children:"Kiểm tra"}),s.jsx("div",{className:`w-16 h-1 ${a>=2?"bg-blue-500":"bg-gray-300"}`}),s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a>=2?"bg-blue-500 text-white":"bg-gray-300"}`,children:"2"}),s.jsx("div",{className:"text-sm ml-2 mr-4",children:"Chọn phòng"}),s.jsx("div",{className:`w-16 h-1 ${a>=3?"bg-blue-500":"bg-gray-300"}`}),s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a>=3?"bg-blue-500 text-white":"bg-gray-300"}`,children:"3"}),s.jsx("div",{className:"text-sm ml-2",children:"Xác nhận"})]})}),x&&s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),a===1&&o&&!x&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Kiểm tra điều kiện đổi phòng"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Thông tin phòng hiện tại:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phòng:"})," ",o.soPhongHienTai]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Khách hàng:"})," ",o.tenKhachHang]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CCCD:"})," ",o.cccd]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ngày đến:"})," ",new Date(o.ngayDen).toLocaleDateString("vi-VN")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ngày đi:"})," ",new Date(o.ngayDi).toLocaleDateString("vi-VN")]}),o.soNgayConLai&&s.jsxs("p",{children:[s.jsx("strong",{children:"Số ngày còn lại:"})," ",o.soNgayConLai," ngày"]})]}),s.jsxs("div",{className:`p-4 rounded-lg ${o.eligible?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.jsx("p",{className:`font-medium ${o.eligible?"text-green-800":"text-red-800"}`,children:o.reason}),o.hanChe&&o.hanChe.length>0&&s.jsx("ul",{className:"mt-2 text-sm text-red-600",children:o.hanChe.map((k,D)=>s.jsxs("li",{children:["• ",k]},D))})]}),o.eligible&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>i(2),className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600",children:"Tiếp tục"})}),!o.eligible&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:C,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600",children:"Đóng"})})]}),a===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Chọn phòng mới"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(k=>s.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${(h==null?void 0:h.soPhong)===k.soPhong?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>b(k),children:[s.jsxs("h4",{className:"font-semibold text-lg",children:["Phòng ",k.soPhong]}),s.jsxs("p",{className:"text-gray-600",children:["Tầng ",k.tang]}),s.jsx("p",{className:"text-gray-600",children:k.tenKp}),s.jsx("p",{className:"text-gray-600",children:k.tenLp}),k.gia&&s.jsxs("p",{className:"text-blue-600 font-medium",children:[T(k.gia),"/đêm"]})]},k.soPhong))}),h&&f&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Thông tin phí đổi phòng:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Giá phòng cũ:"})," ",T(f.giaPhongCu),"/đêm"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Giá phòng mới:"})," ",T(f.giaPhongMoi),"/đêm"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chênh lệch/đêm:"})," ",T(f.chenhLechGiaMotNgay)]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Số ngày còn lại:"})," ",f.soNgayConLai," ngày"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tổng chênh lệch:"})," ",T(f.tongChenhLechGia||0)]}),s.jsxs("p",{className:"font-medium",children:[s.jsx("strong",{children:"Loại giao dịch:"})," ",f.loaiGiaoDich==="THU_THEM"?"Thu thêm":f.loaiGiaoDich==="HOAN_TIEN"?"Hoàn tiền":"Không thay đổi"]})]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>i(1),className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600",children:"Quay lại"}),s.jsx("button",{onClick:()=>i(3),disabled:!h,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 disabled:bg-gray-300",children:"Tiếp tục"})]})]}),a===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Xác nhận đổi phòng"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Tóm tắt đổi phòng:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Từ phòng:"})," ",n==null?void 0:n.soPhong," → ",s.jsx("strong",{children:"Sang phòng:"})," ",h==null?void 0:h.soPhong]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ngày đổi:"})," ",new Date(w.ngayDen).toLocaleDateString("vi-VN")]}),f&&f.coPhiPhatSinh&&s.jsxs("p",{children:[s.jsx("strong",{children:"Phí phát sinh:"})," ",T(f.soTienKhachCanTra||f.soTienKhachDuocHoan||0)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>i(2),className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600",children:"Quay lại"}),s.jsx("button",{onClick:j,disabled:x,className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 disabled:bg-gray-300",children:x?"Đang xử lý...":"Xác nhận đổi phòng"})]})]})]})}):null},pA=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!0),[a,i]=N.useState(""),[o,l]=N.useState(new Set),[c,u]=N.useState({}),[h,d]=N.useState(null),[f,m]=N.useState(""),[x,p]=N.useState(!1),[w,v]=N.useState(null);N.useEffect(()=>{g()},[]);const g=async()=>{try{r(!0);const G=await Ei.getActiveRentalsWithOccupiedRoomsOnly();G.statusCode===200?t(G.phieuThueList||[]):X.error("Không thể tải danh sách phiếu thuê")}catch(G){console.error("Error fetching rentals:",G),X.error("Lỗi khi tải danh sách phiếu thuê")}finally{r(!1)}},y=async()=>{if(!a.trim()){g();return}try{r(!0);const G=await Ei.searchRentals(a);G.statusCode===200?t(G.phieuThueList||[]):X.error("Không tìm thấy phiếu thuê nào")}catch(G){console.error("Error searching rentals:",G),X.error("Lỗi khi tìm kiếm")}finally{r(!1)}},b=async G=>{const I=new Set(o);I.has(G)?I.delete(G):(I.add(G),await j(G)),l(I)},j=async G=>{try{const I=await Ei.getRentalDetails(G);if(I.statusCode===200&&I.phieuThue){const K=I.phieuThue;if(K.chiTietPhieuThue)for(const se of K.chiTietPhieuThue)await C(se.idCtPt)}}catch(I){console.error("Error loading rental rooms:",I),X.error("Lỗi khi tải thông tin phòng")}},C=async G=>{try{const I=await Ei.getRoomGuests(G);I.statusCode===200&&u(K=>({...K,[G]:I.guestList||[]}))}catch(I){console.error("Error loading room guests:",I),u(K=>({...K,[G]:[]}))}},T=(G,I)=>{d({rentalId:G,ctId:I}),m("")},k=()=>{d(null),m("")},D=async()=>{if(!f.trim()){X.error("Vui lòng nhập CCCD");return}if(h)try{const G=await Ei.addGuestToRoom(h.ctId,f.trim());G.statusCode===200?(X.success("Thêm khách thành công"),await C(h.ctId),m("")):X.error(G.message||"Không thể thêm khách")}catch(G){console.error("Error adding guest:",G),G.response&&G.response.data&&G.response.data.message?X.error(G.response.data.message):G.message?X.error(G.message):X.error("Lỗi khi thêm khách")}},H=async(G,I)=>{try{const K=await Ei.removeGuestFromRoom(G,I);K.statusCode===200?(X.success("Xóa khách thành công"),await C(G)):X.error(K.message||"Không thể xóa khách")}catch(K){console.error("Error removing guest:",K),X.error("Lỗi khi xóa khách")}},O=G=>{switch(G==null?void 0:G.toLowerCase()){case"active":case"đang thuê":return"bg-green-100 text-green-800";case"completed":case"đã trả phòng":return"bg-blue-100 text-blue-800";case"cancelled":case"đã hủy":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=async G=>{try{const I=await rs.checkRoomChangeEligibility(G.idCtPt);if(I.statusCode===200&&I.roomChangeEligibility){const K=I.roomChangeEligibility;if(!K.eligible){const se=K.hanChe||[],z=se.length>0?se.join(", "):K.reason||"Không đủ điều kiện đổi phòng";X.error(`Cảnh báo: ${z}`)}v(G),p(!0)}else X.error(I.message||"Lỗi khi kiểm tra điều kiện đổi phòng")}catch(I){console.error("Error checking room change eligibility:",I),X.error("Lỗi khi kiểm tra điều kiện đổi phòng")}},W=()=>{p(!1),v(null),g(),X.success("Đổi phòng thành công!")},ue=e.filter(G=>{var K,se,z;if(!a)return!0;const I=a.toLowerCase();return((K=G.idPt)==null?void 0:K.toString().includes(a))||((se=G.hoTenKhachHang)==null?void 0:se.toLowerCase().includes(I))||((z=G.cccd)==null?void 0:z.includes(a))});return n?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),s.jsx("span",{className:"ml-2",children:"Đang tải..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý thuê phòng"})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm kiếm theo mã phiếu thuê, tên khách hàng, CCCD...",value:a,onChange:G=>i(G.target.value),onKeyPress:G=>G.key==="Enter"&&y(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),s.jsxs("button",{onClick:y,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center gap-2",children:[s.jsx(Xn,{className:"w-4 h-4"}),"Tìm kiếm"]})]})}),s.jsx("div",{className:"space-y-4",children:ue.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Không có phiếu thuê nào"}):ue.map(G=>s.jsx(xA,{rental:G,isExpanded:o.has(G.idPt),onToggleExpansion:()=>b(G.idPt),roomGuests:c,editingRoom:h,newGuestCCCD:f,setNewGuestCCCD:m,onStartEditing:T,onCancelEditing:k,onAddGuest:D,onRemoveGuest:H,onRoomChange:B,getStatusColor:O},G.idPt))})]}),s.jsx(mA,{isOpen:x,onClose:()=>p(!1),ctPhieuThue:w,onSuccess:W})]})},xA=({rental:e,isExpanded:t,onToggleExpansion:n,roomGuests:r,editingRoom:a,newGuestCCCD:i,setNewGuestCCCD:o,onStartEditing:l,onCancelEditing:c,onAddGuest:u,onRemoveGuest:h,onRoomChange:d,getStatusColor:f})=>{var m,x;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:n,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex items-center",children:t?s.jsx(qN,{className:"w-5 h-5 text-gray-400"}):s.jsx(GN,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Phiếu thuê #",e.idPt]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Khách hàng: ",e.hoTenKhachHang||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),Ph(e.ngayDen)," - ",Ph(e.ngayDi)]})}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(e.trangThai)}`,children:e.trangThai||"Đang thuê"})]})]})}),t&&s.jsx("div",{className:"border-t bg-gray-50",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(_r,{className:"w-4 h-4 mr-2"}),"Danh sách phòng (",((m=e.chiTietPhieuThue)==null?void 0:m.length)||0," phòng đang có khách)"]}),s.jsx("div",{className:"space-y-3",children:((x=e.chiTietPhieuThue)==null?void 0:x.map(p=>s.jsx(gA,{ct:p,rental:e,guests:r[p.idCtPt]||[],isEditing:(a==null?void 0:a.rentalId)===e.idPt&&(a==null?void 0:a.ctId)===p.idCtPt,newGuestCCCD:i,setNewGuestCCCD:o,onStartEditing:()=>l(e.idPt,p.idCtPt),onCancelEditing:c,onAddGuest:u,onRemoveGuest:w=>h(p.idCtPt,w),onRoomChange:d},p.idCtPt)))||s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Không có thông tin phòng"})})]})})]})},gA=({ct:e,rental:t,guests:n,isEditing:r,newGuestCCCD:a,setNewGuestCCCD:i,onStartEditing:o,onCancelEditing:l,onAddGuest:c,onRemoveGuest:u,onRoomChange:h})=>s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("h5",{className:"font-medium text-gray-900",children:["Phòng ",e.soPhong]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.tenKieuPhong," - ",e.tenLoaiPhong]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Giá: ",Ah(e.donGia),"/đêm"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Từ ",Ph(e.ngayDen)," đến ",Ph(e.ngayDi)]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mn,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[n.length," khách"]})]}),s.jsxs("button",{onClick:()=>h(e),className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1 px-2 py-1 border border-blue-200 rounded hover:bg-blue-50",children:[s.jsx(vc,{className:"w-3 h-3"}),"Đổi phòng"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h6",{className:"text-sm font-medium text-gray-700",children:"Danh sách khách:"}),!r&&s.jsxs("button",{onClick:o,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[s.jsx(Bn,{className:"w-3 h-3"}),"Quản lý khách"]})]}),n.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Chưa có thông tin khách"}):s.jsx("div",{className:"space-y-1",children:n.map((d,f)=>s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-3 py-2 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:d.cccd}),d.hoTen&&s.jsxs("span",{className:"text-sm text-gray-600",children:["- ",d.hoTen]})]}),r&&s.jsx("button",{onClick:()=>u(d.cccd),className:"text-red-600 hover:text-red-700",children:s.jsx(Ls,{className:"w-4 h-4"})})]},f))}),r&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Nhập CCCD khách hàng",value:a,onChange:d=>i(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary-500"}),s.jsxs("button",{onClick:c,className:"px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[s.jsx(Bn,{className:"w-4 h-4"}),"Thêm"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:l,className:"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 flex items-center gap-1",children:[s.jsx(pn,{className:"w-3 h-3"}),"Hủy"]})})]})]})]}),bl={getAllInvoices:async()=>{try{return(await V.get("/api/hoa-don/all")).data}catch(e){throw console.error("Error fetching all invoices:",e),e}},getInvoiceById:async e=>{try{return(await V.get(`/api/hoa-don/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching invoice by ID:",t),t}},createInvoice:async e=>{try{return(await V.post("/api/hoa-don/create",e)).data}catch(t){throw console.error("Error creating invoice:",t),t}},createInvoiceFromCheckout:async e=>{try{return(await V.post(`/api/hoa-don/create-from-checkout/${e}`)).data}catch(t){throw console.error("Error creating invoice from checkout:",t),t}},getInvoiceByRental:async e=>{try{return(await V.get(`/api/hoa-don/by-phieu-thue/${e}`)).data}catch(t){throw console.error("Error fetching invoice by rental:",t),t}},updateInvoiceStatus:async(e,t)=>{try{return(await V.put(`/api/hoa-don/update-status/${e}?trangThai=${t}`)).data}catch(n){throw console.error("Error updating invoice status:",n),n}},deleteInvoice:async e=>{try{return(await V.delete(`/api/hoa-don/delete/${e}`)).data}catch(t){throw console.error("Error deleting invoice:",t),t}},printInvoice:async e=>{try{return(await V.get(`/api/hoa-don/print/${e}`,{responseType:"blob"})).data}catch(t){throw console.error("Error printing invoice:",t),t}},exportInvoiceToPDF:async e=>{try{return(await V.post("/api/hoa-don/export-pdf",e,{responseType:"blob"})).data}catch(t){throw console.error("Error exporting invoice to PDF:",t),t}},getInvoiceDetails:async e=>{try{return(await V.get(`/api/hoa-don/details/${e}`)).data}catch(t){throw console.error("Error fetching invoice details:",t),t}},createInvoiceFromCheckoutWithDate:async(e,t)=>{try{return(await V.post(`/api/hoa-don/create-from-checkout/${e}?actualCheckOut=${t}`)).data}catch(n){throw console.error("Error creating invoice from checkout with date:",n),n}},createInvoiceFromCheckoutWithPromotions:async(e,t,n)=>{try{let r=`/api/hoa-don/create-from-checkout-with-promotions/${e}`;const a=new URLSearchParams;return t&&a.append("actualCheckOut",t),n&&n>0&&a.append("promotionDiscount",n.toString()),a.toString()&&(r+="?"+a.toString()),(await V.post(r)).data}catch(r){throw console.error("Error creating invoice from checkout with promotions:",r),r}},getInvoicesByDateRange:async(e,t)=>{try{return(await V.get(`/api/hoa-don/by-date-range?startDate=${e}&endDate=${t}`)).data}catch(n){throw console.error("Error fetching invoices by date range:",n),n}},getInvoicesByStatus:async e=>{try{return(await V.get(`/api/hoa-don/by-status?trangThai=${e}`)).data}catch(t){throw console.error("Error fetching invoices by status:",t),t}}},yA=({selectedGuest:e,bill:t,promotionData:n,checkOutData:r,onCheckOut:a,onCancel:i,loading:o})=>{var x,p,w,v,g,y,b;const[l,c]=N.useState(!1),[u,h]=N.useState(!1),d=Math.max(0,t.total-((e==null?void 0:e.depositAmount)||0)),f=()=>{const j=d,C=`Thanh toan hoa don ${(e==null?void 0:e.maPhieuThue)||""}`;return`https://img.vietqr.io/image/MB-0818181948-compact2.png?amount=${j}&addInfo=${encodeURIComponent(C)}`},m=()=>{if((r==null?void 0:r.paymentMethod)==="transfer"&&!u){X.error("Vui lòng xác nhận đã nhận tiền chuyển khoản");return}a()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(vi,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Hóa đơn thanh toán"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tiền phòng:"}),s.jsxs("span",{children:[(x=t.roomCharges)==null?void 0:x.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Dịch vụ:"}),s.jsxs("span",{children:[(p=t.serviceCharges)==null?void 0:p.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Phụ thu:"}),s.jsxs("span",{children:[(w=t.surcharges||0)==null?void 0:w.toLocaleString("vi-VN")," VNĐ"]})]}),t.promotionDiscount>0&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t pt-2",children:[s.jsxs("div",{className:"flex justify-between text-red-600",children:[s.jsx("span",{children:"🎁 Khuyến mãi:"}),s.jsxs("span",{children:["-",(v=t.promotionDiscount)==null?void 0:v.toLocaleString("vi-VN")," VNĐ"]})]}),(n==null?void 0:n.discountDetails)&&n.discountDetails.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:n.discountDetails.map((j,C)=>{var T;return s.jsxs("div",{className:"text-xs text-gray-600 ml-4",children:["• ",j.promotionName,": -",(T=j.discountAmount)==null?void 0:T.toLocaleString("vi-VN")," VNĐ"]},C)})})]})}),t.manualDiscount>0&&s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between text-orange-600",children:[s.jsx("span",{children:"✂️ Giảm giá thủ công:"}),s.jsxs("span",{children:["-",(g=t.manualDiscount)==null?void 0:g.toLocaleString("vi-VN")," VNĐ"]})]})}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"Tổng cộng:"}),s.jsxs("span",{children:[(y=t.total)==null?void 0:y.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"border-t pt-2 space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Tiền đặt cọc:"}),s.jsxs("span",{children:[(b=(e==null?void 0:e.depositAmount)||0)==null?void 0:b.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-red-600 text-lg",children:[s.jsx("span",{children:"Số tiền phải trả:"}),s.jsxs("span",{children:[d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Phương thức thanh toán"}),(r==null?void 0:r.paymentMethod)==="cash"&&s.jsxs("div",{className:"flex items-center p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(v_,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:"Thanh toán tiền mặt"}),s.jsxs("p",{className:"text-sm text-green-600",children:["Khách hàng cần thanh toán: ",s.jsxs("span",{className:"font-bold",children:[d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]})]})]})]}),(r==null?void 0:r.paymentMethod)==="transfer"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(Ql,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-blue-800",children:"Thanh toán chuyển khoản"}),s.jsxs("p",{className:"text-sm text-blue-600",children:["Số tiền: ",s.jsxs("span",{className:"font-bold",children:[d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]})]})]}),s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:[s.jsx($_,{className:"w-4 h-4 mr-1"}),l?"Ẩn QR":"Hiện QR"]})]}),l&&s.jsxs("div",{className:"text-center p-4 bg-white border rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quét mã QR để chuyển khoản"}),s.jsx("img",{src:f(),alt:"QR Code chuyển khoản",className:"mx-auto mb-3 max-w-xs"}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsx("p",{children:"Ngân hàng: MB Bank"}),s.jsx("p",{children:"Số TK: 0818181948"}),s.jsxs("p",{children:["Số tiền: ",d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]}),s.jsxs("p",{children:["Nội dung: Thanh toán hóa đơn ",e==null?void 0:e.maPhieuThue]})]})]}),s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:j=>h(j.target.checked),className:"mr-2"}),s.jsx("span",{className:"text-sm text-yellow-800",children:"Xác nhận đã nhận tiền chuyển khoản từ khách hàng"})]})})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:i,className:"btn-outline flex-1",children:"Hủy"}),s.jsxs("button",{onClick:m,disabled:o||!(r!=null&&r.actualCheckOut)||(r==null?void 0:r.paymentMethod)==="transfer"&&!u,className:"btn-primary flex-1",children:[o?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):null,"Hoàn tất Check-out"]})]})]})},rr={name:"KHÁCH SẠN HOTEL BOOKING",address:"97 Man Thiện, Hiệp Phú, Thủ Đức, Hồ Chí Minh",phone:"0563560789",email:"info@hotelbooking.com",logo:"/images/hotel-logo.png"},vs={UNPAID:"Chưa thanh toán",PAID:"Đã thanh toán",CANCELLED:"Đã hủy",PARTIAL:"Thanh toán một phần"},Ff={CASH:"cash",TRANSFER:"transfer",CARD:"card"},Uy={[Ff.CASH]:"Tiền mặt",[Ff.TRANSFER]:"Chuyển khoản",[Ff.CARD]:"Thẻ tín dụng"},U2=({isOpen:e,onClose:t,invoice:n,rentalDetails:r,selectedGuest:a,bill:i,checkOutData:o})=>{var w,v;if(!e||!n||!a)return null;const l=g=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g||0),c=(g,y)=>{if(!g&&!y)return 0;if(!g)return 1;if(!y)return-1;try{const b=parseInt(g),j=parseInt(y);return b-j}catch{return g.localeCompare(y)}},u=g=>g?[...g].sort((y,b)=>c(y.tenPhong,b.tenPhong)):[],h=g=>g?[...g].sort((y,b)=>{const j=c(y.tenPhong,b.tenPhong);return j!==0?j:!y.ngaySD&&!b.ngaySD?0:y.ngaySD?b.ngaySD?new Date(y.ngaySD)-new Date(b.ngaySD):-1:1}):[],d=g=>g?[...g].sort((y,b)=>{const j=c(y.tenPhong,b.tenPhong);return j!==0?j:!y.ngayPhatSinh&&!b.ngayPhatSinh?0:y.ngayPhatSinh?b.ngayPhatSinh?new Date(y.ngayPhatSinh)-new Date(b.ngayPhatSinh):-1:1}):[],f=g=>g?new Date(g).toLocaleDateString("vi-VN"):"N/A",m=()=>{try{const g=window.open("","_blank","width=800,height=600");if(!g){X.error("Không thể mở cửa sổ in. Vui lòng cho phép popup.");return}const y=x();g.document.write(y),g.document.close(),setTimeout(()=>{g.print()},500)}catch(g){console.error("Error printing invoice:",g),X.error("Có lỗi xảy ra khi in hóa đơn")}},x=()=>{var b,j;const g=new Date().toLocaleDateString("vi-VN"),y=new Date().toLocaleTimeString("vi-VN");return`
      <!DOCTYPE html>
      <html lang="vi">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Hóa đơn ${n.idHd}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body {
            font-family: 'Times New Roman', serif;
            line-height: 1.4;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: white;
          }

          .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #0066cc;
            padding-bottom: 20px;
          }

          .hotel-name {
            font-size: 24px;
            font-weight: bold;
            color: #0066cc;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          .hotel-info {
            font-size: 13px;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.3;
          }

          .invoice-title {
            font-size: 20px;
            font-weight: bold;
            margin: 15px 0 8px 0;
            color: #333;
            text-transform: uppercase;
          }

          .invoice-meta {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
          }

          .section-title {
            font-size: 16px;
            font-weight: bold;
            color: #0066cc;
            margin: 25px 0 15px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #ddd;
          }

          .customer-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
          }

          .info-row {
            display: flex;
            margin: 3px 0;
            font-size: 14px;
          }

          .info-label {
            font-weight: bold;
            min-width: 120px;
            color: #555;
          }

          .info-value {
            flex: 1;
            color: #333;
          }

          .table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 13px;
          }

          .table th {
            background: linear-gradient(135deg, #0066cc, #004499);
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #0066cc;
          }

          .table td {
            border: 1px solid #ddd;
            padding: 10px 8px;
            text-align: center;
          }

          .table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
          }

          .table tbody tr:hover {
            background-color: #f0f8ff;
          }

          .table .text-left { text-align: left; }
          .table .text-right { text-align: right; }

          .total-section {
            margin-top: 30px;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 5px;
          }

          .total-row {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 14px;
            padding: 3px 0;
          }

          .total-label {
            font-weight: bold;
            color: #555;
          }

          .total-value {
            font-weight: bold;
            color: #333;
          }

          .total-final {
            font-weight: bold;
            font-size: 16px;
            border-top: 2px solid #0066cc;
            padding-top: 10px;
            margin-top: 10px;
            color: #0066cc;
          }

          .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 13px;
            color: #666;
            border-top: 1px solid #ddd;
            padding-top: 20px;
          }

          .signature-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            margin-top: 10px;
            text-align: center;
          }

          .signature-box {
            padding: 20px 0;
          }

          .signature-title {
            font-weight: bold;
            margin-bottom: 60px;
            color: #333;
          }

          .signature-line {
            border-top: 1px solid #333;
            margin-top: 10px;
            font-style: italic;
            color: #666;
            font-size: 12px;
          }

          @media print {
            body {
              margin: 0;
              padding: 15px;
              font-size: 12px;
            }
            .header { margin-bottom: 20px; }
            .section-title { margin: 15px 0 10px 0; }
            .total-section { margin-top: 20px; }
            .footer { margin-top: 20px; }
            .signature-section { margin-top: 10px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">${rr.name}</div>
          <div class="hotel-info">
            Địa chỉ: ${rr.address}<br>
            Điện thoại: ${rr.phone} | Email: ${rr.email}
          </div>
          <div class="invoice-title">HÓA ĐƠN THANH TOÁN</div>
          <div class="invoice-meta">Mã hóa đơn: ${n.idHd}</div>
          <div class="invoice-meta">Ngày xuất: ${g} - ${y}</div>
        </div>

        <div class="section-title">Thông tin khách hàng</div>
        <div class="customer-info">
          <div>
            <div class="info-row">
              <span class="info-label">Họ tên:</span>
              <span class="info-value">${(a==null?void 0:a.customerName)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Số điện thoại:</span>
              <span class="info-value">${(a==null?void 0:a.customerPhone)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Email:</span>
              <span class="info-value">${(a==null?void 0:a.customerEmail)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">CCCD:</span>
              <span class="info-value">${(a==null?void 0:a.cccd)||"N/A"}</span>
            </div>
          </div>
          <div>
            <div class="info-row">
              <span class="info-label">Nhân viên thực hiện:</span>
              <span class="info-value">${(r==null?void 0:r.hoTenNhanVien)||(a==null?void 0:a.employeeName)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Mã phiếu thuê:</span>
              <span class="info-value">${(a==null?void 0:a.maPhieuThue)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Ngày check-in:</span>
              <span class="info-value">${a!=null&&a.checkIn?f(a.checkIn):"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Ngày check-out:</span>
              <span class="info-value">${n.ngayLap?f(n.ngayLap):"N/A"}</span>
            </div>
          </div>
        </div>

        ${r&&r.rooms&&r.rooms.length>0?`
        <div class="section-title">Chi tiết phòng</div>
        <table class="table">
          <thead>
            <tr>
              <th>Phòng</th>
              <th>Loại phòng</th>
              <th>Ngày đến</th>
              <th>Ngày đi</th>
              <th>Số ngày</th>
              <th class="text-right">Đơn giá</th>
              <th class="text-right">Thành tiền</th>
            </tr>
          </thead>
          <tbody>
            ${u(r.rooms).map(C=>`
            <tr>
              <td class="text-left">${C.tenPhong}</td>
              <td class="text-left">${C.loaiPhong}</td>
              <td>${f(C.ngayDen)}</td>
              <td>${f(C.ngayDi)}</td>
              <td>${C.soNgay}</td>
              <td class="text-right">${l(C.donGia)}</td>
              <td class="text-right">${l(C.thanhTien)}</td>
            </tr>
            `).join("")}
          </tbody>
        </table>
        `:""}

        ${r&&r.services&&r.services.length>0?`
        <div class="section-title">Dịch vụ sử dụng</div>
        <table class="table">
          <thead>
            <tr>
              <th>Dịch vụ</th>
              <th>Phòng</th>
              <th>Ngày sử dụng</th>
              <th class="text-right">Đơn giá</th>
              <th>Số lượng</th>
              <th class="text-right">Thành tiền</th>
            </tr>
          </thead>
          <tbody>
            ${h(r.services).map(C=>`
            <tr>
              <td class="text-left">${C.tenDichVu}</td>
              <td class="text-left">${C.tenPhong}</td>
              <td>${f(C.ngaySD)}</td>
              <td class="text-right">${l(C.gia)}</td>
              <td>${C.soLuong}</td>
              <td class="text-right">${l(C.thanhTien)}</td>
            </tr>
            `).join("")}
          </tbody>
        </table>
        `:""}

        ${r&&r.surcharges&&r.surcharges.length>0?`
        <div class="section-title">Phụ thu</div>
        <table class="table">
          <thead>
            <tr>
              <th>Loại phụ thu</th>
              <th>Phòng</th>
              <th>Ngày phát sinh</th>
              <th class="text-right">Đơn giá</th>
              <th>Số lượng</th>
              <th class="text-right">Thành tiền</th>
            </tr>
          </thead>
          <tbody>
            ${d(r.surcharges).map(C=>`
            <tr>
              <td class="text-left">${C.loaiPhuThu}</td>
              <td class="text-left">${C.tenPhong}</td>
              <td>${f(C.ngayPhatSinh)}</td>
              <td class="text-right">${l(C.donGia)}</td>
              <td>${C.soLuong}</td>
              <td class="text-right">${l(C.thanhTien)}</td>
            </tr>
            `).join("")}
          </tbody>
        </table>
        `:""}

        <div class="section-title">Tổng kết thanh toán</div>
        <div class="total-section">
          <div class="total-row">
            <span class="total-label">Tiền phòng:</span>
            <span class="total-value">${l((r==null?void 0:r.tongTienPhong)||i.roomCharges)}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Tiền dịch vụ:</span>
            <span class="total-value">${l((r==null?void 0:r.tongTienDichVu)||i.serviceCharges)}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Phụ thu:</span>
            <span class="total-value">${l((r==null?void 0:r.tongTienPhuThu)||i.surcharges)}</span>
          </div>
          ${(b=n.invoiceDetails)!=null&&b.soTienGiam&&n.invoiceDetails.soTienGiam>0?`
          <div class="total-row" style="color: #dc2626;">
            <span class="total-label">Khuyến mãi:</span>
            <span class="total-value">-${l(n.invoiceDetails.soTienGiam)}</span>
          </div>
          `:""}
          <div class="total-row total-final">
            <span class="total-label">TỔNG CỘNG:</span>
            <span class="total-value">${l(i.roomCharges+i.serviceCharges+i.surcharges-(((j=n.invoiceDetails)==null?void 0:j.soTienGiam)||0))}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Tiền đặt cọc:</span>
            <span class="total-value">${l((a==null?void 0:a.depositAmount)||0)}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Phương thức thanh toán:</span>
            <span class="total-value">${Uy[o==null?void 0:o.paymentMethod]||(o==null?void 0:o.paymentMethod)||"N/A"}</span>
          </div>
        </div>

        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-title">Khách hàng</div>
            <div class="signature-line">(Ký và ghi rõ họ tên)</div>
          </div>
          <div class="signature-box">
            <div class="signature-title">Nhân viên thu ngân</div>
            <div class="signature-line">(Ký và ghi rõ họ tên)</div>
          </div>
        </div>

        <div class="footer">
          <p><strong>Cảm ơn quý khách đã sử dụng dịch vụ!</strong></p>
          <p>${rr.name} - ${rr.address}</p>
          <p>Hotline: ${rr.phone} | Email: ${rr.email}</p>
        </div>
      </body>
      </html>
    `},p=async()=>{try{const g=x(),y=new Blob([g],{type:"text/html"}),b=URL.createObjectURL(y),j=document.createElement("a");j.href=b,j.download=`HoaDon_${n.idHd}.html`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(b),X.success("Hóa đơn đã được tải xuống!")}catch(g){console.error("Error downloading invoice:",g),X.error("Có lỗi xảy ra khi tải xuống hóa đơn")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"text-center flex-1",children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx("img",{src:rr.logo,alt:"Hotel Logo",className:"h-12 w-12 mr-3",onError:g=>{g.target.style.display="none"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:rr.name}),s.jsx("p",{className:"text-sm text-gray-600",children:rr.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:["ĐT: ",rr.phone," | Email: ",rr.email]})]})]}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HÓA ĐƠN THANH TOÁN"}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["Mã hóa đơn: ",n.idHd]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Ngày xuất: ",f(n.ngayLap)," - ",new Date().toLocaleTimeString("vi-VN")]})]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-2",children:s.jsx(pn,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 text-blue-600 flex items-center",children:[s.jsx(Ft,{className:"w-5 h-5 mr-2"}),"Thông tin khách hàng"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ft,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Họ tên:"}),s.jsx("span",{className:"ml-2",children:a.customerName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ds,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"SĐT:"}),s.jsx("span",{className:"ml-2",children:a.customerPhone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(hs,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Email:"}),s.jsx("span",{className:"ml-2",children:a.customerEmail||"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"CCCD:"}),s.jsx("span",{className:"ml-2",children:a.cccd||"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ft,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Nhân viên thực hiện:"}),s.jsx("span",{className:"ml-2",children:(r==null?void 0:r.hoTenNhanVien)||a.employeeName||"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Mã phiếu thuê:"}),s.jsx("span",{className:"ml-2",children:a.maPhieuThue})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 text-blue-600 flex items-center",children:[s.jsx(pt,{className:"w-5 h-5 mr-2"}),"Thông tin lưu trú"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ngày check-in :"}),s.jsx("div",{className:"text-blue-600 font-medium",children:f(a.checkIn||n.ngayCheckIn)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ngày check-out thực tế:"}),s.jsx("div",{className:"text-blue-600 font-medium",children:f(n.ngayLap)})]})]})]}),r&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 border-b text-blue-600",children:"Thông tin phòng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đến"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đi"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số ngày"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u(r.rooms).map((g,y)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:g.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:g.loaiPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(g.ngayDen)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(g.ngayDi)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:g.soNgay}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:l(g.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:l(g.thanhTien)})]},y))})]})})]}),r&&r.services&&r.services.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 border-b text-blue-600",children:"Dịch vụ sử dụng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Dịch vụ"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày sử dụng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h(r.services).map((g,y)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:g.tenDichVu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:g.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(g.ngaySD)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:l(g.gia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:g.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:l(g.thanhTien)})]},y))})]})})]}),r&&r.surcharges&&r.surcharges.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 border-b text-blue-600",children:"Phụ thu"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phụ thu"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày phát sinh"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d(r.surcharges).map((g,y)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:g.loaiPhuThu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:g.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(g.ngayPhatSinh)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:l(g.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:g.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:l(g.thanhTien)})]},y))})]})})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-600",children:"Tổng kết thanh toán"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tiền phòng:"}),s.jsx("span",{className:"font-medium",children:l((r==null?void 0:r.tongTienPhong)||i.roomCharges)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tiền dịch vụ:"}),s.jsx("span",{className:"font-medium",children:l((r==null?void 0:r.tongTienDichVu)||i.serviceCharges)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Phụ thu:"}),s.jsx("span",{className:"font-medium",children:l((r==null?void 0:r.tongTienPhuThu)||i.surcharges)})]}),((w=n.invoiceDetails)==null?void 0:w.soTienGiam)&&n.invoiceDetails.soTienGiam>0&&s.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[s.jsx("span",{children:"Khuyến mãi:"}),s.jsxs("span",{className:"font-medium",children:["-",l(n.invoiceDetails.soTienGiam)]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold text-blue-600",children:[s.jsx("span",{children:"TỔNG CỘNG:"}),s.jsx("span",{children:l(i.roomCharges+i.serviceCharges+i.surcharges-(((v=n.invoiceDetails)==null?void 0:v.soTienGiam)||0))})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tiền đặt cọc:"}),s.jsx("span",{className:"font-medium",children:l((a==null?void 0:a.depositAmount)||0)})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold text-red-600",children:[s.jsx("span",{children:"SỐ TIỀN PHẢI THANH TOÁN:"}),s.jsx("span",{children:l(Math.max(0,(r==null?void 0:r.tongTien)||i.total))})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Phương thức thanh toán:"}),s.jsx("span",{className:"font-medium",children:Uy[o.paymentMethod]||o.paymentMethod})]})})]}),s.jsxs("div",{className:"flex space-x-3 pt-4 border-t print:hidden",children:[s.jsxs("button",{onClick:m,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[s.jsx(B_,{className:"w-4 h-4 mr-2"}),"In hóa đơn"]}),s.jsxs("button",{onClick:p,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center",children:[s.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Tải xuống"]})]})]})]})})},vA={getPromotionsByRental:async e=>{try{return(await V.get(`/api/promotions/by-rental/${e}`)).data}catch(t){throw console.error("Error fetching promotions by rental:",t),t}},getActivePromotions:async()=>{try{return(await V.get("/api/promotions/active")).data}catch(e){throw console.error("Error fetching active promotions:",e),e}}},wA=({selectedGuest:e,onPromotionChange:t,loading:n,disabled:r=!1,disabledReason:a=""})=>{const[i,o]=N.useState(null),[l,c]=N.useState({roomType:{},invoice:[]}),[u,h]=N.useState(!1),[d,f]=N.useState(!0);N.useEffect(()=>{e!=null&&e.id?m(e.id):(o(null),c({roomType:{},invoice:[]}))},[e]);const m=async g=>{try{h(!0);const y=await vA.getPromotionsByRental(g);y.statusCode===200?o(y.promotionsByRental):(console.error("Error loading promotions:",y.message),o(null),X.error(y.message||"Không thể tải danh sách khuyến mãi"))}catch(y){console.error("Error loading promotions:",y),X.error("Không thể tải danh sách khuyến mãi"),o(null)}finally{h(!1)}},x=(g,y,b,j)=>{const C={...l};g==="roomType"?j&&(C.roomType[y]=b):g==="invoice"&&(j?C.invoice.includes(b)||C.invoice.push(b):C.invoice=C.invoice.filter(k=>k!==b)),c(C);const T=p(C);t(T)},p=g=>{if(!i)return{totalDiscount:0,discountDetails:[]};let y=0;const b=[];if(i.roomTypePromotions&&Object.entries(i.roomTypePromotions).forEach(([j,C])=>{const T=g.roomType[j];if(T){const k=C.availablePromotions.find(D=>D.idKm===T);if(k&&k.phanTramGiam){const D=C.roomCharges*k.phanTramGiam/100;y+=D,b.push({type:"roomType",idHangPhong:parseInt(j),hangPhongName:`${C.hangPhong.tenKieuPhong} ${C.hangPhong.tenLoaiPhong}`,promotionName:k.moTaKm,percentage:k.phanTramGiam,originalAmount:C.roomCharges,discountAmount:D,rooms:C.rooms})}}}),i.invoicePromotions&&g.invoice.length>0){const j=Object.values(i.roomTypePromotions||{}).reduce((C,T)=>C+(T.roomCharges||0),0);g.invoice.forEach(C=>{const T=i.invoicePromotions.find(k=>k.idKm===C);if(T&&T.phanTramGiam){const k=j*T.phanTramGiam/100;y+=k,b.push({type:"invoice",promotionName:T.moTaKm,percentage:T.phanTramGiam,originalAmount:j,discountAmount:k})}})}return{totalDiscount:y,discountDetails:b}},w=g=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g||0),v=g=>{if(!g)return"Chưa xác định";const y=new Date(g),b=y.getDate().toString().padStart(2,"0"),j=(y.getMonth()+1).toString().padStart(2,"0"),C=y.getFullYear().toString().slice(-2);return`${b}-${j}-${C}`};return e?u?s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),s.jsx("p",{children:"Đang tải khuyến mãi..."})]})}):!i||!i.roomTypePromotions&&(!i.invoicePromotions||i.invoicePromotions.length===0)?s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(_u,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Không có khuyến mãi nào khả dụng"}),s.jsxs("p",{className:"text-xs mt-1",children:["Phiếu thuê #",e==null?void 0:e.id]})]})}):s.jsxs("div",{className:`p-4 rounded-lg ${r?"bg-gray-100 opacity-60":"bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(_u,{className:`w-5 h-5 mr-2 ${r?"text-gray-400":"text-red-500"}`}),s.jsx("h3",{className:`font-semibold ${r?"text-gray-500":"text-gray-900"}`,children:"Khuyến mãi có sẵn"}),r&&s.jsx("span",{className:"ml-2 text-xs text-yellow-600 bg-yellow-100 px-2 py-1 rounded",children:a||"Đã có giảm giá thủ công"})]}),s.jsx("button",{onClick:()=>f(!d),disabled:r,className:`p-1 rounded transition-colors ${r?"cursor-not-allowed text-gray-400":"hover:bg-gray-200 text-gray-600"}`,children:d?s.jsx(C_,{className:"w-4 h-4"}):s.jsx(qN,{className:"w-4 h-4"})})]}),d&&s.jsxs(s.Fragment,{children:[i.roomTypePromotions&&Object.entries(i.roomTypePromotions).map(([g,y])=>s.jsxs("div",{className:"mb-4 border rounded-lg p-3 bg-white",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),s.jsxs("h4",{className:"font-medium text-blue-600",children:[y.hangPhong.tenKieuPhong," ",y.hangPhong.tenLoaiPhong]}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",y.rooms.join(", "),")"]})]}),s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[y.roomCount," phòng × ",y.nightCount," đêm = ",w(y.roomCharges)]}),y.availablePromotions&&y.availablePromotions.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:`flex items-start space-x-2 mb-2 p-2 rounded ${r?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,children:[s.jsx("input",{type:"radio",name:`promotion-room-${g}`,checked:!l.roomType[g],onChange:()=>{if(r)return;const b={...l};delete b.roomType[g],c(b);const j=p(b);t(j)},className:"mt-1",disabled:n||r}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"text-sm text-gray-600",children:"Không áp dụng khuyến mãi"})})]}),y.availablePromotions.map(b=>s.jsxs("label",{className:`flex items-start space-x-2 mb-2 p-2 rounded ${r?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,children:[s.jsx("input",{type:"radio",name:`promotion-room-${g}`,checked:l.roomType[g]===b.idKm,onChange:j=>{r||x("roomType",g,b.idKm,j.target.checked)},className:"mt-1",disabled:n||r}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nm,{className:"w-4 h-4 text-red-500 mr-1"}),s.jsxs("span",{className:"text-sm font-medium text-red-600",children:["Giảm ",b.phanTramGiam,"%"]})]}),s.jsx("div",{className:"text-sm text-gray-700",children:b.moTaKm}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(pt,{className:"w-3 h-3 mr-1"}),v(b.ngayBatDau)," - ",v(b.ngayKetThuc)]})]})]},b.idKm))]}):s.jsx("div",{className:"text-sm text-gray-500 italic",children:"Không có khuyến mãi"})]},g)),i.invoicePromotions&&i.invoicePromotions.length>0&&s.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),s.jsx("h4",{className:"font-medium text-green-600",children:"Khuyến mãi tổng hóa đơn"})]}),i.invoicePromotions.map(g=>s.jsxs("label",{className:`flex items-start space-x-2 mb-2 p-2 rounded ${r?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",checked:l.invoice.includes(g.idKm),onChange:y=>{r||x("invoice",null,g.idKm,y.target.checked)},className:"rounded border-gray-300 mt-1",disabled:n||r}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(mn,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Giảm ",g.phanTramGiam,"%"]})]}),s.jsx("div",{className:"text-sm text-gray-700",children:g.moTaKm}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(pt,{className:"w-3 h-3 mr-1"}),v(g.ngayBatDau)," - ",v(g.ngayKetThuc)]})]})]},g.idKm))]})]})]}):s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(_u,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Chọn khách để xem khuyến mãi có sẵn"})]})})},NA=({selectedGuest:e,onDiscountChange:t,loading:n,disabled:r=!1,currentBill:a={}})=>{const[i,o]=N.useState(!1),[l,c]=N.useState(0),[u,h]=N.useState(0);N.useEffect(()=>{e!=null&&e.id&&(c(0),h(0),o(!1),t({discountPercent:0,discountAmount:0,hasManualDiscount:!1}))},[e==null?void 0:e.id]);const d=x=>{if(!x||!a.total)return 0;const p=(a.roomCharges||0)+(a.serviceCharges||0)+(a.surcharges||0);return Math.round(p*(x/100))},f=x=>{const p=parseFloat(x)||0;if(p<0){X.error("Phần trăm giảm giá không thể âm");return}if(p>50){X.error("Phần trăm giảm giá không thể vượt quá 50%");return}const w=d(p);c(p),h(w),t({discountPercent:p,discountAmount:w,hasManualDiscount:p>0})},m=()=>{c(0),h(0),t({discountPercent:0,discountAmount:0,hasManualDiscount:!1}),X.success("Đã xóa giảm giá thủ công")};return N.useEffect(()=>{if(l>0){const x=d(l);h(x),t({discountPercent:l,discountAmount:x,hasManualDiscount:!0})}},[a.total,a.roomCharges,a.serviceCharges,a.surcharges]),e?s.jsxs("div",{className:`border rounded-lg p-4 ${r?"bg-gray-50 opacity-60":"bg-orange-50 border-orange-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nm,{className:`w-5 h-5 mr-2 ${r?"text-gray-400":"text-orange-600"}`}),s.jsx("h3",{className:`font-semibold ${r?"text-gray-500":"text-gray-900"}`,children:"Giảm giá thủ công"}),r&&s.jsx(Sf,{className:"w-4 h-4 text-yellow-500 ml-2",title:"Đã có khuyến mãi hạng phòng"})]}),s.jsx("button",{onClick:()=>o(!i),disabled:r,className:`text-sm transition-colors ${r?"text-gray-400 cursor-not-allowed":"text-orange-600 hover:text-orange-800"}`,children:i?"Thu gọn":"Mở rộng"})]}),r&&s.jsxs("div",{className:"text-sm text-yellow-700 bg-yellow-100 p-2 rounded mb-3",children:[s.jsx(Sf,{className:"w-4 h-4 inline mr-1"}),"Không thể áp dụng giảm giá thủ công khi đã có khuyến mãi hạng phòng"]}),i&&!r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phần trăm giảm giá (%)"}),s.jsx("input",{type:"number",min:"0",max:"50",step:"0.1",placeholder:"Ví dụ: 10",value:l||"",onChange:x=>f(x.target.value),className:"input",disabled:n}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tối đa 50%"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số tiền giảm"}),s.jsxs("div",{className:"input bg-gray-50 text-gray-600 flex items-center",children:[u.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tự động tính toán"})]})]}),l>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-100 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nm,{className:"w-4 h-4 text-orange-600 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-orange-800",children:["Giảm ",l,"% tổng bill = ",u.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("button",{onClick:m,className:"flex items-center text-xs text-red-600 hover:text-red-800 transition-colors",disabled:n,children:[s.jsx(pn,{className:"w-3 h-3 mr-1"}),"Xóa"]})]}),l>20&&s.jsxs("div",{className:"flex items-start p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx(Sf,{className:"w-4 h-4 text-yellow-600 mr-2 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium",children:"Cảnh báo: Giảm giá cao"}),s.jsx("p",{children:"Giảm giá trên 20% cần được phê duyệt bởi quản lý."})]})]})]})]}):null},bA=()=>{var Ue;const e=tr(),[t,n]=N.useState(""),[r,a]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState(null),[u,h]=N.useState(!1),[d,f]=N.useState("all"),[m,x]=N.useState(1),p=5,[w,v]=N.useState({actualCheckOut:"",notes:"",paymentMethod:"cash"}),[g,y]=N.useState({roomCharges:0,serviceCharges:0,surcharges:0,paidAmount:0,promotionDiscount:0,total:0}),[b,j]=N.useState({totalDiscount:0,discountDetails:[]}),[C,T]=N.useState({discountPercent:0,discountAmount:0,hasManualDiscount:!1}),[k,D]=N.useState(null),[H,O]=N.useState(!1),[B,W]=N.useState(null),[ue,G]=N.useState(!1),[I,K]=N.useState(null),[se,z]=N.useState(!1);N.useEffect(()=>{J()},[]),N.useEffect(()=>{pe()},[r,t,d]);const J=async()=>{try{h(!0);const ge=(await Dh.getCurrentStays()).phieuThueList||[],ye=await bl.getAllInvoices(),Oe=ye.statusCode===200?ye.hoaDonList||[]:[],Ve=new Set(Oe.map(Je=>Je.idPt)),Ye=ge.filter(Je=>!Ve.has(Je.idPt)).map(Je=>{const xt=Je.chiTietPhieuThue&&Je.chiTietPhieuThue.length>0?Je.chiTietPhieuThue.filter(ze=>ze.ttThanhToan!=="Đã thanh toán").map(ze=>({soPhong:ze.soPhong,tenKieuPhong:ze.tenKieuPhong,tenLoaiPhong:ze.tenLoaiPhong,tang:ze.tang})):[],Ht=xt.length>0?xt[0]:null,bn=new Date,Z=new Date(Je.ngayDi);Z.setHours(12,0,0,0);const we=bn>Z;let Re="",Ke=0;if(we){const ze=Math.ceil((bn-Z)/36e5);ze>=12?(Ke=Math.ceil(ze/24),Re=`${Ke} ngày`):Re=`${ze} giờ`}return{id:Je.idPt,maPhieuThue:`PT${Je.idPt}`,customerName:Je.hoTenKhachHang||"N/A",customerPhone:Je.sdtKhachHang||"N/A",customerEmail:Je.emailKhachHang||"N/A",cccd:Je.cccd,checkIn:Je.ngayDen,checkOut:Je.ngayDi,roomNumber:Ht?Ht.soPhong:"N/A",roomType:Ht?`${Ht.tenKieuPhong} - ${Ht.tenLoaiPhong}`:"N/A",status:we?"overdue":"checkedin",overdueDays:Ke,overdueStatus:Re,isOverdue:we,bookingId:Je.idPd,employeeId:Je.idNv,employeeName:Je.hoTenNhanVien,chiTietPhieuThue:Je.chiTietPhieuThue||[],roomInfo:xt,depositAmount:Je.soTienCoc||0}});a(Ye),o(Ye)}catch(Q){console.error("Error fetching checked-in guests:",Q),a([]),o([])}finally{h(!1)}},pe=()=>{let Q=r;if(d==="today"){const ge=new Date().toISOString().split("T")[0];Q=Q.filter(ye=>ye.checkOut?ye.checkOut<=ge:!1)}t.trim()&&(Q=Q.filter(ge=>ge.customerName.toLowerCase().includes(t.toLowerCase())||ge.maPhieuThue.toLowerCase().includes(t.toLowerCase())||ge.customerPhone.includes(t))),o(Q),x(1)},P=Q=>{n(Q)},ee=Q=>{f(Q)},Y=Q=>{const ge=Q.getTimezoneOffset();return new Date(Q.getTime()-ge*6e4).toISOString().slice(0,16)},q=(Q,ge)=>{if(!Q&&!ge)return 0;if(!Q)return 1;if(!ge)return-1;try{const ye=parseInt(Q),Oe=parseInt(ge);return ye-Oe}catch{return Q.localeCompare(ge)}},U=Q=>Q?[...Q].sort((ge,ye)=>q(ge.soPhong,ye.soPhong)):[],he=async Q=>{c(Q),v({actualCheckOut:Y(new Date),notes:"",paymentMethod:"cash"});let ge=0,ye=0,Oe=0;Q.chiTietPhieuThue&&Q.chiTietPhieuThue.length>0&&Q.chiTietPhieuThue.forEach(Ve=>{if(Ve.ttThanhToan!=="Đã thanh toán"&&Ve.donGia&&Ve.ngayDen){const Ye=new Date(Ve.ngayDen);Ye.setHours(0,0,0,0);const Je=Ve.ngayDi?new Date(Ve.ngayDi):w.actualCheckOut?new Date(w.actualCheckOut):new Date,xt=new Date(Je);xt.setHours(0,0,0,0);const Ht=Math.max(1,Math.ceil((xt-Ye)/(1e3*60*60*24))),bn=Ve.donGia*Ht;ge+=bn,Ve.ttThanhToan}Ve.danhSachDichVu&&Ve.danhSachDichVu.length>0&&Ve.danhSachDichVu.forEach(Ye=>{Ye.ttThanhToan!=="Đã thanh toán"&&(ye+=Ye.thanhTien||0)}),Ve.danhSachPhuThu&&Ve.danhSachPhuThu.length>0&&Ve.danhSachPhuThu.forEach(Ye=>{Ye.ttThanhToan!=="Đã thanh toán"&&(Oe+=Ye.thanhTien||0)})}),y({roomCharges:ge,serviceCharges:ye,surcharges:Oe,paidAmount:0,promotionDiscount:0,manualDiscount:0,total:ge+ye+Oe}),j({totalDiscount:0,discountDetails:[]}),T({discountPercent:0,discountAmount:0,hasManualDiscount:!1}),await ve(Q.id)},ve=async Q=>{try{h(!0);const ye=(await Dh.getRentalDetails(Q)).phieuThueDetails;W(ye),ye&&l&&(console.log("API details:",ye),console.log("soTienCoc from API:",ye.soTienCoc),c(Oe=>{var Ve;return{...Oe,customerEmail:ye.emailKhachHang||Oe.customerEmail,roomCount:ye.rooms?ye.rooms.length:((Ve=Oe.chiTietPhieuThue)==null?void 0:Ve.length)||1,depositAmount:ye.soTienCoc||Oe.depositAmount||0}}))}catch(ge){console.error("Error fetching rental details:",ge),X.error("Không thể tải thông tin chi tiết phiếu thuê")}finally{h(!1)}},E=async Q=>{try{B||await ve(Q),G(!0)}catch(ge){console.error("Error showing rental details:",ge),X.error("Không thể hiển thị thông tin chi tiết phiếu thuê")}},ne=async()=>{if(l)try{h(!0);const Q=w.actualCheckOut?new Date(w.actualCheckOut).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],ge=b.totalDiscount+C.discountAmount,ye=await je(l.id,Q,ge);if(ye&&ye.idHd){X.success(`Check-out thành công cho ${l.customerName}!`);try{if(await bl.updateInvoiceStatus(ye.idHd,vs.PAID),X.success("Trạng thái hóa đơn đã được cập nhật!"),l.bookingId)try{await bookingService.updateBookingStatus(l.bookingId,"Đã hoàn thành")}catch(Oe){console.error("Error updating booking status:",Oe)}e(`/staff/invoices?highlight=${ye.idHd}`);return}catch(Oe){console.error("Error updating invoice status:",Oe),X.error("Không thể cập nhật trạng thái hóa đơn")}a(Oe=>Oe.filter(Ve=>Ve.id!==l.id)),c(null),v({actualCheckOut:"",notes:"",paymentMethod:"cash"}),y({roomCharges:0,serviceCharges:0,surcharges:0,paidAmount:0,total:0}),J()}else X.error("Không thể tạo hóa đơn từ checkout")}catch(Q){X.error("Có lỗi xảy ra khi check-out"),console.error("Check-out error:",Q)}finally{h(!1)}},je=async(Q,ge,ye)=>{try{const Oe=await bl.createInvoiceFromCheckoutWithPromotions(Q,ge,ye);return Oe.statusCode===200?(D(Oe.hoaDon),X.success("Hóa đơn đã được tạo thành công!"),O(!0),Oe.hoaDon):(X.error("Không thể tạo hóa đơn: "+Oe.message),null)}catch(Oe){return console.error("Error creating invoice from checkout with promotions:",Oe),X.error("Có lỗi xảy ra khi tạo hóa đơn"),null}},te=Q=>{j(Q),Ce(Q.totalDiscount,C.discountAmount)},Te=Q=>{T(Q),Ce(b.totalDiscount,Q.discountAmount)},Ce=(Q,ge)=>{y(ye=>({...ye,promotionDiscount:Q,manualDiscount:ge,total:ye.roomCharges+ye.serviceCharges+ye.surcharges-Q-ge}))},Pe=Q=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Q||0),Be=Q=>{if(!Q)return"Chưa xác định";const ge=new Date(Q),ye=ge.getDate().toString().padStart(2,"0"),Oe=(ge.getMonth()+1).toString().padStart(2,"0"),Ve=ge.getFullYear().toString().slice(-2);return`${ye}-${Oe}-${Ve}`},oe=()=>!ue||!B?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Chi tiết phiếu thuê #",B.idPt]}),s.jsx("button",{onClick:()=>G(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Họ tên:"})," ",B.hoTenKhachHang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"CCCD:"})," ",B.cccdKhachHang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",B.sdtKhachHang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",B.emailKhachHang]})]})]}),B.rooms&&B.rooms.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Thông tin phòng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đến"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đi"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số ngày"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.chiTietPhieuThue&&l.chiTietPhieuThue.filter(Q=>Q.ttThanhToan!=="Đã thanh toán").map((Q,ge)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:Q.soPhong}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:[Q.tenKieuPhong," ",Q.tenLoaiPhong]}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:Be(Q.ngayDen)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:Be(Q.ngayDi)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:(()=>{if(Q.ngayDen){const ye=new Date(Q.ngayDen);ye.setHours(0,0,0,0);const Oe=Q.ngayDi?new Date(Q.ngayDi):w.actualCheckOut?new Date(w.actualCheckOut):new Date,Ve=new Date(Oe);return Ve.setHours(0,0,0,0),Math.max(1,Math.ceil((Ve-ye)/(1e3*60*60*24)))}return 1})()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:Pe(Q.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:(()=>{if(Q.donGia&&Q.ngayDen){const ye=new Date(Q.ngayDen);ye.setHours(0,0,0,0);const Oe=Q.ngayDi?new Date(Q.ngayDi):w.actualCheckOut?new Date(w.actualCheckOut):new Date,Ve=new Date(Oe);Ve.setHours(0,0,0,0);const Ye=Math.max(1,Math.ceil((Ve-ye)/(1e3*60*60*24))),Je=Q.donGia*Ye;return Pe(Je)}return Pe(Q.donGia||0)})()})]},ge))})]})})]}),B.services&&B.services.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Dịch vụ sử dụng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Dịch vụ"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày sử dụng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.services.map((Q,ge)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:Q.tenDichVu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:Q.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:Be(Q.ngaySD)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:Pe(Q.gia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:Q.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:Pe(Q.thanhTien)})]},ge))})]})})]}),B.surcharges&&B.surcharges.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Phụ thu"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phụ thu"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày phát sinh"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.surcharges.map((Q,ge)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:Q.loaiPhuThu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:Q.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:Be(Q.ngayPhatSinh)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:Pe(Q.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:Q.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:Pe(Q.thanhTien)})]},ge))})]})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600 ",children:"Tổng kết chi phí"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tiền phòng:"}),s.jsx("span",{className:"font-medium",children:Pe((()=>{let Q=0;return l.chiTietPhieuThue&&l.chiTietPhieuThue.forEach(ge=>{if(ge.ttThanhToan!=="Đã thanh toán"&&ge.donGia&&ge.ngayDen){const ye=new Date(ge.ngayDen);ye.setHours(0,0,0,0);const Oe=ge.ngayDi?new Date(ge.ngayDi):w.actualCheckOut?new Date(w.actualCheckOut):new Date,Ve=new Date(Oe);Ve.setHours(0,0,0,0);const Ye=Math.max(1,Math.ceil((Ve-ye)/(1e3*60*60*24)));Q+=ge.donGia*Ye}}),Q})())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tiền dịch vụ:"}),s.jsx("span",{className:"font-medium",children:Pe(B.tongTienDichVu)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Phụ thu:"}),s.jsx("span",{className:"font-medium",children:Pe(B.tongTienPhuThu)})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2 text-blue-600",children:[s.jsx("span",{children:"Tổng cộng:"}),s.jsx("span",{className:"text-blue-600",children:Pe((()=>{let Q=0;return l.chiTietPhieuThue&&l.chiTietPhieuThue.forEach(ge=>{if(ge.ttThanhToan!=="Đã thanh toán"&&ge.donGia&&ge.ngayDen){const ye=new Date(ge.ngayDen);ye.setHours(0,0,0,0);const Oe=ge.ngayDi?new Date(ge.ngayDi):w.actualCheckOut?new Date(w.actualCheckOut):new Date,Ve=new Date(Oe);Ve.setHours(0,0,0,0);const Ye=Math.max(1,Math.ceil((Ve-ye)/(1e3*60*60*24)));Q+=ge.donGia*Ye}}),Q+(B.tongTienDichVu||0)+(B.tongTienPhuThu||0)})())})]})]})]})]})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check-out khách hàng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thực hiện check-out và thanh toán cho khách hàng"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Xn,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Khách đang lưu trú"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>ee("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="all"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tất cả"}),s.jsx("button",{onClick:()=>ee("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="today"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Hôm nay"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("input",{type:"text",placeholder:"Tìm theo tên, mã đặt phòng, SĐT...",value:t,onChange:Q=>P(Q.target.value),className:"input"})}),s.jsx("div",{className:"space-y-3",children:(()=>{const Q=(m-1)*p,ge=Q+p,ye=i.slice(Q,ge);return ye.length>0?ye.map(Oe=>s.jsxs("div",{className:`p-4 border rounded-lg transition-colors ${(l==null?void 0:l.id)===Oe.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>he(Oe),children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:Oe.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:Oe.maPhieuThue})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-green-600 bg-green-100",children:"Đang lưu trú"}),Oe.isOverdue&&s.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-orange-600 bg-orange-100",children:["Quá hạn ",Oe.overdueStatus||`${Oe.overdueDays} ngày`]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 cursor-pointer",onClick:()=>he(Oe),children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",Oe.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-in:"})," ",Oe.checkIn]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-out dự kiến:"})," ",Oe.checkOut]})]})]},Oe.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ei,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Không có khách nào đang lưu trú"})]})})()}),i.length>p&&s.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[s.jsx("button",{onClick:()=>x(Q=>Math.max(Q-1,1)),disabled:m===1,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),Array.from({length:Math.ceil(i.length/p)},(Q,ge)=>s.jsx("button",{onClick:()=>x(ge+1),className:`px-3 py-1 rounded border ${m===ge+1?"bg-primary-500 text-white border-primary-500":"hover:bg-gray-50"}`,children:ge+1},ge+1)),s.jsx("button",{onClick:()=>x(Q=>Math.min(Q+1,Math.ceil(i.length/p))),disabled:m===Math.ceil(i.length/p),className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ei,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin check-out"})]}),l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Thông tin khách hàng"}),s.jsxs("button",{onClick:()=>E(l.id),className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors flex items-center",children:[s.jsx(vi,{className:"w-4 h-4 mr-1"}),"Xem Chi Tiết"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tên:"})," ",l.customerName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",l.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",l.customerEmail||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"CCCD:"})," ",l.cccd||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Số lượng phòng:"})," ",((Ue=l.chiTietPhieuThue)==null?void 0:Ue.length)||0]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-in:"})," ",l.checkIn]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-out dự kiến:"})," ",l.checkOut]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium text-green-600",children:"Trạng thái:"}),s.jsx("span",{className:"text-green-600 ml-2",children:"Đang lưu trú"}),l.isOverdue&&s.jsxs("span",{className:"text-orange-600 ml-2",children:["- Quá hạn ",l.overdueStatus||`${l.overdueDays} ngày`]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Phòng đã sử dụng"}),l.chiTietPhieuThue&&l.chiTietPhieuThue.filter(Q=>Q.ttThanhToan!=="Đã thanh toán").length>0?s.jsx("div",{className:"space-y-2",children:U(l.chiTietPhieuThue.filter(Q=>Q.ttThanhToan!=="Đã thanh toán")).map((Q,ge)=>{var ye;return s.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded border",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:["Phòng ",Q.soPhong]}),s.jsxs("span",{className:"text-gray-600",children:[" - ",Q.tenKieuPhong," ",Q.tenLoaiPhong]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Tầng ",Q.tang," | ",Be(Q.ngayDen)," - ",Be(Q.ngayDi)]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Đơn giá: ",(ye=Q.donGia)==null?void 0:ye.toLocaleString("vi-VN")," VNĐ/đêm"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Số ngày: ",(()=>{if(Q.ngayDen){const Oe=new Date(Q.ngayDen);Oe.setHours(0,0,0,0);const Ve=Q.ngayDi?new Date(Q.ngayDi):w.actualCheckOut?new Date(w.actualCheckOut):new Date,Ye=new Date(Ve);return Ye.setHours(0,0,0,0),Math.max(1,Math.ceil((Ye-Oe)/(1e3*60*60*24)))}return 1})()," ngày"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[(()=>{if(Q.donGia&&Q.ngayDen){const Oe=new Date(Q.ngayDen);Oe.setHours(0,0,0,0);const Ve=Q.ngayDi?new Date(Q.ngayDi):w.actualCheckOut?new Date(w.actualCheckOut):new Date,Ye=new Date(Ve);Ye.setHours(0,0,0,0);const Je=Math.max(1,Math.ceil((Ye-Oe)/(1e3*60*60*24)));return(Q.donGia*Je).toLocaleString("vi-VN")}return(Q.donGia||0).toLocaleString("vi-VN")})()," VNĐ"]}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Q.ttThanhToan==="Đã thanh toán"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Q.ttThanhToan})]})]},ge)})}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Không có thông tin phòng"})})]}),l.chiTietPhieuThue&&l.chiTietPhieuThue.filter(Q=>Q.ttThanhToan!=="Đã thanh toán").some(Q=>Q.danhSachDichVu&&Q.danhSachDichVu.some(ge=>ge.ttThanhToan!=="Đã thanh toán")||Q.danhSachPhuThu&&Q.danhSachPhuThu.some(ge=>ge.ttThanhToan!=="Đã thanh toán"))&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Chi tiết dịch vụ & phụ thu"}),U(l.chiTietPhieuThue.filter(Q=>Q.ttThanhToan!=="Đã thanh toán")).map((Q,ge)=>s.jsxs("div",{className:"mb-4",children:[Q.danhSachDichVu&&Q.danhSachDichVu.filter(ye=>ye.ttThanhToan!=="Đã thanh toán").length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Phòng ",Q.soPhong,":"]}),s.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Dịch vụ:"}),Q.danhSachDichVu.filter(ye=>ye.ttThanhToan!=="Đã thanh toán").sort((ye,Oe)=>!ye.ngaySuDung&&!Oe.ngaySuDung?0:ye.ngaySuDung?Oe.ngaySuDung?new Date(ye.ngaySuDung)-new Date(Oe.ngaySuDung):-1:1).map((ye,Oe)=>{var Ve,Ye;return s.jsxs("div",{className:"flex justify-between text-xs bg-white p-2 rounded mb-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:ye.tenDv}),s.jsxs("span",{className:"text-gray-500 ml-2",children:[ye.soLuong," x ",(Ve=ye.gia)==null?void 0:Ve.toLocaleString("vi-VN")," VNĐ"]}),s.jsxs("div",{className:"text-gray-400",children:["Ngày: ",ye.ngaySuDung]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:[(Ye=ye.thanhTien)==null?void 0:Ye.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("div",{className:"text-xs px-1 rounded bg-yellow-100 text-yellow-800",children:ye.ttThanhToan})]})]},Oe)})]}),Q.danhSachPhuThu&&Q.danhSachPhuThu.filter(ye=>ye.ttThanhToan!=="Đã thanh toán").length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-red-600 font-medium mb-1",children:"Phụ thu:"}),Q.danhSachPhuThu.filter(ye=>ye.ttThanhToan!=="Đã thanh toán").sort((ye,Oe)=>(ye.tenPhuThu||"").localeCompare(Oe.tenPhuThu||"")).map((ye,Oe)=>{var Ve,Ye;return s.jsxs("div",{className:"flex justify-between text-xs bg-white p-2 rounded mb-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:ye.tenPhuThu}),s.jsxs("span",{className:"text-gray-500 ml-2",children:[ye.soLuong," x ",(Ve=ye.donGia)==null?void 0:Ve.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:[(Ye=ye.thanhTien)==null?void 0:Ye.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("div",{className:"text-xs px-1 rounded bg-yellow-100 text-yellow-800",children:ye.ttThanhToan})]})]},Oe)})]})]},ge))]}),s.jsx(wA,{selectedGuest:l,onPromotionChange:te,loading:u,disabled:C.hasManualDiscount,disabledReason:"Đã có giảm giá thủ công"}),s.jsx(NA,{selectedGuest:l,onDiscountChange:Te,loading:u,disabled:b.totalDiscount>0,currentBill:g}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian check-out thực tế"}),s.jsx("input",{type:"datetime-local",value:w.actualCheckOut,onChange:Q=>v(ge=>({...ge,actualCheckOut:Q.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phương thức thanh toán"}),s.jsxs("select",{value:w.paymentMethod,onChange:Q=>v(ge=>({...ge,paymentMethod:Q.target.value})),className:"input",children:[s.jsx("option",{value:"cash",children:"Tiền mặt"}),s.jsx("option",{value:"transfer",children:"Chuyển khoản"})]})]})]}),s.jsx(yA,{selectedGuest:l,bill:g,promotionData:b,checkOutData:w,onCheckOut:ne,onCancel:()=>c(null),loading:u})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ei,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chọn khách để check-out"}),s.jsx("p",{className:"text-gray-500",children:"Tìm kiếm và chọn khách hàng từ danh sách bên trái"})]})]})]}),s.jsx(U2,{isOpen:H,onClose:()=>O(!1),invoice:k,selectedGuest:l,bill:g,checkOutData:w}),s.jsx(oe,{})]})},jA=()=>{var se,z,J,pe,P,ee,Y,q,U,he,ve,E,ne,je,te,Te,Ce,Pe,Be;const[e,t]=N.useState([]),[n,r]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState("all"),[h,d]=N.useState("all"),[f,m]=N.useState(1),[x,p]=N.useState(null),[w,v]=N.useState(!1),[g,y]=N.useState(null),b=10;N.useEffect(()=>{j();const Ue=new URLSearchParams(window.location.search).get("highlight");Ue&&(y(Ue),setTimeout(()=>{y(null),window.history.replaceState({},document.title,window.location.pathname)},5e3))},[]),N.useEffect(()=>{C()},[e,o,c,h]);const j=async()=>{try{i(!0);const oe=await bl.getAllInvoices();oe.statusCode===200?t(oe.hoaDonList||[]):X.error("Không thể tải danh sách hóa đơn")}catch(oe){console.error("Error fetching invoices:",oe),X.error("Có lỗi xảy ra khi tải danh sách hóa đơn")}finally{i(!1)}},C=()=>{let oe=[...e];if(o.trim()&&(oe=oe.filter(Ue=>{var Q,ge,ye;return Ue.idHd.toLowerCase().includes(o.toLowerCase())||((Q=Ue.hoTenKhachHang)==null?void 0:Q.toLowerCase().includes(o.toLowerCase()))||((ge=Ue.sdtKhachHang)==null?void 0:ge.includes(o))||((ye=Ue.maPhieuThue)==null?void 0:ye.toLowerCase().includes(o.toLowerCase()))})),c!=="all"&&(oe=oe.filter(Ue=>Ue.trangThai===c)),h!=="all"){const Ue=new Date,Q=new Date;switch(h){case"today":Q.setHours(0,0,0,0),oe=oe.filter(ge=>{const ye=new Date(ge.ngayLap);return ye.setHours(0,0,0,0),ye.getTime()===Q.getTime()});break;case"week":Q.setDate(Ue.getDate()-7),oe=oe.filter(ge=>new Date(ge.ngayLap)>=Q);break;case"month":Q.setMonth(Ue.getMonth()-1),oe=oe.filter(ge=>new Date(ge.ngayLap)>=Q);break}}oe.sort((Ue,Q)=>new Date(Q.ngayLap)-new Date(Ue.ngayLap)),r(oe),m(1)},T=async oe=>{try{i(!0);const Ue=await bl.getInvoiceDetails(oe.idHd);if(Ue.statusCode!==200){X.error("Không thể tải chi tiết hóa đơn");return}const Q=Ue.hoaDonDetails,ge={idHd:Q.idHd,idPt:Q.idPt,ngayLap:Q.ngayLap,tongTien:Q.tongTien,soTienGiam:Q.soTienGiam,trangThai:Q.trangThai,cccdKhachHang:Q.cccdKhachHang,hoTenKhachHang:Q.hoTenKhachHang,sdtKhachHang:Q.sdtKhachHang,emailKhachHang:Q.emailKhachHang,idNv:Q.idNv,hoTenNhanVien:Q.hoTenNhanVien,invoiceDetails:Q,depositAmount:0};p(ge),v(!0)}catch(Ue){console.error("Error fetching invoice details:",Ue),X.error("Có lỗi xảy ra khi tải chi tiết hóa đơn")}finally{i(!1)}},k=oe=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(oe||0),D=oe=>new Date(oe).toLocaleDateString("vi-VN"),H=oe=>oe.reduce((Ue,Q)=>Ue+(Q.thanhTien||0),0),O=oe=>oe.reduce((Ue,Q)=>Ue+(Q.thanhTien||0),0),B=oe=>oe.reduce((Ue,Q)=>Ue+(Q.thanhTien||0),0),W=oe=>{switch(oe){case vs.PAID:return"bg-green-100 text-green-800";case vs.UNPAID:return"bg-yellow-100 text-yellow-800";case vs.CANCELLED:return"bg-red-100 text-red-800";case vs.PARTIAL:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},ue=Math.ceil(n.length/b),G=(f-1)*b,I=G+b,K=n.slice(G,I);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý hóa đơn"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Danh sách hóa đơn đã checkout"})]}),s.jsxs("button",{onClick:j,disabled:a,className:"btn-primary flex items-center",children:[s.jsx(vc,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Làm mới"]})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm theo mã HĐ, tên KH, SĐT...",value:o,onChange:oe=>l(oe.target.value),className:"input pl-10"})]}),s.jsxs("select",{value:c,onChange:oe=>u(oe.target.value),className:"input",children:[s.jsx("option",{value:"all",children:"Tất cả trạng thái"}),s.jsx("option",{value:vs.PAID,children:"Đã thanh toán"}),s.jsx("option",{value:vs.UNPAID,children:"Chưa thanh toán"}),s.jsx("option",{value:vs.PARTIAL,children:"Thanh toán một phần"}),s.jsx("option",{value:vs.CANCELLED,children:"Đã hủy"})]}),s.jsxs("select",{value:h,onChange:oe=>d(oe.target.value),className:"input",children:[s.jsx("option",{value:"all",children:"Tất cả thời gian"}),s.jsx("option",{value:"today",children:"Hôm nay"}),s.jsx("option",{value:"week",children:"7 ngày qua"}),s.jsx("option",{value:"month",children:"30 ngày qua"})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Lo,{className:"w-4 h-4 mr-2"}),n.length," hóa đơn"]})]})}),s.jsxs("div",{className:"card",children:[a?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),s.jsx("span",{className:"ml-2",children:"Đang tải..."})]}):K.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã hóa đơn"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày lập"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(oe=>s.jsxs("tr",{className:`hover:bg-gray-50 ${g===oe.idHd?"bg-yellow-50 border-l-4 border-yellow-400":""}`,children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.idHd}),s.jsx("div",{className:"text-sm text-gray-500",children:oe.maPhieuThue})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.hoTenKhachHang}),s.jsx("div",{className:"text-sm text-gray-500",children:oe.sdtKhachHang})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(pt,{className:"w-4 h-4 text-gray-400 mr-2"}),D(oe.ngayLap)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k(oe.tongTien)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W(oe.trangThai)}`,children:oe.trangThai})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{onClick:()=>T(oe),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[s.jsx(Hn,{className:"w-4 h-4 mr-1"}),"Xem chi tiết"]})})]},oe.idHd))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có hóa đơn nào"}),s.jsx("p",{className:"text-gray-500",children:o||c!=="all"||h!=="all"?"Không tìm thấy hóa đơn phù hợp với bộ lọc":"Chưa có hóa đơn nào được tạo"})]}),ue>1&&s.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[s.jsx("button",{onClick:()=>m(oe=>Math.max(oe-1,1)),disabled:f===1,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),Array.from({length:ue},(oe,Ue)=>s.jsx("button",{onClick:()=>m(Ue+1),className:`px-3 py-1 rounded border ${f===Ue+1?"bg-primary-500 text-white border-primary-500":"hover:bg-gray-50"}`,children:Ue+1},Ue+1)),s.jsx("button",{onClick:()=>m(oe=>Math.min(oe+1,ue)),disabled:f===ue,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})]}),w&&x&&s.jsx(U2,{isOpen:w,onClose:()=>{v(!1),p(null)},invoice:x,rentalDetails:{rooms:((z=(se=x.invoiceDetails)==null?void 0:se.danhSachPhong)==null?void 0:z.map(oe=>({tenPhong:oe.soPhong,loaiPhong:oe.tenLoaiPhong,ngayDen:oe.ngayDen,ngayDi:oe.ngayDi,soNgay:oe.soNgay,donGia:oe.donGia,thanhTien:oe.thanhTien})))||[],services:((pe=(J=x.invoiceDetails)==null?void 0:J.danhSachDichVu)==null?void 0:pe.map(oe=>({tenDichVu:oe.tenDv,tenPhong:oe.soPhong,donViTinh:oe.donViTinh,ngaySD:oe.ngaySuDung,gia:oe.donGia,soLuong:oe.soLuong,thanhTien:oe.thanhTien})))||[],surcharges:((ee=(P=x.invoiceDetails)==null?void 0:P.danhSachPhuThu)==null?void 0:ee.map(oe=>({loaiPhuThu:oe.loaiPhuThu,tenPhong:oe.soPhong,moTa:oe.moTa,ngayPhatSinh:new Date().toISOString().split("T")[0],donGia:oe.donGia,soLuong:oe.soLuong,thanhTien:oe.thanhTien})))||[],hoTenNhanVien:x.hoTenNhanVien},selectedGuest:{customerName:((Y=x.invoiceDetails)==null?void 0:Y.hoTenKhachHang)||x.hoTenKhachHang,customerPhone:((q=x.invoiceDetails)==null?void 0:q.sdtKhachHang)||x.sdtKhachHang,customerEmail:((U=x.invoiceDetails)==null?void 0:U.emailKhachHang)||x.emailKhachHang,cccd:((he=x.invoiceDetails)==null?void 0:he.cccdKhachHang)||x.cccdKhachHang,roomNumber:x.soPhong,roomType:x.loaiPhong,maPhieuThue:((ve=x.invoiceDetails)==null?void 0:ve.maPhieuThue)||x.maPhieuThue,checkIn:((E=x.invoiceDetails)==null?void 0:E.ngayCheckIn)||x.ngayCheckIn||x.ngayDen,employeeName:((ne=x.invoiceDetails)==null?void 0:ne.hoTenNhanVien)||x.hoTenNhanVien,chiTietPhieuThue:x.chiTietPhieuThue||[],depositAmount:((je=x.invoiceDetails)==null?void 0:je.soTienCoc)||x.depositAmount||0},bill:{roomCharges:H(((te=x.invoiceDetails)==null?void 0:te.danhSachPhong)||[]),serviceCharges:O(((Te=x.invoiceDetails)==null?void 0:Te.danhSachDichVu)||[]),surcharges:B(((Ce=x.invoiceDetails)==null?void 0:Ce.danhSachPhuThu)||[]),promotionDiscount:((Pe=x.invoiceDetails)==null?void 0:Pe.soTienGiam)||0,paidAmount:0,total:((Be=x.invoiceDetails)==null?void 0:Be.tongTien)||x.tongTien||0},checkOutData:{actualCheckOut:x.ngayCheckOut||x.ngayDiThucTe,paymentMethod:x.phuongThucThanhToan||"cash"}})]})},TA=()=>{const{user:e}=Pr(),[t,n]=N.useState(!1),r=E=>{try{const je=E.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),te=decodeURIComponent(atob(je).split("").map(function(Te){return"%"+("00"+Te.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(te)}catch(ne){return console.error("Error decoding JWT:",ne),null}},a=async()=>{var je,te,Te;if(!e)return null;let E=(e==null?void 0:e.id)||(e==null?void 0:e.idNv)||(e==null?void 0:e.maNhanVien)||((je=e==null?void 0:e.nhanVien)==null?void 0:je.idNv)||((te=e==null?void 0:e.nhanVien)==null?void 0:te.maNhanVien)||((Te=e==null?void 0:e.nhanVien)==null?void 0:Te.id)||(e==null?void 0:e.userId)||(e==null?void 0:e.employeeId);if(E)return E;let ne=e==null?void 0:e.email;if(!ne&&(e!=null&&e.token)){const Ce=r(e.token);ne=Ce==null?void 0:Ce.sub}if(!ne){const Ce=localStorage.getItem("token");if(Ce){const Pe=r(Ce);ne=Pe==null?void 0:Pe.sub}}if(ne)try{const Ce=await Nl.getEmployeeByEmail(ne);if(Ce.statusCode===200&&Ce.nhanVien){const Pe=Ce.nhanVien;return E=Pe.idNv||Pe.maNhanVien||Pe.id,e&&typeof e=="object"&&Object.assign(e,{id:E,idNv:Pe.idNv,maNhanVien:Pe.maNhanVien,hoTen:Pe.hoTen||Pe.tenNhanVien||e.hoTen,soDienThoai:Pe.soDienThoai||e.soDienThoai,diaChi:Pe.diaChi||e.diaChi,employeeData:Pe}),E}}catch(Ce){console.error("Error fetching employee data:",Ce)}return!E&&ne&&(E=ne.replace("@hotel.com","").replace("@","_")),E},[i,o]=N.useState(""),[l,c]=N.useState({cccd:"",ho:"",ten:"",email:"",sdt:"",diaChi:""}),[u,h]=N.useState({ngayDen:new Date().toISOString().split("T")[0],ngayDi:"",soLuongPhong:1}),[d,f]=N.useState({ngayBdThue:"",ngayDi:"",idKp:"",idLp:"",soLuongPhongO:1,tienDatCoc:"",ghiChu:""}),[m,x]=N.useState({roomPrice:0,minDeposit:0,pricePerRoom:0,depositPerRoom:0,numberOfNights:0,totalRoomPrice:0}),[p,w]=N.useState(null),[v,g]=N.useState([]),[y,b]=N.useState(!1),[j,C]=N.useState(null),[T,k]=N.useState({idKp:"",idLp:""}),[D,H]=N.useState([]),[O,B]=N.useState([]);N.useEffect(()=>{(async()=>{try{const ne=await Kt.getAllRoomTypes();ne.statusCode===200&&H(ne.kieuPhongList||[]);const je=await Kt.getAllRoomCategories();je.statusCode===200&&B(je.loaiPhongList||[])}catch(ne){console.error("Error loading room data:",ne)}})()},[]),N.useEffect(()=>{d.idKp&&d.idLp&&d.soLuongPhongO&&I(d.idKp,d.idLp,d.soLuongPhongO)},[d.idKp,d.idLp,d.soLuongPhongO,d.ngayBdThue,d.ngayDi]);const W=(E,ne)=>{c(je=>({...je,[E]:ne}))},ue=(E,ne)=>{h(je=>({...je,[E]:ne})),E==="soLuongPhong"&&g([])},G=async(E,ne)=>{if(f(je=>({...je,[E]:ne})),E==="idKp"||E==="idLp"||E==="soLuongPhongO"){const je={...d,[E]:ne};je.idKp&&je.idLp&&je.soLuongPhongO&&await I(je.idKp,je.idLp,je.soLuongPhongO)}},I=async(E,ne,je=1)=>{try{const te=await B2.getRoomPriceByKieuAndLoai(E,ne);if(te.statusCode===200){const Te=d.ngayBdThue&&d.ngayDi?Math.ceil((new Date(d.ngayDi)-new Date(d.ngayBdThue))/864e5):1,Ce=te.roomPrice*Te*je,Pe=Math.round(Ce*.2);x({roomPrice:te.roomPrice,minDeposit:Pe,pricePerRoom:te.roomPrice,depositPerRoom:Math.round(te.roomPrice*Te*.2),numberOfNights:Te,totalRoomPrice:Ce}),(!d.tienDatCoc||parseFloat(d.tienDatCoc)<Pe)&&f(Be=>({...Be,tienDatCoc:Pe.toString()}))}}catch(te){console.error("Error fetching room price:",te),X.error("Không thể lấy thông tin giá phòng")}},K=(E,ne)=>{k(je=>({...je,[E]:ne}))},se=()=>!l.cccd||!l.cccd.trim()?(X.error("Vui lòng nhập CCCD"),!1):!l.sdt||!l.sdt.trim()?(X.error("Vui lòng nhập số điện thoại"),!1):!0,z=async E=>{if(c(ne=>({...ne,cccd:E})),E&&E.trim().length>=9)try{const ne=await Jr.getCustomerById(E.trim());if(ne.statusCode===200&&ne.khachHang){const je=ne.khachHang;c(te=>({...te,cccd:je.cccd,ho:je.ho||"",ten:je.ten||"",email:je.email||"",sdt:je.sdt||te.sdt,diaChi:je.diaChi||""})),X.success(`Đã tìm thấy khách hàng: ${je.ho} ${je.ten}`)}}catch(ne){console.log("Customer not found:",ne)}},J=async()=>se()?u.ngayDi?v.length===0?(X.error("Vui lòng chọn ít nhất một phòng"),!1):v.length!==u.soLuongPhong?(X.error(`Vui lòng chọn đúng ${u.soLuongPhong} phòng`),!1):await a()?!0:(X.error("Không thể xác định thông tin nhân viên. Vui lòng đăng nhập lại."),!1):(X.error("Vui lòng chọn ngày check-out"),!1):!1,pe=async()=>se()?!d.ngayBdThue||!d.ngayDi?(X.error("Vui lòng chọn ngày bắt đầu và ngày kết thúc"),!1):!d.idKp||!d.idLp?(X.error("Vui lòng chọn kiểu phòng và loại phòng"),!1):d.tienDatCoc?await a()?m.minDeposit>0&&parseFloat(d.tienDatCoc)<m.minDeposit?(X.error(`Tiền đặt cọc phải ít nhất ${m.minDeposit.toLocaleString("vi-VN")} VNĐ (20% của tổng tiền phòng)`),!1):!0:(X.error("Không thể xác định thông tin nhân viên. Vui lòng đăng nhập lại."),!1):(X.error("Vui lòng nhập tiền đặt cọc"),!1):!1,P=async E=>{E.preventDefault(),i==="rental"?await ee():i==="booking"?await Y():i==="customer"&&await q()},ee=async()=>{if(await J()){n(!0);try{let E=!1;try{E=(await Jr.getCustomerById(l.cccd)).statusCode===200}catch{E=!1}if(!E)throw new Error("Khách hàng chưa tồn tại trong hệ thống. Vui lòng tạo khách hàng mới trước.");const ne=await Jr.updateCustomer(l.cccd,l);if(ne.statusCode!==200)throw new Error(ne.message||"Lỗi khi cập nhật thông tin khách hàng");const je=await a(),te={ngayDen:u.ngayDen,ngayDi:u.ngayDi,khachHang:{cccd:l.cccd,ho:l.ho,ten:l.ten,sdt:l.sdt,email:l.email,diaChi:l.diaChi},nhanVien:{idNv:je},danhSachPhong:v.map(Ce=>({soPhong:Ce.soPhong,danhSachKhachCccd:[l.cccd]}))},Te=await Dh.checkInWalkIn(te);if(Te.statusCode===200){const Ce=v.map(Pe=>Pe.soPhong).join(", ");X.success(`Check-in thành công cho ${l.ho} ${l.ten} vào phòng ${Ce}!`),ve()}else throw new Error(Te.message||"Lỗi khi tạo phiếu thuê")}catch(E){console.error("Error in rental submission:",E),X.error(E.message||"Có lỗi xảy ra khi check-in")}finally{n(!1)}}},Y=async()=>{if(await pe()){n(!0);try{let E=!1;try{E=(await Jr.getCustomerById(l.cccd)).statusCode===200}catch{E=!1}if(!E)throw new Error("Khách hàng chưa tồn tại trong hệ thống. Vui lòng tạo khách hàng mới trước.");const ne=await Jr.updateCustomer(l.cccd,l);if(ne.statusCode!==200)throw new Error(ne.message||"Lỗi khi cập nhật thông tin khách hàng");const je=await a(),te={cccd:l.cccd,ho:l.ho,ten:l.ten,sdt:l.sdt,email:l.email,diaChi:l.diaChi,isNewCustomer:!1,ngayBdThue:d.ngayBdThue,ngayDi:d.ngayDi,idKp:d.idKp,idLp:d.idLp,soLuongPhongO:d.soLuongPhongO,tienDatCoc:parseFloat(d.tienDatCoc),idNv:je,ghiChu:d.ghiChu},Te=await Zs.createBookingAtReception(te);if(Te.statusCode===200)X.success("Đặt phòng thành công!"),ve();else throw new Error(Te.message||"Lỗi khi tạo phiếu đặt")}catch(E){console.error("Error in booking submission:",E),X.error(E.message||"Có lỗi xảy ra khi đặt phòng")}finally{n(!1)}}},q=async()=>{if(se()){n(!0);try{let E=!1;try{E=(await Jr.getCustomerById(l.cccd)).statusCode===200}catch{E=!1}if(E)throw new Error("Khách hàng đã tồn tại trong hệ thống với CCCD này.");const ne=await Jr.createCustomer(l);if(ne.statusCode===200)X.success(`Tạo khách hàng mới thành công cho ${l.ho} ${l.ten}!`),ve();else throw new Error(ne.message||"Lỗi khi tạo khách hàng")}catch(E){console.error("Error in customer creation:",E),X.error(E.message||"Có lỗi xảy ra khi tạo khách hàng")}finally{n(!1)}}},U=async E=>{const ne=u.soLuongPhong||1;v.find(te=>te.soPhong===E.soPhong)?g(te=>te.filter(Te=>Te.soPhong!==E.soPhong)):v.length<ne?g(te=>[...te,E]):(g(te=>[...te.slice(1),E]),X.info(`Đã thay thế phòng cũ. Tối đa ${ne} phòng.`)),w(E);try{const te=await Kt.getRoomDetails(E.soPhong);te.statusCode===200&&C(te.phong)}catch(te){console.error("Error loading room details:",te),X.error("Không thể tải thông tin chi tiết phòng")}},he=E=>{g(ne=>ne.filter(je=>je.soPhong!==E.soPhong))},ve=()=>{o(""),c({cccd:"",ho:"",ten:"",email:"",sdt:"",diaChi:""}),h({ngayDen:new Date().toISOString().split("T")[0],ngayDi:"",soLuongPhong:1}),f({ngayBdThue:"",ngayDi:"",idKp:"",idLp:"",soLuongPhongO:1,tienDatCoc:"",ghiChu:""}),x({roomPrice:0,minDeposit:0,pricePerRoom:0,depositPerRoom:0,numberOfNights:0,totalRoomPrice:0}),w(null),g([]),C(null),b(!1),k({idKp:"",idLp:""})};return s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Walk-in Service"})}),!i&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Chọn dịch vụ"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{onClick:()=>o("booking"),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(pt,{className:"w-8 h-8 text-blue-600 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Đặt phòng"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Đặt phòng trước cho khách hàng đã có trong hệ thống."})]}),s.jsxs("div",{onClick:()=>{o("rental"),b(!0),h(E=>({...E,ngayDen:new Date().toISOString().split("T")[0]}))},className:"p-6 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 cursor-pointer transition-all",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Ql,{className:"w-8 h-8 text-green-600 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Thuê phòng ngay"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Check-in ngay lập tức cho khách hàng đã có trong hệ thống."})]}),s.jsxs("div",{onClick:()=>o("customer"),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ph,{className:"w-8 h-8 text-purple-600 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tạo khách hàng mới"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Tạo hồ sơ khách hàng mới trong hệ thống."})]})]})]}),i&&s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("button",{type:"button",onClick:()=>{o(""),b(!1),w(null)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Quay lại chọn dịch vụ"})}),i==="customer"&&s.jsx("div",{className:"card",children:s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Tạo khách hàng mới"})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ph,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="customer"?"Thông tin khách hàng mới":"Thông tin khách hàng"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Căn cước công dân ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l.cccd,onChange:E=>z(E.target.value),className:"input",placeholder:"Nhập số căn cước công dân",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số điện thoại ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",value:l.sdt,onChange:E=>W("sdt",E.target.value),className:"input",placeholder:"Nhập số điện thoại",required:!0})]}),(i==="booking"||i==="rental")&&l.ho&&s.jsxs("div",{className:"col-span-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-green-800 mb-2",children:"Thông tin khách hàng đã tìm thấy:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Họ tên:"})," ",l.ho," ",l.ten]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",l.email||"Chưa có"]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Địa chỉ:"})," ",l.diaChi||"Chưa có"]})]})]}),i==="customer"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Họ ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l.ho,onChange:E=>W("ho",E.target.value),className:"input",placeholder:"Nhập họ",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tên ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l.ten,onChange:E=>W("ten",E.target.value),className:"input",placeholder:"Nhập tên",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:l.email,onChange:E=>W("email",E.target.value),className:"input",placeholder:"Nhập email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),s.jsx("input",{type:"text",value:l.diaChi,onChange:E=>W("diaChi",E.target.value),className:"input",placeholder:"Nhập địa chỉ"})]})]})]})]}),i==="booking"&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(pt,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin đặt phòng"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày bắt đầu thuê ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:d.ngayBdThue,onChange:E=>G("ngayBdThue",E.target.value),className:"input",min:new Date().toISOString().split("T")[0],required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày kết thúc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:d.ngayDi,onChange:E=>G("ngayDi",E.target.value),className:"input",min:d.ngayBdThue||new Date().toISOString().split("T")[0],required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kiểu phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:d.idKp,onChange:E=>G("idKp",E.target.value),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn kiểu phòng"}),D.map(E=>s.jsxs("option",{value:E.idKp,children:[E.tenKp," - ",E.moTaKp," - ",E.soLuongKhach," khách"]},E.idKp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Loại phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:d.idLp,onChange:E=>G("idLp",E.target.value),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn loại phòng"}),O.map(E=>s.jsxs("option",{value:E.idLp,children:[E.tenLp," - ",E.moTaLp]},E.idLp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số lượng phòng ở ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:d.soLuongPhongO,onChange:E=>G("soLuongPhongO",parseInt(E.target.value)),className:"input",min:"1",max:"10",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tiền đặt cọc ",s.jsx("span",{className:"text-red-500",children:"*"}),m.minDeposit>0&&s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(Tối thiểu: ",m.minDeposit.toLocaleString("vi-VN")," VNĐ)"]})]}),s.jsx("input",{type:"text",value:d.tienDatCoc,onChange:E=>{const ne=E.target.value.replace(/[^\d]/g,"");G("tienDatCoc",ne)},className:"input",style:{MozAppearance:"textfield",WebkitAppearance:"none",margin:0},placeholder:m.minDeposit>0?`Tối thiểu ${m.minDeposit.toLocaleString("vi-VN")} VNĐ`:"Nhập số tiền đặt cọc",required:!0}),m.pricePerRoom>0&&s.jsxs("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[s.jsxs("p",{children:["Giá phòng: ",m.pricePerRoom.toLocaleString("vi-VN")," VNĐ/đêm/phòng"]}),m.numberOfNights>0&&s.jsxs("p",{children:["Số đêm: ",m.numberOfNights," đêm"]}),d.soLuongPhongO>1&&s.jsxs("p",{children:["Tổng giá (",d.soLuongPhongO," phòng): ",(m.pricePerRoom*d.soLuongPhongO).toLocaleString("vi-VN")," VNĐ/đêm"]}),m.totalRoomPrice>0&&s.jsxs("p",{className:"font-medium text-gray-800",children:["Tổng tiền phòng: ",m.totalRoomPrice.toLocaleString("vi-VN")," VNĐ",m.numberOfNights>1&&d.soLuongPhongO>1&&s.jsxs("span",{className:"text-xs text-gray-500",children:[" (",m.pricePerRoom.toLocaleString("vi-VN")," × ",m.numberOfNights," đêm × ",d.soLuongPhongO," phòng)"]})]}),s.jsxs("p",{className:"text-blue-600 font-medium",children:["Tiền cọc tối thiểu (20%): ",m.minDeposit.toLocaleString("vi-VN")," VNĐ"]})]})]})]})]}),i==="rental"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Ql,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin thuê phòng"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-in ",s.jsx("span",{className:"text-red-500",children:"*"}),s.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Tự động: Hôm nay)"})]}),s.jsx("input",{type:"date",value:u.ngayDen,readOnly:!0,disabled:!0,className:"input bg-gray-100 cursor-not-allowed text-gray-600",title:"Ngày check-in được khóa cứng là hôm nay cho thuê phòng ngay"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Thuê phòng ngay luôn check-in vào ngày hôm nay"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-out ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:u.ngayDi,onChange:E=>ue("ngayDi",E.target.value),className:"input",min:u.ngayDen,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số lượng phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:u.soLuongPhong,onChange:E=>ue("soLuongPhong",parseInt(E.target.value)||1),className:"input",min:"1",max:"10",required:!0})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lọc phòng"}),!y&&s.jsxs("button",{onClick:()=>b(!0),className:"btn-primary",children:[s.jsx(_r,{className:"w-4 h-4 mr-2"}),"Chọn phòng"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:T.idKp,onChange:E=>K("idKp",E.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả kiểu phòng"}),D.map(E=>s.jsxs("option",{value:E.idKp,children:[E.tenKp," - ",E.moTaKp]},E.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:T.idLp,onChange:E=>K("idLp",E.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả loại phòng"}),O.map(E=>s.jsxs("option",{value:E.idLp,children:[E.tenLp," - ",E.moTaLp]},E.idLp))]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(_r,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chọn phòng"})]}),y&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sơ đồ phòng - Chọn ",u.soLuongPhong," phòng"]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(pn,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"border rounded-lg p-4",children:s.jsx(H2,{onRoomSelect:U,selectedRoom:p,selectedRooms:v,checkInDate:u.ngayDen,checkOutDate:u.ngayDi,filters:T,maxRooms:u.soLuongPhong,multiSelect:!0})})]})]})]}),v.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Phòng đã chọn (",v.length,"/",u.soLuongPhong,")"]}),s.jsxs("button",{onClick:()=>g([]),className:"btn-outline px-3",children:[s.jsx(pn,{className:"w-4 h-4 mr-1"}),"Xóa tất cả"]})]}),s.jsxs("div",{className:"space-y-3",children:[v.map(E=>{var ne;return s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phòng:"})," ",E.soPhong]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tầng:"})," ",E.tang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Kiểu phòng:"})," ",E.tenKp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại phòng:"})," ",E.tenLp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giá:"})," ",(ne=E.gia)==null?void 0:ne.toLocaleString("vi-VN")," VNĐ/đêm"]})]}),s.jsx("button",{onClick:()=>he(E),className:"text-red-500 hover:text-red-700",children:s.jsx(pn,{className:"w-4 h-4"})})]})},E.soPhong)}),s.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:s.jsxs("div",{className:"flex justify-between font-medium text-sm",children:[s.jsx("span",{children:"Tổng tiền phòng/đêm:"}),s.jsxs("span",{children:[v.reduce((E,ne)=>E+(ne.gia||0),0).toLocaleString("vi-VN")," VNĐ"]})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsxs("button",{type:"button",onClick:ve,className:"btn-outline",disabled:t,children:[s.jsx(pn,{className:"w-4 h-4 mr-2"}),"Đặt lại"]}),s.jsxs("button",{type:"submit",className:"btn-primary",disabled:t,children:[t?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(kp,{className:"w-4 h-4 mr-2"}),i==="booking"?"Đặt phòng":i==="rental"?"Check-in":"Tạo khách hàng"]})]})]})]})},kA=()=>{const[e,t]=N.useState([]),[n,r]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(12),[u,h]=N.useState({kieuPhong:"",loaiPhong:"",status:"",floor:""}),[d,f]=N.useState(!1),[m,x]=N.useState(!1),[p,w]=N.useState(!1),[v,g]=N.useState(null),[y,b]=N.useState({soPhong:"",tang:"",hangPhong:{idHp:""},trangThai:{idTt:""}}),[j,C]=N.useState([]),[T,k]=N.useState([]),[D,H]=N.useState([]),[O]=N.useState([{id:"TT001",name:"Trống"},{id:"TT002",name:"Đã có khách"},{id:"TT003",name:"Đang dọn dẹp"},{id:"TT004",name:"Đang bảo trì"},{id:"TT005",name:"Đã đặt"}]);N.useEffect(()=>{B(),W(),ue(),G()},[]),N.useEffect(()=>{I()},[e,u]);const B=async()=>{try{i(!0);const E=await Kt.getAllRooms();E.statusCode===200?t(E.phongList||[]):X.error("Không thể tải danh sách phòng")}catch(E){console.error("Error fetching rooms:",E),X.error("Có lỗi xảy ra khi tải danh sách phòng")}finally{i(!1)}},W=async()=>{var E;try{const ne=await Kt.getAllRooms();if(ne.statusCode===200){const je=[],te=new Set;(E=ne.phongList)==null||E.forEach(Te=>{Te.idHangPhong&&!te.has(Te.idHangPhong)&&(te.add(Te.idHangPhong),je.push({idHp:Te.idHangPhong,tenHp:`#${Te.idHangPhong}`}))}),C(je)}}catch(ne){console.error("Error fetching room types:",ne)}},ue=async()=>{try{const E=await Kt.getAllRoomTypes();E.statusCode===200&&k(E.kieuPhongList||[])}catch(E){console.error("Error fetching kieu phong:",E)}},G=async()=>{try{const E=await Kt.getAllRoomCategories();E.statusCode===200&&H(E.loaiPhongList||[])}catch(E){console.error("Error fetching loai phong:",E)}},I=()=>{let E=e;u.kieuPhong&&(E=E.filter(ne=>ne.tenKp===u.kieuPhong)),u.loaiPhong&&(E=E.filter(ne=>ne.tenLp===u.loaiPhong)),u.status&&(E=E.filter(ne=>ne.idTt===u.status)),u.floor&&(E=E.filter(ne=>ne.tang.toString()===u.floor)),r(E),l(1)},K=(E,ne)=>{h(je=>({...je,[E]:ne}))},se=async E=>{E.preventDefault();try{const ne={soPhong:v.soPhong,tang:v.tang,idKieuPhong:v.idKieuPhong,idLoaiPhong:v.idLoaiPhong},je=await Kt.updateRoomTypeAndCategory(v.soPhong,ne);je.statusCode===200?(y.trangThai.idTt&&y.trangThai.idTt!==v.idTt&&await Kt.updateRoomStatus(v.soPhong,y.trangThai.idTt),X.success("Cập nhật phòng thành công!"),x(!1),g(null),B()):X.error(je.message||"Có lỗi xảy ra khi cập nhật phòng")}catch(ne){console.error("Error updating room:",ne),X.error("Có lỗi xảy ra khi cập nhật phòng")}},z=E=>{g({...E,idKieuPhong:E.idKp||"",idLoaiPhong:E.idLp||"",idTrangThai:E.idTt||""}),b({soPhong:E.soPhong,tang:E.tang,hangPhong:{idHp:E.idHangPhong},trangThai:{idTt:E.idTt}}),x(!0)},J=E=>{g(E),w(!0)},pe=()=>{b({soPhong:"",tang:"",hangPhong:{idHp:""},trangThai:{idTt:""}})},P=E=>{switch(E){case"Trống":return s.jsx(In,{className:"w-4 h-4 text-green-500"});case"Đã có khách":return s.jsx(vo,{className:"w-4 h-4 text-red-500"});case"Đang bảo trì":return s.jsx(xh,{className:"w-4 h-4 text-orange-500"});case"Đang dọn dẹp":return s.jsx(gn,{className:"w-4 h-4 text-blue-500"});default:return s.jsx(us,{className:"w-4 h-4 text-gray-500"})}},ee=E=>{switch(E){case"Trống":return"bg-green-100 text-green-800";case"Đã có khách":return"bg-red-100 text-red-800";case"Đang bảo trì":return"bg-orange-100 text-orange-800";case"Đang dọn dẹp":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Y=o*c,q=Y-c,U=n.slice(q,Y),he=Math.ceil(n.length/c),ve=[...new Set(e.map(E=>E.tang))].sort((E,ne)=>E-ne);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý thông tin phòng khách sạn"})]})}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Lo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bộ lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:u.kieuPhong,onChange:E=>K("kieuPhong",E.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả kiểu phòng"}),T.map(E=>s.jsx("option",{value:E.tenKp,children:E.tenKp},E.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:u.loaiPhong,onChange:E=>K("loaiPhong",E.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả loại phòng"}),D.map(E=>s.jsx("option",{value:E.tenLp,children:E.tenLp},E.idLp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:E=>K("status",E.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả trạng thái"}),O.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsxs("select",{value:u.floor,onChange:E=>K("floor",E.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả tầng"}),ve.map(E=>s.jsxs("option",{value:E,children:["Tầng ",E]},E))]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx("button",{onClick:()=>h({kieuPhong:"",loaiPhong:"",status:"",floor:""}),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Xóa bộ lọc"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:U.map(E=>s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(mr,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Phòng ",E.soPhong]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>J(E),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Xem chi tiết",children:s.jsx(Hn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(E),className:"p-1 text-yellow-600 hover:bg-yellow-50 rounded",title:"Chỉnh sửa",children:s.jsx(Dr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tầng:"}),s.jsxs("span",{className:"text-sm font-medium",children:["Tầng ",E.tang]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Kiểu phòng:"}),s.jsx("span",{className:"text-sm font-medium",children:E.tenKp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Loại phòng:"}),s.jsx("span",{className:"text-sm font-medium",children:E.tenLp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trạng thái:"}),s.jsxs("div",{className:"flex items-center",children:[P(E.tenTrangThai),s.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs font-medium ${ee(E.tenTrangThai)}`,children:E.tenTrangThai||"N/A"})]})]}),E.giaPhong&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Giá:"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(E.giaPhong)})]})]})]},E.soPhong))}),n.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy phòng nào"}),s.jsx("p",{className:"text-gray-600",children:"Thử thay đổi bộ lọc"})]}),he>1&&s.jsx(Fa,{itemsPerPage:c,totalItems:n.length,currentPage:o,paginate:l}),m&&v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Chỉnh sửa phòng"}),s.jsxs("form",{onSubmit:se,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số phòng"}),s.jsx("input",{type:"text",value:y.soPhong,className:"input bg-gray-100",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsx("input",{type:"number",value:y.tang,className:"input bg-gray-100",disabled:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kiểu phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:(v==null?void 0:v.idKieuPhong)||"",onChange:E=>g({...v,idKieuPhong:E.target.value}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn kiểu phòng"}),T.map(E=>s.jsx("option",{value:E.idKp,children:E.tenKp},E.idKp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Loại phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:(v==null?void 0:v.idLoaiPhong)||"",onChange:E=>g({...v,idLoaiPhong:E.target.value}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn loại phòng"}),D.map(E=>s.jsx("option",{value:E.idLp,children:E.tenLp},E.idLp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Trạng thái ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:y.trangThai.idTt,onChange:E=>b({...y,trangThai:{idTt:E.target.value}}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn trạng thái"}),O.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{x(!1),g(null),pe()},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Cập nhật"})]})]})]})}),p&&v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Chi tiết phòng"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Số phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:v.soPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Tầng:"}),s.jsxs("span",{className:"text-sm text-gray-900",children:["Tầng ",v.tang]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Hạng phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:v.idHangPhong?`#${v.idHangPhong}`:"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Kiểu phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:v.tenKp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Loại phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:v.tenLp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Trạng thái:"}),s.jsxs("div",{className:"flex items-center",children:[P(v.tenTrangThai),s.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs font-medium ${ee(v.tenTrangThai)}`,children:v.tenTrangThai||"N/A"})]})]}),v.giaPhong&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Giá phòng:"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v.giaPhong)})]}),v.soLuongKhachO&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Sức chứa:"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[v.soLuongKhachO," người"]})]})]}),s.jsx("div",{className:"flex justify-end pt-6",children:s.jsx("button",{onClick:()=>{w(!1),g(null)},className:"btn-outline",children:"Đóng"})})]})})]})},Pt={getAllDichVu:async()=>{try{return(await V.get("/api/services/dich-vu")).data}catch(e){throw console.error("Error getting all services:",e),e}},getAllPhuThu:async()=>{try{return(await V.get("/api/services/phu-thu")).data}catch(e){throw console.error("Error getting all surcharges:",e),e}},createDichVu:async e=>{try{return(await V.post("/api/services/dich-vu",e)).data}catch(t){throw console.error("Error creating service:",t),t}},getAllServiceUsage:async()=>{try{return(await V.get("/api/service-management/services/all")).data}catch(e){throw console.error("Error getting all service usage:",e),e}},getCurrentActiveServices:async()=>{try{return(await V.get("/api/service-management/services/current-active")).data}catch(e){throw console.error("Error getting current active services:",e),e}},getServiceUsageByRoom:async e=>{try{return(await V.get(`/api/service-management/services/by-room/${e}`)).data}catch(t){throw console.error("Error getting service usage by room:",t),t}},getServiceUsageByCustomer:async e=>{try{return(await V.get(`/api/service-management/services/by-customer/${e}`)).data}catch(t){throw console.error("Error getting service usage by customer:",t),t}},getAllSurchargeUsage:async()=>{try{return(await V.get("/api/service-management/surcharges/all")).data}catch(e){throw console.error("Error getting all surcharge usage:",e),e}},getCurrentActiveSurcharges:async()=>{try{return(await V.get("/api/service-management/surcharges/current-active")).data}catch(e){throw console.error("Error getting current active surcharges:",e),e}},getSurchargeUsageByRoom:async e=>{try{return(await V.get(`/api/service-management/surcharges/by-room/${e}`)).data}catch(t){throw console.error("Error getting surcharge usage by room:",t),t}},getSurchargeUsageByCustomer:async e=>{try{return(await V.get(`/api/service-management/surcharges/by-customer/${e}`)).data}catch(t){throw console.error("Error getting surcharge usage by customer:",t),t}},getServiceAndSurchargeReport:async()=>{try{return(await V.get("/api/service-management/report")).data}catch(e){throw console.error("Error getting service and surcharge report:",e),e}},getCurrentActiveBookingsWithServices:async()=>{try{return(await V.get("/api/service-management/current-bookings-with-services")).data}catch(e){throw console.error("Error getting current bookings with services:",e),e}},getRevenueByServiceAndSurcharge:async()=>{try{return(await V.get("/api/service-management/revenue")).data}catch(e){throw console.error("Error getting revenue by service and surcharge:",e),e}},getDashboardData:async()=>{try{return(await V.get("/api/service-management/dashboard")).data}catch(e){throw console.error("Error getting dashboard data:",e),e}},addServiceToBooking:async(e,t,n)=>{try{return(await V.post("/api/service-management/add-service",null,{params:{idCtPt:e,idDv:t,soLuong:n}})).data}catch(r){throw console.error("Error adding service to booking:",r),r}},addSurchargeToBooking:async(e,t,n)=>{try{return(await V.post("/api/service-management/add-surcharge",null,{params:{idCtPt:e,idPhuThu:t,soLuong:n}})).data}catch(r){throw console.error("Error adding surcharge to booking:",r),r}},updateServicePaymentStatus:async(e,t,n)=>{try{return(await V.put("/api/service-management/update-service-payment",null,{params:{idCtPt:e,idDv:t,newStatus:n}})).data}catch(r){throw console.error("Error updating service payment status:",r),r}},updateSurchargePaymentStatus:async(e,t,n)=>{try{return(await V.put("/api/service-management/update-surcharge-payment",null,{params:{idPhuThu:e,idCtPt:t,newStatus:n}})).data}catch(r){throw console.error("Error updating surcharge payment status:",r),r}},updateRoomPaymentStatus:async(e,t)=>{try{return(await V.put("/api/service-management/update-room-payment",null,{params:{idCtPt:e,newStatus:t}})).data}catch(n){throw console.error("Error updating room payment status:",n),n}},deleteServiceFromBooking:async(e,t)=>{try{return(await V.delete("/api/service-management/delete-service",{params:{idCtPt:e,idDv:t}})).data}catch(n){throw console.error("Error deleting service from booking:",n),n}},deleteSurchargeFromBooking:async(e,t)=>{try{return(await V.delete("/api/service-management/delete-surcharge",{params:{idPhuThu:e,idCtPt:t}})).data}catch(n){throw console.error("Error deleting surcharge from booking:",n),n}},createPhuThu:async e=>{try{return(await V.post("/api/services/phu-thu",e)).data}catch(t){throw console.error("Error creating surcharge:",t),t}},updateDichVu:async(e,t)=>{try{return(await V.put(`/api/services/dich-vu/${e}`,t)).data}catch(n){throw console.error("Error updating service:",n),n}},updatePhuThu:async(e,t)=>{try{return(await V.put(`/api/services/phu-thu/${e}`,t)).data}catch(n){throw console.error("Error updating surcharge:",n),n}},deleteDichVu:async e=>{try{return(await V.delete(`/api/services/dich-vu/${e}`)).data}catch(t){throw console.error("Error deleting service:",t),t}},deletePhuThu:async e=>{try{return(await V.delete(`/api/services/phu-thu/${e}`)).data}catch(t){throw console.error("Error deleting surcharge:",t),t}},updateServicePrice:async(e,t)=>{try{return(await V.put(`/api/services/dich-vu/${e}/price`,{price:t})).data}catch(n){throw console.error("Error updating service price:",n),n}},updateSurchargePrice:async(e,t)=>{try{return(await V.put(`/api/services/phu-thu/${e}/price`,{price:t})).data}catch(n){throw console.error("Error updating surcharge price:",n),n}}},SA=()=>{const[e,t]=N.useState("services"),[n,r]=N.useState(!1),[a,i]=N.useState(""),[o,l]=N.useState(null),[c,u]=N.useState(!1),[h,d]=N.useState([]),[f,m]=N.useState([]),[x,p]=N.useState([]),[w,v]=N.useState({totalAvailableServices:0,totalAvailableSurcharges:0,totalOccupiedRooms:0,totalRevenue:0}),[g,y]=N.useState({idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}),[b,j]=N.useState(!1),[C,T]=N.useState(!1),[k,D]=N.useState(null),[H,O]=N.useState({idDv:"",soLuong:1}),[B,W]=N.useState({idPhuThu:"",soLuong:1}),[ue,G]=N.useState(!1),[I,K]=N.useState(null),[se,z]=N.useState(1),J=8;N.useEffect(()=>{he()},[]);const pe=(Z,we,Re)=>{const Ke=(we-1)*Re,ze=Ke+Re;return Z.slice(Ke,ze)},P=(Z,we)=>Math.ceil(Z/we),ee=(Z,we)=>{const Re=[];let ze=Math.max(1,Z-Math.floor(2.5)),gt=Math.min(we,ze+5-1);gt-ze+1<5&&(ze=Math.max(1,gt-5+1));for(let on=ze;on<=gt;on++)Re.push(on);return Re},Y=async(Z,we)=>await Pt.updateServicePrice(Z,we),q=async(Z,we)=>await Pt.updateSurchargePrice(Z,we),U=({currentPage:Z,totalPages:we,onPageChange:Re,className:Ke=""})=>{if(we<=1)return null;const ze=ee(Z,we);return s.jsxs("div",{className:`flex items-center justify-center space-x-1 mt-4 ${Ke}`,children:[s.jsx("button",{onClick:()=>Re(Z-1),disabled:Z===1,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),ze.map(gt=>s.jsx("button",{onClick:()=>Re(gt),className:`px-3 py-1 text-sm border rounded-md ${Z===gt?"bg-blue-500 text-white border-blue-500":"hover:bg-gray-50"}`,children:gt},gt)),s.jsx("button",{onClick:()=>Re(Z+1),disabled:Z===we,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})},he=async()=>{var Z,we,Re;u(!0);try{const[Ke,ze,gt]=await Promise.all([Pt.getDashboardData(),Pt.getAllDichVu(),Pt.getAllPhuThu()]);if(ze.statusCode===200&&d(ze.dichVuList||[]),gt.statusCode===200&&m(gt.phuThuList||[]),Ke.statusCode===200){p(Ke.ctPhieuThueList||[]);const on=((Z=ze.dichVuList)==null?void 0:Z.length)||0,nr=((we=gt.phuThuList)==null?void 0:we.length)||0,Vd=((Re=Ke.ctPhieuThueList)==null?void 0:Re.length)||0;v({totalAvailableServices:on,totalAvailableSurcharges:nr,totalOccupiedRooms:Vd})}}catch(Ke){console.error("Error fetching data:",Ke),X.error("Lỗi khi tải dữ liệu")}finally{u(!1)}},ve=Z=>{l(Z),i("view"),r(!0)},E=Z=>{l(Z),y({idDv:Z.idDv,tenDv:Z.tenDv,donViTinh:Z.donViTinh,gia:Z.donGia}),i("edit"),r(!0)},ne=()=>{l(null),y(e==="services"?{idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}:{idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}),i("add"),r(!0)},je=async Z=>{if(e==="services"){if(window.confirm(`Bạn có chắc chắn muốn xóa dịch vụ "${Z.tenDv}"?`))try{const we=await Pt.deleteDichVu(Z.idDv);we.statusCode===200?(d(h.filter(Re=>Re.idDv!==Z.idDv)),X.success("Xóa dịch vụ thành công!")):X.error(we.message||"Lỗi khi xóa dịch vụ")}catch(we){console.error("Error deleting service:",we),X.error("Lỗi khi xóa dịch vụ")}}else if(window.confirm(`Bạn có chắc chắn muốn xóa phụ thu "${Z.tenPhuThu}"?`))try{const we=await Pt.deletePhuThu(Z.idPhuThu);we.statusCode===200?(m(f.filter(Re=>Re.idPhuThu!==Z.idPhuThu)),X.success("Xóa phụ thu thành công!")):X.error(we.message||"Lỗi khi xóa phụ thu")}catch(we){console.error("Error deleting surcharge:",we),X.error("Lỗi khi xóa phụ thu")}},te=Z=>{D(Z),O({idDv:"",soLuong:1}),j(!0)},Te=Z=>{D(Z),W({idPhuThu:"",soLuong:1}),T(!0)},Ce=async Z=>{Z.preventDefault();try{if(!H.idDv||H.soLuong<=0){X.error("Vui lòng chọn dịch vụ và nhập số lượng hợp lệ");return}const we=await Pt.addServiceToBooking(k.idCtPt,H.idDv,H.soLuong);we.statusCode===200?(X.success("Thêm dịch vụ thành công!"),j(!1),D(null),he()):X.error(we.message||"Có lỗi xảy ra khi thêm dịch vụ")}catch(we){console.error("Error adding service:",we),X.error("Có lỗi xảy ra khi thêm dịch vụ")}},Pe=async Z=>{Z.preventDefault();try{if(!B.idPhuThu||B.soLuong<=0){X.error("Vui lòng chọn phụ thu và nhập số lượng hợp lệ");return}const we=await Pt.addSurchargeToBooking(k.idCtPt,B.idPhuThu,B.soLuong);we.statusCode===200?(X.success("Thêm phụ thu thành công!"),T(!1),D(null),he()):X.error(we.message||"Có lỗi xảy ra khi thêm phụ thu")}catch(we){console.error("Error adding surcharge:",we),X.error("Có lỗi xảy ra khi thêm phụ thu")}},Be=Z=>{K(Z),G(!0)},oe=async(Z,we)=>{if(window.confirm("Bạn có chắc chắn muốn xóa dịch vụ này?"))try{const Re=await Pt.deleteServiceFromBooking(Z,we);if(Re.statusCode===200){if(X.success("Xóa dịch vụ thành công!"),I&&I.danhSachDichVu){const Ke={...I,danhSachDichVu:I.danhSachDichVu.filter(ze=>!(ze.idCtPt===Z&&ze.idDv===we))};K(Ke)}he()}else X.error(Re.message||"Có lỗi xảy ra khi xóa dịch vụ")}catch(Re){console.error("Error deleting service:",Re),X.error("Có lỗi xảy ra khi xóa dịch vụ")}},Ue=async(Z,we)=>{if(window.confirm("Bạn có chắc chắn muốn xóa phụ thu này?"))try{const Re=await Pt.deleteSurchargeFromBooking(Z,we);if(Re.statusCode===200){if(X.success("Xóa phụ thu thành công!"),I&&I.danhSachPhuThu){const Ke={...I,danhSachPhuThu:I.danhSachPhuThu.filter(ze=>!(ze.idPhuThu===Z&&ze.idCtPt===we))};K(Ke)}he()}else X.error(Re.message||"Có lỗi xảy ra khi xóa phụ thu")}catch(Re){console.error("Error deleting surcharge:",Re),X.error("Có lỗi xảy ra khi xóa phụ thu")}},Q=async(Z,we,Re,Ke=null,ze=null)=>{try{let gt;if(Z==="service"?gt=await Pt.updateServicePaymentStatus(we,Ke,Re):Z==="surcharge"?gt=await Pt.updateSurchargePaymentStatus(ze,we,Re):Z==="room"&&(gt=await Pt.updateRoomPaymentStatus(we,Re)),gt&&gt.statusCode===200){if(X.success("Cập nhật trạng thái thanh toán thành công!"),I){const on={...I};Z==="service"&&on.danhSachDichVu?on.danhSachDichVu=on.danhSachDichVu.map(nr=>nr.idCtPt===we&&nr.idDv===Ke?{...nr,ttThanhToan:Re}:nr):Z==="surcharge"&&on.danhSachPhuThu?on.danhSachPhuThu=on.danhSachPhuThu.map(nr=>nr.idPhuThu===ze&&nr.idCtPt===we?{...nr,ttThanhToan:Re}:nr):Z==="room"&&(on.ttThanhToan=Re),K(on)}he()}else X.error((gt==null?void 0:gt.message)||"Có lỗi xảy ra khi cập nhật trạng thái thanh toán")}catch(gt){console.error("Error updating payment status:",gt),X.error("Có lỗi xảy ra khi cập nhật trạng thái thanh toán")}},ge=Z=>{let we=0;return Z.danhSachDichVu&&Z.danhSachDichVu.forEach(Re=>{Re.ttThanhToan!=="Đã thanh toán"&&(we+=(Re.donGia||0)*(Re.soLuong||0))}),Z.danhSachPhuThu&&Z.danhSachPhuThu.forEach(Re=>{Re.ttThanhToan!=="Đã thanh toán"&&(we+=(Re.donGia||0)*(Re.soLuong||0))}),we},ye=Z=>{if(!Z.ngayDen||!Z.ngayDi||!Z.donGia)return 0;const we=new Date(Z.ngayDen),Re=new Date(Z.ngayDi),Ke=Math.ceil((Re-we)/(1e3*60*60*24));return Z.donGia*Math.max(1,Ke)},Oe=Z=>{l(Z),i("view"),r(!0)},Ve=Z=>{l(Z),y({idDv:"",tenDv:"",donViTinh:"",gia:Z.gia,idPhuThu:Z.idPhuThu,tenPhuThu:Z.tenPhuThu}),i("edit"),r(!0)},Ye=async Z=>{if(Z.preventDefault(),e==="services"){if(a==="add")try{const we={idDv:g.idDv,tenDv:g.tenDv,donViTinh:g.donViTinh},Re=await Pt.createDichVu(we);if(Re.statusCode===200&&g.gia&&parseFloat(g.gia)>0)try{await Y(g.idDv,parseFloat(g.gia))}catch(Ke){console.error("Error updating price:",Ke)}if(Re.statusCode===200){const Ke=await Pt.getAllDichVu();Ke.statusCode===200&&d(Ke.dichVuList||[]),X.success("Thêm dịch vụ thành công!")}else{X.error(Re.message||"Lỗi khi thêm dịch vụ");return}}catch(we){console.error("Error creating service:",we),X.error("Lỗi khi thêm dịch vụ");return}else if(a==="edit")try{const we=go.getCurrentUser(),Re={idDv:g.idDv,tenDv:g.tenDv,donViTinh:g.donViTinh,gia:g.gia,idNv:(we==null?void 0:we.idNv)||(we==null?void 0:we.id)||null},Ke=await Pt.updateDichVu(o.idDv,Re);if(Ke.statusCode===200){const ze=await Pt.getAllDichVu();ze.statusCode===200&&d(ze.dichVuList||[]),X.success("Cập nhật dịch vụ thành công!")}else{X.error(Ke.message||"Lỗi khi cập nhật dịch vụ");return}}catch(we){console.error("Error updating service:",we),X.error("Lỗi khi cập nhật dịch vụ");return}}else if(a==="add")try{const we={idPhuThu:g.idPhuThu,tenPhuThu:g.tenPhuThu},Re=await Pt.createPhuThu(we);if(Re.statusCode===200&&g.gia&&parseFloat(g.gia)>0)try{await q(g.idPhuThu,parseFloat(g.gia))}catch(Ke){console.error("Error updating price:",Ke)}if(Re.statusCode===200){const Ke=await Pt.getAllPhuThu();Ke.statusCode===200&&m(Ke.phuThuList||[]),X.success("Thêm phụ thu thành công!")}else{X.error(Re.message||"Lỗi khi thêm phụ thu");return}}catch(we){console.error("Error creating surcharge:",we),X.error("Lỗi khi thêm phụ thu");return}else if(a==="edit")try{const we=go.getCurrentUser(),Re={idPhuThu:g.idPhuThu,tenPhuThu:g.tenPhuThu,gia:g.gia,idNv:(we==null?void 0:we.idNv)||(we==null?void 0:we.id)||null},Ke=await Pt.updatePhuThu(o.idPhuThu,Re);if(Ke.statusCode===200){const ze=await Pt.getAllPhuThu();ze.statusCode===200&&m(ze.phuThuList||[]),X.success("Cập nhật phụ thu thành công!")}else{X.error(Ke.message||"Lỗi khi cập nhật phụ thu");return}}catch(we){console.error("Error updating surcharge:",we),X.error("Lỗi khi cập nhật phụ thu");return}r(!1),Je()},Je=()=>{y({idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}),l(null)},xt=Z=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Z||0),Ht=Z=>Z?new Date(Z).toLocaleDateString("vi-VN"):"N/A",bn=({title:Z,value:we,icon:Re,color:Ke})=>s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-full ${Ke} mr-4`,children:s.jsx(Re,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:Z}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:we})]})]})});return c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Quản lý Dịch vụ & Phụ thu"}),s.jsx("p",{className:"text-gray-600",children:"Theo dõi việc sử dụng dịch vụ và phụ thu của các phiếu thuê đang hoạt động"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(bn,{title:"Dịch vụ khả dụng",value:w.totalAvailableServices,icon:mn,color:"bg-blue-500"}),s.jsx(bn,{title:"Phụ thu khả dụng",value:w.totalAvailableSurcharges,icon:Bn,color:"bg-green-500"}),s.jsx(bn,{title:"Phòng đang được sử dụng",value:w.totalOccupiedRooms,icon:mr,color:"bg-purple-500"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex",children:[s.jsx("button",{onClick:()=>t("services"),className:`py-4 px-6 text-sm font-medium border-b-2 ${e==="services"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dịch vụ"}),s.jsx("button",{onClick:()=>t("surcharges"),className:`py-4 px-6 text-sm font-medium border-b-2 ${e==="surcharges"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Phụ thu"})]})}),s.jsxs("div",{className:"p-6",children:[e==="services"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Danh sách Dịch vụ"}),s.jsxs("button",{onClick:ne,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Bn,{className:"w-4 h-4"}),"Thêm dịch vụ"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã dịch vụ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên dịch vụ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Đơn vị tính"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá hiện tại"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(Z=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Z.idDv}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.tenDv}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.donViTinh}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:Z.giaHienTai?xt(Z.giaHienTai):"Chưa có giá"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.ngayApDungGia?Ht(Z.ngayApDungGia):"Chưa có"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>ve(Z),className:"text-blue-600 hover:text-blue-900 p-1",title:"Xem chi tiết",children:s.jsx(Hn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(Z),className:"text-green-600 hover:text-green-900 p-1",title:"Chỉnh sửa",children:s.jsx(Dr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>je(Z),className:"text-red-600 hover:text-red-900 p-1",title:"Xóa",children:s.jsx(Ls,{className:"w-4 h-4"})})]})})]},Z.idDv))})]})})]}),e==="surcharges"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Danh sách Phụ thu"}),s.jsxs("button",{onClick:ne,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Bn,{className:"w-4 h-4"}),"Thêm phụ thu"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá hiện tại"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(Z=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Z.idPhuThu}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.tenPhuThu}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:Z.giaHienTai?xt(Z.giaHienTai):"Chưa có giá"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.ngayApDungGia?Ht(Z.ngayApDungGia):"Chưa có"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>Oe(Z),className:"text-blue-600 hover:text-blue-900 p-1",title:"Xem chi tiết",children:s.jsx(Hn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ve(Z),className:"text-green-600 hover:text-green-900 p-1",title:"Chỉnh sửa",children:s.jsx(Dr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>je(Z),className:"text-red-600 hover:text-red-900 p-1",title:"Xóa",children:s.jsx(Ls,{className:"w-4 h-4"})})]})})]},Z.idPhuThu))})]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Phòng đang được sử dụng"})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.length>0?pe(x,se,J).map(Z=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Phòng ",Z.soPhong]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Tầng ",Z.tang]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z.ttThanhToan==="Đã thanh toán"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Z.ttThanhToan})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:Z.tenKieuPhong}),s.jsx("p",{className:"text-sm text-gray-500",children:Z.tenLoaiPhong})]})]}),s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Phiếu thuê:"}),s.jsxs("span",{className:"font-medium",children:["#",Z.idPt]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Khách hàng:"}),s.jsx("span",{className:"font-medium",children:Z.tenKhachHang})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Check-in:"}),s.jsx("span",{className:"font-medium",children:Ht(Z.ngayDen)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Check-out dự kiến:"}),s.jsx("span",{className:"font-medium",children:Ht(Z.ngayDi)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Tổng tiền:"}),s.jsx("span",{className:"font-bold text-blue-600",children:xt(ge(Z))})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>te(Z),className:"bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"+ Dịch vụ"}),s.jsx("button",{onClick:()=>Te(Z),className:"bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"+ Phụ thu"})]}),s.jsx("button",{onClick:()=>Be(Z),className:"w-full mt-2 bg-orange-600 text-white px-3 py-2 rounded text-sm hover:bg-orange-700 transition-colors",children:"Xem tình trạng phòng"})]})]},Z.idCtPt)):s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(mr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Không có phòng nào đang được sử dụng"})]})}),x.length>0&&s.jsx(U,{currentPage:se,totalPages:P(x.length,J),onPageChange:z,className:"mt-6"})]})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[a==="view"&&(e==="services"?"Chi tiết dịch vụ":"Chi tiết phụ thu"),a==="add"&&(e==="services"?"Thêm dịch vụ mới":"Thêm phụ thu mới"),a==="edit"&&(e==="services"?"Chỉnh sửa dịch vụ":"Chỉnh sửa phụ thu")]}),a==="view"?s.jsxs("div",{className:"space-y-3",children:[e==="services"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã dịch vụ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.idDv})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên dịch vụ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.tenDv})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Đơn vị tính"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.donViTinh})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá hiện tại"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:o!=null&&o.giaHienTai?xt(o.giaHienTai):"Chưa có giá"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày áp dụng"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o!=null&&o.ngayApDungGia?Ht(o.ngayApDungGia):"Chưa có"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã phụ thu"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.idPhuThu})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên phụ thu"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.tenPhuThu})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá hiện tại"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:o!=null&&o.giaHienTai?xt(o.giaHienTai):"Chưa có giá"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày áp dụng"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o!=null&&o.ngayApDungGia?Ht(o.ngayApDungGia):"Chưa có"})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Đóng"})})]}):s.jsxs("form",{onSubmit:Ye,className:"space-y-4",children:[e==="services"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mã dịch vụ"}),s.jsx("input",{type:"text",value:g.idDv,onChange:Z=>y({...g,idDv:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:a==="edit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên dịch vụ"}),s.jsx("input",{type:"text",value:g.tenDv,onChange:Z=>y({...g,tenDv:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Đơn vị tính"}),s.jsx("input",{type:"text",value:g.donViTinh,onChange:Z=>y({...g,donViTinh:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giá dịch vụ (VND)"}),s.jsx("input",{type:"number",value:g.gia,onChange:Z=>y({...g,gia:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mã phụ thu"}),s.jsx("input",{type:"text",value:g.idPhuThu,onChange:Z=>y({...g,idPhuThu:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:a==="edit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên phụ thu"}),s.jsx("input",{type:"text",value:g.tenPhuThu,onChange:Z=>y({...g,tenPhuThu:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giá phụ thu (VND)"}),s.jsx("input",{type:"number",value:g.gia,onChange:Z=>y({...g,gia:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Hủy"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:a==="add"?"Thêm mới":"Cập nhật"})]})]})]})})}),b&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Thêm dịch vụ cho phòng ",k==null?void 0:k.soPhong]}),s.jsxs("form",{onSubmit:Ce,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dịch vụ"}),s.jsxs("select",{value:H.idDv,onChange:Z=>O({...H,idDv:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Chọn dịch vụ"}),h.map(Z=>s.jsxs("option",{value:Z.idDv,children:[Z.tenDv," (",Z.donViTinh,")"]},Z.idDv))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng"}),s.jsx("input",{type:"number",min:"1",value:H.soLuong,onChange:Z=>O({...H,soLuong:parseInt(Z.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300",children:"Hủy"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Thêm dịch vụ"})]})]})]})})}),C&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Thêm phụ thu cho phòng ",k==null?void 0:k.soPhong]}),s.jsxs("form",{onSubmit:Pe,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phụ thu"}),s.jsxs("select",{value:B.idPhuThu,onChange:Z=>W({...B,idPhuThu:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Chọn phụ thu"}),f.map(Z=>s.jsx("option",{value:Z.idPhuThu,children:Z.tenPhuThu},Z.idPhuThu))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng"}),s.jsx("input",{type:"number",min:"1",value:B.soLuong,onChange:Z=>W({...B,soLuong:parseInt(Z.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300",children:"Hủy"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:"Thêm phụ thu"})]})]})]})})}),ue&&I&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Tình trạng phòng ",I.soPhong]}),s.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thông tin phòng"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số phòng:"}),s.jsx("span",{className:"font-medium",children:I.soPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tầng:"}),s.jsx("span",{className:"font-medium",children:I.tang})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Kiểu phòng:"}),s.jsx("span",{className:"font-medium",children:I.tenKieuPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Loại phòng:"}),s.jsx("span",{className:"font-medium",children:I.tenLoaiPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Khách hàng:"}),s.jsx("span",{className:"font-medium",children:I.tenKhachHang})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in:"}),s.jsx("span",{className:"font-medium",children:Ht(I.ngayDen)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-out dự kiến:"}),s.jsx("span",{className:"font-medium",children:Ht(I.ngayDi)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Giá phòng/đêm:"}),s.jsx("span",{className:"font-medium",children:xt(I.donGia)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tổng tiền phòng:"}),s.jsx("span",{className:"font-medium text-blue-600",children:xt(ye(I))})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Trạng thái thanh toán phòng:"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{value:I.ttThanhToan,onChange:Z=>Q("room",I.idCtPt,Z.target.value),className:`px-3 py-1 rounded text-sm border focus:outline-none focus:ring-2 focus:ring-blue-500 ${I.ttThanhToan==="Đã thanh toán"?"bg-green-100 text-green-800 border-green-300":"bg-yellow-100 text-yellow-800 border-yellow-300"}`,children:[s.jsx("option",{value:"Chưa thanh toán",children:"Chưa thanh toán"}),s.jsx("option",{value:"Đã thanh toán",children:"Đã thanh toán"})]})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Dịch vụ đang sử dụng"}),I.danhSachDichVu&&I.danhSachDichVu.length>0?s.jsx("div",{className:"space-y-2",children:I.danhSachDichVu.map((Z,we)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.tenDv}),s.jsxs("p",{className:"text-sm text-gray-500",children:[Z.soLuong," ",Z.donViTinh," × ",xt(Z.donGia)]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"font-bold text-blue-600",children:xt(Z.donGia*Z.soLuong)}),Z.ttThanhToan!=="Đã thanh toán"&&s.jsx("button",{onClick:()=>oe(Z.idCtPt,Z.idDv),className:"text-red-600 hover:text-red-800 p-1",title:"Xóa dịch vụ",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trạng thái:"}),s.jsxs("select",{value:Z.ttThanhToan,onChange:Re=>Q("service",Z.idCtPt,Re.target.value,Z.idDv),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"Chưa thanh toán",children:"Chưa thanh toán"}),s.jsx("option",{value:"Đã thanh toán",children:"Đã thanh toán"})]})]})]},we))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"Không có dịch vụ nào"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-3",children:"Phụ thu đang áp dụng"}),I.danhSachPhuThu&&I.danhSachPhuThu.length>0?s.jsx("div",{className:"space-y-2",children:I.danhSachPhuThu.map((Z,we)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.tenPhuThu}),s.jsxs("p",{className:"text-sm text-gray-500",children:[Z.soLuong," × ",xt(Z.donGia)]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"font-bold text-green-600",children:xt(Z.donGia*Z.soLuong)}),Z.ttThanhToan!=="Đã thanh toán"&&s.jsx("button",{onClick:()=>Ue(Z.idPhuThu,Z.idCtPt),className:"text-red-600 hover:text-red-800 p-1",title:"Xóa phụ thu",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trạng thái:"}),s.jsxs("select",{value:Z.ttThanhToan,onChange:Re=>Q("surcharge",Z.idCtPt,Re.target.value,null,Z.idPhuThu),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"Chưa thanh toán",children:"Chưa thanh toán"}),s.jsx("option",{value:"Đã thanh toán",children:"Đã thanh toán"})]})]})]},we))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"Không có phụ thu nào"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-yellow-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-yellow-800",children:"Tiền phòng:"}),s.jsx("span",{className:"font-medium text-yellow-900",children:I.ttThanhToan==="Đã thanh toán"?xt(0):xt(ye(I))})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-yellow-800",children:"Tiền dịch vụ & phụ thu:"}),s.jsx("span",{className:"font-medium text-yellow-900",children:xt(ge(I))})]}),s.jsx("hr",{className:"border-yellow-300"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-900",children:"Tổng cộng:"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:xt((I.ttThanhToan==="Đã thanh toán"?0:ye(I))+ge(I))})]})]}),s.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"* Tiền phòng tính theo số đêm ở. Chỉ tính các khoản chưa thanh toán."})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>G(!1),className:"px-6 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Đóng"})})]})})})]})},Vy=({idCtPt:e,cccd:t,showAll:n=!1})=>{const[r,a]=N.useState([]),[i,o]=N.useState(!1),[l,c]=N.useState({startDate:"",endDate:"",cccd:t||""});N.useEffect(()=>{u()},[e,t,n]);const u=async()=>{o(!0);try{let f;e?f=await rs.getRoomChangeHistory(e):t?f=await rs.getDoiPhongByKhachHang(t):n?f=await rs.getAllDoiPhong():f=await rs.getCurrentRoomChanges(),f.statusCode===200?a(f.doiPhongList||[]):X.error(f.message)}catch(f){X.error("Lỗi khi tải lịch sử đổi phòng"),console.error(f)}finally{o(!1)}},h=async()=>{if(!l.startDate||!l.endDate){X.error("Vui lòng chọn khoảng thời gian");return}o(!0);try{const f=await rs.filterDoiPhong(l);f.statusCode===200?a(f.doiPhongList||[]):X.error(f.message)}catch(f){X.error("Lỗi khi lọc dữ liệu"),console.error(f)}finally{o(!1)}},d=f=>f?new Date(f).toLocaleDateString("vi-VN"):"N/A";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e?"Lịch sử đổi phòng":t?"Lịch sử đổi phòng của khách hàng":n?"Tất cả lịch sử đổi phòng":"Đổi phòng hiện tại"}),s.jsxs("button",{onClick:u,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Làm mới"]})]}),n&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Bộ lọc"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Từ ngày"}),s.jsx("input",{type:"date",value:l.startDate,onChange:f=>c(m=>({...m,startDate:f.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Đến ngày"}),s.jsx("input",{type:"date",value:l.endDate,onChange:f=>c(m=>({...m,endDate:f.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CCCD khách hàng"}),s.jsx("input",{type:"text",value:l.cccd,onChange:f=>c(m=>({...m,cccd:f.target.value})),placeholder:"Nhập CCCD...",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:h,className:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:"Lọc"})})]})]}),i?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):r.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("p",{children:"Không có lịch sử đổi phòng"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thông tin đổi phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng cũ → Phòng mới"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thời gian"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loại phòng"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((f,m)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:["ID: ",f.idCtPt]}),s.jsxs("div",{className:"text-gray-500",children:["Phiếu thuê: ",f.idPt]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:f.tenKhachHang}),s.jsx("div",{className:"text-gray-500",children:f.cccd}),f.sdtKhachHang&&s.jsx("div",{className:"text-gray-500",children:f.sdtKhachHang})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium text-red-600",children:f.soPhongCu}),s.jsx("svg",{className:"w-4 h-4 mx-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("span",{className:"font-medium text-green-600",children:f.soPhongMoi})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Đến:"})," ",d(f.ngayDen)]}),f.ngayDi&&s.jsxs("div",{children:[s.jsx("strong",{children:"Đi:"})," ",d(f.ngayDi)]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-gray-600",children:["Cũ: ",f.tenKieuPhongCu," - ",f.tenLoaiPhongCu]}),s.jsxs("div",{className:"text-gray-600",children:["Mới: ",f.tenKieuPhongMoi," - ",f.tenLoaiPhongMoi]})]})})]},`${f.idCtPt}-${f.soPhongMoi}-${m}`))})]})}),r.length>0&&s.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Tổng cộng: ",r.length," lần đổi phòng"]})]})},CA=()=>{const[e,t]=N.useState("current"),n=[{id:"current",label:"Đổi phòng hiện tại",icon:"🔄"},{id:"history",label:"Lịch sử đổi phòng",icon:"📋"}];return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Quản lý đổi phòng"}),s.jsx("p",{className:"text-gray-600",children:"Theo dõi và quản lý các yêu cầu đổi phòng của khách hàng"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:n.map(r=>s.jsxs("button",{onClick:()=>t(r.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${e===r.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:r.icon}),r.label]},r.id))})}),s.jsxs("div",{className:"p-6",children:[e==="current"&&s.jsx(Vy,{showAll:!1}),e==="history"&&s.jsx(Vy,{showAll:!0})]})]})]})},EA=()=>{var f;const{user:e}=Pr(),[t,n]=N.useState({totalRooms:0,occupiedRooms:0,totalStaff:0,totalCustomers:0,monthlyRevenue:0,todayRevenue:0,totalServices:0,totalAmenities:0,pendingReservations:0,checkInsToday:0,checkOutsToday:0,occupancyRate:0}),[r,a]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState([]);N.useEffect(()=>{u()},[]);const u=async()=>{try{const x=(await Lu.getAdminStats()).stats||{};n(x),a([{id:1,type:"reservation",description:"Đặt phòng mới từ Nguyễn Văn A",time:"10 phút trước",status:"success"},{id:2,type:"checkin",description:"Check-in phòng 205 - Trần Thị B",time:"25 phút trước",status:"success"},{id:3,type:"staff",description:"Nhân viên mới được thêm vào hệ thống",time:"1 giờ trước",status:"info"},{id:4,type:"maintenance",description:"Báo cáo sự cố phòng 301",time:"2 giờ trước",status:"warning"}]);const p=await V.get("/api/dashboard/admin/top-performers"),w=await V.get("/api/dashboard/admin/revenue-data");o(p.data.performers||[]),c(w.data.revenue||[])}catch(m){console.error("Error fetching dashboard data:",m)}},h=m=>{switch(m){case"reservation":return s.jsx(pt,{className:"w-4 h-4 text-blue-600"});case"checkin":return s.jsx(va,{className:"w-4 h-4 text-green-600"});case"staff":return s.jsx(mn,{className:"w-4 h-4 text-purple-600"});case"maintenance":return s.jsx(us,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(gn,{className:"w-4 h-4 text-gray-600"})}},d=m=>{switch(m){case"success":return"bg-green-100";case"warning":return"bg-yellow-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Chào mừng, ",(e==null?void 0:e.hoTen)||(e==null?void 0:e.tenNhanVien)||`${(e==null?void 0:e.ho)||""} ${(e==null?void 0:e.ten)||""}`.trim()||((f=e==null?void 0:e.email)==null?void 0:f.split("@")[0])||"Quản lý","!"]}),s.jsx("p",{className:"text-purple-100",children:"Dashboard quản lý - Tổng quan hoạt động khách sạn"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(mr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tỷ lệ phòng đang được thuê"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.occupancyRate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(t.occupiedRooms||0)+(t.reservedRooms||0),"/",t.totalRooms," phòng"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Bao gồm phòng có khách + đã đặt"})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(No,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu tháng"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(t.monthlyRevenue/1e6).toFixed(0),"M"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"VNĐ"})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(mn,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng khách hàng"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalCustomers}),s.jsx("p",{className:"text-xs text-gray-500",children:"+12% tháng này"})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(Du,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu hôm nay"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(t.todayRevenue/1e6).toFixed(1),"M"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"VNĐ"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(us,{className:"w-6 h-6 text-red-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Chờ xác nhận"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.pendingReservations})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(va,{className:"w-6 h-6 text-green-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-in hôm nay"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.checkInsToday})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(gn,{className:"w-6 h-6 text-blue-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-out hôm nay"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.checkOutsToday})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(mn,{className:"w-6 h-6 text-purple-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nhân viên"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.totalStaff})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(wo,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dịch vụ"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.totalServices})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(mh,{className:"w-6 h-6 text-emerald-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tiện nghi"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.totalAmenities})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chi tiết trạng thái phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.availableRooms||0}),s.jsx("div",{className:"text-sm text-green-700",children:"Trống"}),s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[t.totalRooms>0?((t.availableRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.occupiedRooms||0}),s.jsx("div",{className:"text-sm text-blue-700",children:"Đã có khách"}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[t.totalRooms>0?((t.occupiedRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.cleaningRooms||0}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Đang dọn dẹp"}),s.jsxs("div",{className:"text-xs text-yellow-600 mt-1",children:[t.totalRooms>0?((t.cleaningRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.maintenanceRooms||0}),s.jsx("div",{className:"text-sm text-red-700",children:"Đang bảo trì"}),s.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[t.totalRooms>0?((t.maintenanceRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.reservedRooms||0}),s.jsx("div",{className:"text-sm text-purple-700",children:"Đã đặt"}),s.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:[t.totalRooms>0?((t.reservedRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[s.jsx($e,{to:"/admin/rooms",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(mr,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Thêm, sửa, xóa phòng"})]})}),s.jsx($e,{to:"/admin/staff",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(mn,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý nhân viên"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Thông tin nhân viên"})]})}),s.jsx($e,{to:"/admin/services",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-yellow-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(wo,{className:"w-8 h-8 text-yellow-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý dịch vụ"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Dịch vụ khách sạn"})]})}),s.jsx($e,{to:"/admin/amenities",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-emerald-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(mh,{className:"w-8 h-8 text-emerald-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý tiện nghi"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Tiện nghi phòng"})]})}),s.jsx($e,{to:"/admin/reports",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(fh,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Báo cáo"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Thống kê & phân tích"})]})}),s.jsx($e,{to:"/admin/surcharges",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-orange-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Bn,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý phụ thu"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Phụ thu dịch vụ"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Hoạt động gần đây"}),s.jsx($e,{to:"/admin/reports",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:r.map(m=>s.jsxs("div",{className:`flex items-center p-4 rounded-lg ${d(m.status)}`,children:[s.jsx("div",{className:"flex-shrink-0",children:h(m.type)}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.description}),s.jsx("p",{className:"text-xs text-gray-500",children:m.time})]})]},m.id))})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nhân viên xuất sắc"}),s.jsx($e,{to:"/admin/staff",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:i.map((m,x)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-purple-600 font-semibold",children:["#",x+1]})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.name}),s.jsx("p",{className:"text-xs text-gray-500",children:m.role})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[m.performance,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[m.tasks," công việc"]})]})]},m.id))})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Doanh thu 6 tháng gần đây"}),s.jsx($e,{to:"/admin/reports",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Chi tiết"})]}),s.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Biểu đồ doanh thu sẽ được hiển thị ở đây"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tích hợp với Chart.js hoặc Recharts"})]})})]})]})},_A=()=>{const[e,t]=N.useState([]),[n,r]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(12),[u,h]=N.useState({searchTerm:"",kieuPhong:"",loaiPhong:"",status:"",floor:""}),[d,f]=N.useState(!1),[m,x]=N.useState(!1),[p,w]=N.useState(null),[v,g]=N.useState({soPhong:"",tang:"",idKieuPhong:"",idTrangThai:"",moTa:""}),[y,b]=N.useState([]);N.useEffect(()=>{C(),j()},[]);const j=async()=>{try{const J=await V.get("/api/hang-phong/all");J.data.statusCode===200&&b(J.data.hangPhongList||[])}catch(J){console.error("Error fetching hang phong:",J)}},C=async()=>{try{i(!0);const pe=(await V.get("/api/phong/all")).data.phongList||[];t(pe),r(pe)}catch(J){console.error("Error fetching rooms:",J)}finally{i(!1)}},T=(J,pe)=>{const P={...u,[J]:pe};h(P),k(P)},k=J=>{let pe=[...e];if(J.searchTerm){const P=J.searchTerm.toLowerCase();pe=pe.filter(ee=>ee.soPhong.toLowerCase().includes(P)||ee.tenKp.toLowerCase().includes(P)||ee.tenLp.toLowerCase().includes(P))}J.kieuPhong&&(pe=pe.filter(P=>P.tenKp===J.kieuPhong)),J.loaiPhong&&(pe=pe.filter(P=>P.tenLp===J.loaiPhong)),J.status&&(pe=pe.filter(P=>P.tenTrangThai===J.status)),J.floor&&(pe=pe.filter(P=>P.tang.toString()===J.floor)),r(pe),l(1)},D=()=>{h({searchTerm:"",kieuPhong:"",loaiPhong:"",status:"",floor:""}),r(e),l(1)},H=J=>{switch(J){case"Trống":return"text-green-600 bg-green-100";case"Đã có khách":return"text-blue-600 bg-blue-100";case"Đang dọn dẹp":return"text-yellow-600 bg-yellow-100";case"Đang bảo trì":return"text-red-600 bg-red-100";case"Đã đặt":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},O=J=>{switch(J){case"Trống":return s.jsx(In,{className:"w-4 h-4"});case"Đã có khách":return s.jsx(gn,{className:"w-4 h-4"});case"Đang dọn dẹp":return s.jsx(us,{className:"w-4 h-4"});case"Đang bảo trì":return s.jsx(vo,{className:"w-4 h-4"});case"Đã đặt":return s.jsx(pt,{className:"w-4 h-4"});default:return s.jsx(gn,{className:"w-4 h-4"})}},B=()=>{g({soPhong:"",tang:"",idKieuPhong:"",idTrangThai:"TT001",moTa:""}),f(!0)},W=J=>{w(J),g({soPhong:J.soPhong,tang:J.tang.toString(),idKieuPhong:J.idHangPhong||"",idTrangThai:J.idTt||"",moTa:J.moTa||""}),x(!0)},ue=async J=>{var pe,P;if(window.confirm("Bạn có chắc chắn muốn xóa phòng này?"))try{const ee=await V.delete(`/api/phong/delete/${J}`);ee.data.statusCode===200?(t(Y=>Y.filter(q=>q.soPhong!==J)),r(Y=>Y.filter(q=>q.soPhong!==J)),X.success("Xóa phòng thành công!")):X.error(ee.data.message||"Xóa phòng thất bại")}catch(ee){console.error("Error deleting room:",ee),X.error(((P=(pe=ee.response)==null?void 0:pe.data)==null?void 0:P.message)||"Có lỗi xảy ra khi xóa phòng")}},G=async J=>{var pe,P;if(J.preventDefault(),!v.soPhong||!v.tang||!v.idKieuPhong){X.error("Vui lòng điền đầy đủ thông tin");return}try{if(m){const ee={soPhong:v.soPhong,tang:parseInt(v.tang),hangPhong:{idHangPhong:parseInt(v.idKieuPhong)},trangThai:{idTt:v.idTrangThai}},Y=await V.put(`/api/phong/update/${p.soPhong}`,ee);Y.data.statusCode===200?(X.success("Cập nhật phòng thành công!"),C(),x(!1),w(null)):X.error(Y.data.message||"Cập nhật phòng thất bại")}else{const ee={soPhong:v.soPhong,tang:parseInt(v.tang),hangPhong:{idHangPhong:parseInt(v.idKieuPhong)},trangThai:{idTt:v.idTrangThai||"TT001"}},Y=await V.post("/api/phong/create",ee);Y.data.statusCode===200?(X.success("Tạo phòng thành công!"),C(),f(!1),g({soPhong:"",tang:"",idKieuPhong:"",idTrangThai:"TT001",moTa:""})):X.error(Y.data.message||"Tạo phòng thất bại")}}catch(ee){console.error("Error saving room:",ee),X.error(((P=(pe=ee.response)==null?void 0:pe.data)==null?void 0:P.message)||"Có lỗi xảy ra khi lưu phòng")}},I=o*c,K=I-c,se=n.slice(K,I),z=J=>l(J);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thêm, sửa, xóa và quản lý phòng khách sạn"})]}),s.jsxs("button",{onClick:B,className:"btn-primary",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Thêm phòng mới"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(mr,{className:"w-6 h-6 text-blue-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng phòng"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(In,{className:"w-6 h-6 text-green-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Trống"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(J=>J.tenTrangThai==="Trống").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(gn,{className:"w-6 h-6 text-blue-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã có khách"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(J=>J.tenTrangThai==="Đã có khách").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(us,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang dọn dẹp"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(J=>J.tenTrangThai==="Đang dọn dẹp").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(vo,{className:"w-6 h-6 text-red-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang bảo trì"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(J=>J.tenTrangThai==="Đang bảo trì").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(pt,{className:"w-6 h-6 text-purple-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã đặt"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(J=>J.tenTrangThai==="Đã đặt").length})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Lo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Số phòng, loại phòng...",value:u.searchTerm,onChange:J=>T("searchTerm",J.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:u.kieuPhong,onChange:J=>T("kieuPhong",J.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Twin",children:"Twin"}),s.jsx("option",{value:"Family",children:"Family"}),s.jsx("option",{value:"Suite",children:"Suite"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:u.loaiPhong,onChange:J=>T("loaiPhong",J.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Standard",children:"Standard"}),s.jsx("option",{value:"Superior",children:"Superior"}),s.jsx("option",{value:"VIP",children:"VIP"}),s.jsx("option",{value:"Deluxe",children:"Deluxe"}),s.jsx("option",{value:"Executive",children:"Executive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:J=>T("status",J.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Trống",children:"Trống"}),s.jsx("option",{value:"Đã có khách",children:"Đã có khách"}),s.jsx("option",{value:"Đang dọn dẹp",children:"Đang dọn dẹp"}),s.jsx("option",{value:"Đang bảo trì",children:"Đang bảo trì"}),s.jsx("option",{value:"Đã đặt",children:"Đã đặt"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsxs("select",{value:u.floor,onChange:J=>T("floor",J.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"1",children:"Tầng 1"}),s.jsx("option",{value:"2",children:"Tầng 2"}),s.jsx("option",{value:"3",children:"Tầng 3"}),s.jsx("option",{value:"4",children:"Tầng 4"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:D,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Danh sách phòng (",n.length,")"]})}),n.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:se.map((J,pe)=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Phòng ",J.soPhong]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tầng ",J.tang]})]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${H(J.tenTrangThai)}`,children:[O(J.tenTrangThai),s.jsx("span",{className:"ml-1",children:J.tenTrangThai})]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại:"})," ",J.tenKp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giường:"})," ",J.tenLp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Diện tích:"})," ",J.dienTich,"m²"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giá:"})," ",Ah(J.giaPhong)]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex-1 text-blue-600 hover:text-blue-800 text-sm font-medium",children:[s.jsx(Hn,{className:"w-4 h-4 inline mr-1"}),"Xem"]}),s.jsxs("button",{onClick:()=>W(J),className:"flex-1 text-green-600 hover:text-green-800 text-sm font-medium",children:[s.jsx(Dr,{className:"w-4 h-4 inline mr-1"}),"Sửa"]}),s.jsxs("button",{onClick:()=>ue(J.soPhong),className:"flex-1 text-red-600 hover:text-red-800 text-sm font-medium",children:[s.jsx(Ls,{className:"w-4 h-4 inline mr-1"}),"Xóa"]})]})]},J.soPhong||J.id||pe))}),s.jsx(Fa,{itemsPerPage:c,totalItems:n.length,currentPage:o,paginate:z})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy phòng nào phù hợp với bộ lọc"})]})]}),(d||m)&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m?"Chỉnh sửa phòng":"Thêm phòng mới"}),s.jsx("button",{onClick:()=>{f(!1),x(!1),w(null)},className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("form",{onSubmit:G,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số phòng"}),s.jsx("input",{type:"text",value:v.soPhong,onChange:J=>g(pe=>({...pe,soPhong:J.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsxs("select",{value:v.tang,onChange:J=>g(pe=>({...pe,tang:J.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn tầng"}),s.jsx("option",{value:"1",children:"Tầng 1"}),s.jsx("option",{value:"2",children:"Tầng 2"}),s.jsx("option",{value:"3",children:"Tầng 3"}),s.jsx("option",{value:"4",children:"Tầng 4"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hạng phòng"}),s.jsxs("select",{value:v.idKieuPhong,onChange:J=>g(pe=>({...pe,idKieuPhong:J.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn hạng phòng"}),y.map(J=>s.jsxs("option",{value:J.idHangPhong,children:[J.tenKp," - ",J.tenLp," (",Ah(J.giaPhong),")"]},J.idHangPhong))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:v.idTrangThai,onChange:J=>g(pe=>({...pe,idTrangThai:J.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"TT001",children:"Trống"}),s.jsx("option",{value:"TT002",children:"Đã có khách"}),s.jsx("option",{value:"TT003",children:"Đang dọn dẹp"}),s.jsx("option",{value:"TT004",children:"Đang bảo trì"}),s.jsx("option",{value:"TT005",children:"Đã đặt"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),s.jsx("textarea",{value:v.moTa,onChange:J=>g(pe=>({...pe,moTa:J.target.value})),className:"input min-h-[80px]",placeholder:"Mô tả về phòng..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),x(!1),w(null)},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:m?"Cập nhật":"Thêm mới"})]})]})]})})})]})},DA=()=>{const[e,t]=N.useState([]),[n,r]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(10),[u,h]=N.useState({searchTerm:"",role:"",status:"",department:""}),[d,f]=N.useState([]),[m,x]=N.useState([]),[p,w]=N.useState(!1),[v,g]=N.useState(!1),[y,b]=N.useState(!1),[j,C]=N.useState(null),[T,k]=N.useState({ho:"",ten:"",email:"",sdt:"",diaChi:"",ngaySinh:"",phai:"",username:"",password:"",idBp:"",idNq:""});N.useEffect(()=>{D(),H(),O()},[]);const D=async()=>{try{i(!0);const he=(await V.get("/api/nhanvien/all")).data.nhanVienList||[];t(he),r(he)}catch(U){console.error("Error fetching staff:",U)}finally{i(!1)}},H=async()=>{try{const U=await Nl.getAllDepartments();U.statusCode===200&&f(U.boPhanList||[])}catch(U){console.error("Error fetching departments:",U),X.error("Không thể tải danh sách bộ phận. Vui lòng kiểm tra kết nối backend.")}},O=async()=>{try{const U=await Nl.getAllRoles();U.statusCode===200&&x(U.nhomQuyenList||[])}catch(U){console.error("Error fetching roles:",U),X.error("Không thể tải danh sách nhóm quyền. Vui lòng kiểm tra kết nối backend.")}},B=(U,he)=>{const ve={...u,[U]:he};h(ve),W(ve)},W=U=>{let he=[...e];if(U.searchTerm){const ve=U.searchTerm.toLowerCase();he=he.filter(E=>(E.ho+" "+E.ten).toLowerCase().includes(ve)||E.email&&E.email.toLowerCase().includes(ve)||E.sdt&&E.sdt.includes(ve)||E.tenNq&&E.tenNq.toLowerCase().includes(ve)||E.tenBp&&E.tenBp.toLowerCase().includes(ve))}U.role&&(he=he.filter(ve=>ve.tenBp===U.role)),U.status,U.department&&(he=he.filter(ve=>ve.tenBp===U.department)),r(he),l(1)},ue=()=>{h({searchTerm:"",role:"",status:"",department:""}),r(e),l(1)},G=U=>{switch(U){case"Quản lý":return"text-purple-600 bg-purple-100";case"Lễ tân":return"text-blue-600 bg-blue-100";case"Nhà hàng":return"text-green-600 bg-green-100";case"Kế toán":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},I=U=>U||"Không xác định",K=()=>{k({ho:"",ten:"",email:"",sdt:"",diaChi:"",ngaySinh:"",phai:"",username:"",password:"",idBp:"",idNq:""}),w(!0)},se=U=>{C(U),k({ho:U.ho,ten:U.ten,email:U.email,soDienThoai:U.soDienThoai,diaChi:U.diaChi,ngaySinh:U.ngaySinh,gioiTinh:U.gioiTinh,chucVu:U.chucVu,phongBan:U.phongBan,luong:U.luong.toString(),ngayVaoLam:U.ngayVaoLam,trangThai:U.trangThai}),g(!0)},z=U=>{C(U),b(!0)},J=async U=>{if(window.confirm("Bạn có chắc chắn muốn xóa nhân viên này?"))try{t(he=>he.filter(ve=>ve.id!==U)),r(he=>he.filter(ve=>ve.id!==U)),X.success("Xóa nhân viên thành công!")}catch{X.error("Có lỗi xảy ra khi xóa nhân viên")}},pe=async U=>{var he,ve,E;U.preventDefault();try{if(v)X.error("Chức năng cập nhật nhân viên chưa được triển khai");else{const ne=await Nl.createEmployee(T);ne.statusCode===200?(X.success("Thêm nhân viên thành công!"),D()):X.error(ne.message||"Có lỗi xảy ra khi thêm nhân viên")}w(!1),g(!1),C(null)}catch(ne){console.error("Error saving staff:",ne),console.error("Error response:",(he=ne.response)==null?void 0:he.data),X.error(((E=(ve=ne.response)==null?void 0:ve.data)==null?void 0:E.message)||"Có lỗi xảy ra khi lưu nhân viên")}},P=o*c,ee=P-c,Y=n.slice(ee,P),q=U=>l(U);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý nhân viên"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thêm, sửa, xóa và quản lý nhân viên khách sạn"})]}),s.jsxs("button",{onClick:K,className:"btn-primary",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Thêm nhân viên"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(mn,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng nhân viên"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(In,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang làm việc"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(Td,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Quản lý"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(U=>U.tenBp==="Quản lý").length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(Ft,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nhân viên"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(U=>U.tenBp!=="Quản lý").length})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Lo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Tên, email, SĐT, chức vụ...",value:u.searchTerm,onChange:U=>B("searchTerm",U.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai trò"}),s.jsxs("select",{value:u.role,onChange:U=>B("role",U.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Quản lý",children:"Quản lý"}),s.jsx("option",{value:"Lễ tân",children:"Lễ tân"}),s.jsx("option",{value:"Nhà hàng",children:"Nhà hàng"}),s.jsx("option",{value:"Kế toán",children:"Kế toán"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:U=>B("status",U.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"active",children:"Hoạt động"}),s.jsx("option",{value:"inactive",children:"Nghỉ việc"}),s.jsx("option",{value:"suspended",children:"Tạm nghỉ"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),s.jsxs("select",{value:u.department,onChange:U=>B("department",U.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Quản lý",children:"Quản lý"}),s.jsx("option",{value:"Lễ tân",children:"Lễ tân"}),s.jsx("option",{value:"Nhà hàng",children:"Nhà hàng"}),s.jsx("option",{value:"Kế toán",children:"Kế toán"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:ue,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Danh sách nhân viên (",n.length,")"]})}),n.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhân viên"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Liên hệ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chức vụ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vai trò"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map((U,he)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[U.ho," ",U.ten]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",U.idNv]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(ds,{className:"w-4 h-4 mr-1 text-gray-400"}),U.sdt||"Không xác định"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(hs,{className:"w-4 h-4 mr-1 text-gray-400"}),U.email]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.tenNq||"Chưa xác định"}),s.jsx("div",{className:"text-sm text-gray-500",children:U.tenBp||"Chưa phân bộ phận"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(U.tenBp)}`,children:I(U.tenBp)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Hoạt động"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>z(U),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Hn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>se(U),className:"text-green-600 hover:text-green-900",children:s.jsx(Dr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>J(U.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ls,{className:"w-4 h-4"})})]})})]},U.idNv||U.id||he))})]})}),s.jsx(Fa,{itemsPerPage:c,totalItems:n.length,currentPage:o,paginate:q})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có nhân viên nào"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy nhân viên nào phù hợp với bộ lọc"})]})]}),(p||v)&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:v?"Chỉnh sửa nhân viên":"Thêm nhân viên mới"}),s.jsx("button",{onClick:()=>{w(!1),g(!1),C(null)},className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:T.username,onChange:U=>k(he=>({...he,username:U.target.value})),className:"input",placeholder:"Tên đăng nhập",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:T.password,onChange:U=>k(he=>({...he,password:U.target.value})),className:"input",placeholder:"Mật khẩu (tối thiểu 6 ký tự)",minLength:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ"}),s.jsx("input",{type:"text",value:T.ho,onChange:U=>k(he=>({...he,ho:U.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên"}),s.jsx("input",{type:"text",value:T.ten,onChange:U=>k(he=>({...he,ten:U.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:T.email,onChange:U=>k(he=>({...he,email:U.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),s.jsx("input",{type:"tel",value:T.sdt,onChange:U=>k(he=>({...he,sdt:U.target.value})),className:"input",pattern:"[0-9]{10,11}",placeholder:"0901234567",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới tính"}),s.jsxs("select",{value:T.phai,onChange:U=>k(he=>({...he,phai:U.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn giới tính"}),s.jsx("option",{value:"Nam",children:"Nam"}),s.jsx("option",{value:"Nữ",children:"Nữ"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh"}),s.jsx("input",{type:"date",value:T.ngaySinh,onChange:U=>k(he=>({...he,ngaySinh:U.target.value})),className:"input"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),s.jsx("input",{type:"text",value:T.diaChi,onChange:U=>k(he=>({...he,diaChi:U.target.value})),className:"input",placeholder:"Địa chỉ nhà"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bộ phận"}),s.jsxs("select",{value:T.idBp,onChange:U=>k(he=>({...he,idBp:U.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn bộ phận"}),d.map(U=>s.jsx("option",{value:U.idBp,children:U.tenBp},U.idBp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nhóm quyền"}),s.jsxs("select",{value:T.idNq,onChange:U=>k(he=>({...he,idNq:U.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn nhóm quyền"}),m.map(U=>s.jsx("option",{value:U.idNq,children:U.tenNq},U.idNq))]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{w(!1),g(!1),C(null)},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:v?"Cập nhật":"Thêm mới"})]})]})]})})}),y&&j&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Chi tiết nhân viên"}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Họ tên"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.hoTen})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giới tính"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.gioiTinh})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày sinh"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.ngaySinh})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Số điện thoại"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.soDienThoai})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.email})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Địa chỉ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.diaChi})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Chức vụ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.chucVu})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phòng ban"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.phongBan})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày sinh"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.ngaySinh||"Chưa cập nhật"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vai trò"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(j.tenBp)}`,children:I(j.tenBp)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trạng thái"}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Hoạt động"})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>b(!1),className:"btn-outline",children:"Đóng"}),s.jsx("button",{onClick:()=>{b(!1),se(j)},className:"btn-primary",children:"Chỉnh sửa"})]})]})})})]})},PA=()=>{const[e,t]=N.useState([]),[n,r]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(12),[u,h]=N.useState(""),[d,f]=N.useState({unit:"",priceRange:""}),[m,x]=N.useState(!1),[p,w]=N.useState(!1),[v,g]=N.useState(null),[y,b]=N.useState({tenDv:"",moTa:"",donViTinh:"",gia:""});N.useEffect(()=>{j()},[]),N.useEffect(()=>{C()},[u,d,e]);const j=async()=>{i(!0);try{const I=await V.get("/api/services/dich-vu");if(I.data.statusCode===200){const K=I.data.dichVuList||[];t(K),r(K)}else He.error(I.data.message||"Lỗi khi tải danh sách dịch vụ")}catch(I){console.error("Error fetching services:",I),He.error("Lỗi khi tải danh sách dịch vụ")}finally{i(!1)}},C=()=>{let I=e.filter(K=>{var se,z,J;return((se=K.tenDv)==null?void 0:se.toLowerCase().includes(u.toLowerCase()))||((z=K.idDv)==null?void 0:z.toLowerCase().includes(u.toLowerCase()))||((J=K.moTa)==null?void 0:J.toLowerCase().includes(u.toLowerCase()))});d.unit&&(I=I.filter(K=>K.donViTinh===d.unit)),r(I)},T=()=>{b({tenDv:"",moTa:"",donViTinh:"",gia:""}),x(!0)},k=I=>{g(I),b({tenDv:I.tenDv,moTa:I.moTa||"",donViTinh:I.donViTinh||"",gia:I.giaHienTai||""}),w(!0)},D=async I=>{var K,se;if(window.confirm("Bạn có chắc chắn muốn xóa dịch vụ này?"))try{const z=await V.delete(`/api/services/dich-vu/${I}`);z.data.statusCode===200?(He.success("Xóa dịch vụ thành công!"),j()):He.error(z.data.message||"Xóa dịch vụ thất bại")}catch(z){console.error("Error deleting service:",z),He.error(((se=(K=z.response)==null?void 0:K.data)==null?void 0:se.message)||"Có lỗi xảy ra khi xóa dịch vụ")}},H=async I=>{var K,se;if(I.preventDefault(),!y.tenDv||!y.donViTinh||!y.gia){He.error("Vui lòng điền đầy đủ thông tin");return}try{if(p){const z=await V.put(`/api/services/dich-vu/${v.idDv}`,y);z.data.statusCode===200?(He.success("Cập nhật dịch vụ thành công!"),w(!1),g(null),j()):He.error(z.data.message||"Cập nhật dịch vụ thất bại")}else{const z=await V.post("/api/services/dich-vu",y);z.data.statusCode===200?(He.success("Thêm dịch vụ thành công!"),x(!1),b({tenDv:"",moTa:"",donViTinh:"",gia:""}),j()):He.error(z.data.message||"Thêm dịch vụ thất bại")}}catch(z){console.error("Error saving service:",z),He.error(((se=(K=z.response)==null?void 0:K.data)==null?void 0:se.message)||"Có lỗi xảy ra khi lưu dịch vụ")}},O=o*c,B=O-c,W=n.slice(B,O),ue=Math.ceil(n.length/c),G=I=>l(I);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý dịch vụ"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý dịch vụ khách sạn"})]}),s.jsxs("button",{onClick:T,className:"btn-primary",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Thêm dịch vụ mới"]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Lo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Tên dịch vụ, ID, mô tả...",value:u,onChange:I=>h(I.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đơn vị tính"}),s.jsxs("select",{value:d.unit,onChange:I=>f(K=>({...K,unit:I.target.value})),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Lần",children:"Lần"}),s.jsx("option",{value:"Giờ",children:"Giờ"}),s.jsx("option",{value:"Ngày",children:"Ngày"}),s.jsx("option",{value:"Phần",children:"Phần"}),s.jsx("option",{value:"Suất",children:"Suất"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khoảng giá"}),s.jsxs("select",{value:d.priceRange,onChange:I=>f(K=>({...K,priceRange:I.target.value})),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"0-100000",children:"Dưới 100K"}),s.jsx("option",{value:"100000-500000",children:"100K - 500K"}),s.jsx("option",{value:"500000-1000000",children:"500K - 1M"}),s.jsx("option",{value:"1000000-",children:"Trên 1M"})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Danh sách dịch vụ (",n.length,")"]})}),n.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:W.map((I,K)=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:I.tenDv}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:["ID: ",I.idDv]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:I.moTa||"Không có mô tả"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Đơn vị tính:"}),s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:I.donViTinh})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Giá hiện tại:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:I.giaHienTai?Ah(I.giaHienTai):"Chưa có giá"})]}),I.ngayApDungGia&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Ngày áp dụng:"}),s.jsx("span",{children:new Date(I.ngayApDungGia).toLocaleDateString("vi-VN")})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>k(I),className:"flex-1 text-green-600 hover:text-green-800 text-sm font-medium",children:[s.jsx(Dr,{className:"w-4 h-4 inline mr-1"}),"Sửa"]}),s.jsxs("button",{onClick:()=>D(I.idDv),className:"flex-1 text-red-600 hover:text-red-800 text-sm font-medium",children:[s.jsx(Ls,{className:"w-4 h-4 inline mr-1"}),"Xóa"]})]})]},I.idDv||K))}),ue>1&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx("div",{className:"flex space-x-2",children:Array.from({length:ue},(I,K)=>s.jsx("button",{onClick:()=>G(K+1),className:`px-3 py-2 text-sm font-medium rounded-md ${o===K+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:K+1},K+1))})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(F_,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có dịch vụ nào"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Bắt đầu bằng cách thêm dịch vụ đầu tiên"}),s.jsxs("button",{onClick:T,className:"btn-primary",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Thêm dịch vụ mới"]})]})]}),(m||p)&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:p?"Chỉnh sửa dịch vụ":"Thêm dịch vụ mới"}),s.jsx("button",{onClick:()=>{x(!1),w(!1),g(null)},className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("form",{onSubmit:H,className:"space-y-4",children:[p&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID dịch vụ"}),s.jsx("input",{type:"text",value:(v==null?void 0:v.idDv)||"",className:"input bg-gray-100",disabled:!0,placeholder:"ID sẽ được tự động tạo"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID không thể thay đổi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên dịch vụ"}),s.jsx("input",{type:"text",value:y.tenDv,onChange:I=>b(K=>({...K,tenDv:I.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),s.jsx("textarea",{value:y.moTa,onChange:I=>b(K=>({...K,moTa:I.target.value})),className:"input min-h-[80px]",placeholder:"Mô tả chi tiết về dịch vụ..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đơn vị tính"}),s.jsxs("select",{value:y.donViTinh,onChange:I=>b(K=>({...K,donViTinh:I.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn đơn vị tính"}),s.jsx("option",{value:"Lần",children:"Lần"}),s.jsx("option",{value:"Giờ",children:"Giờ"}),s.jsx("option",{value:"Ngày",children:"Ngày"}),s.jsx("option",{value:"Phần",children:"Phần"}),s.jsx("option",{value:"Suất",children:"Suất"}),s.jsx("option",{value:"Chai",children:"Chai"}),s.jsx("option",{value:"Ly",children:"Ly"}),s.jsx("option",{value:"Kg",children:"Kg"}),s.jsx("option",{value:"Gói",children:"Gói"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá dịch vụ (VNĐ)"}),s.jsx("input",{type:"number",value:y.gia,onChange:I=>b(K=>({...K,gia:I.target.value})),className:"input",placeholder:"VD: 100000",min:"0",step:"1000",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{x(!1),w(!1),g(null)},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:p?"Cập nhật":"Thêm mới"})]})]})]})})})]})},AA=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!0),[a,i]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(!1),[h,d]=N.useState(null),[f,m]=N.useState({idTn:"",tenTn:"",icon:""}),x=Hp;N.useEffect(()=>{p()},[]);const p=async()=>{try{r(!0);const C=await V.get("/api/tien-nghi/all");C.data.statusCode===200?t(C.data.tienNghiList||[]):He.error("Không thể tải danh sách tiện ích")}catch(C){console.error("Error fetching amenities:",C),He.error("Lỗi khi tải danh sách tiện ích")}finally{r(!1)}},w=C=>{const{name:T,value:k}=C.target;m(D=>({...D,[T]:k}))},v=async C=>{var T,k,D;if(C.preventDefault(),!h&&(!f.tenTn||!f.icon)){He.error("Vui lòng điền đầy đủ thông tin");return}if(h&&(!f.idTn||!f.tenTn||!f.icon)){He.error("Vui lòng điền đầy đủ thông tin");return}try{let H;if(h)H=await V.put(`/api/tien-nghi/update/${h.idTn}`,f);else{const{idTn:O,...B}=f;console.log("Data to send:",B),H=await V.post("/api/tien-nghi/add",B)}H.data.statusCode===200?(He.success(h?"Cập nhật tiện ích thành công":"Thêm tiện ích thành công"),u(!1),d(null),m({idTn:"",tenTn:"",icon:""}),p()):He.error(H.data.message||"Có lỗi xảy ra")}catch(H){console.error("Error saving amenity:",H),console.error("Error response:",(T=H.response)==null?void 0:T.data),He.error(((D=(k=H.response)==null?void 0:k.data)==null?void 0:D.message)||"Lỗi khi lưu tiện ích")}},g=C=>{d(C),m({idTn:C.idTn,tenTn:C.tenTn,icon:C.icon}),u(!0)},y=async C=>{if(window.confirm("Bạn có chắc chắn muốn xóa tiện ích này?"))try{const T=await V.delete(`/api/tien-nghi/delete/${C}`);T.data.statusCode===200?(He.success("Xóa tiện ích thành công"),p()):He.error(T.data.message||"Có lỗi xảy ra")}catch(T){console.error("Error deleting amenity:",T),He.error("Lỗi khi xóa tiện ích")}},b=e.filter(C=>{var T,k;return((T=C.tenTn)==null?void 0:T.toLowerCase().includes(a.toLowerCase()))||((k=C.idTn)==null?void 0:k.toLowerCase().includes(a.toLowerCase()))}),j=()=>{d(null),m({idTn:"",tenTn:"",icon:""}),u(!0)};return n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý tiện ích"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý các tiện ích của khách sạn"})]}),s.jsxs("button",{onClick:j,className:"btn-primary flex items-center space-x-2",children:[s.jsx(Bn,{className:"w-4 h-4"}),s.jsx("span",{children:"Thêm tiện ích"})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm kiếm tiện ích...",value:a,onChange:C=>i(C.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(C=>s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(gm,{amenity:C,className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:C.tenTn}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",C.idTn]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>g(C),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(Dr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y(C.idTn),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ls,{className:"w-4 h-4"})})]})]})},C.idTn))}),b.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Không tìm thấy tiện ích nào"})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:h?"Chỉnh sửa tiện ích":"Thêm tiện ích mới"}),!h&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"💡 Lưu ý:"})," ID tiện ích sẽ được tự động tạo (TN001, TN002, ...)"]})}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID tiện ích"}),s.jsx("input",{type:"text",name:"idTn",value:f.idTn,onChange:w,disabled:!0,className:"input bg-gray-100",placeholder:"ID sẽ được tự động tạo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tiện ích"}),s.jsx("input",{type:"text",name:"tenTn",value:f.tenTn,onChange:w,className:"input",placeholder:"Nhập tên tiện ích",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),s.jsxs("select",{name:"icon",value:f.icon,onChange:w,className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn icon"}),R5().map(C=>s.jsx("optgroup",{label:C.label,children:x.filter(T=>T.category===C.value).map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))},C.value))]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:h?"Cập nhật":"Thêm"})]})]})]})})]})},OA=()=>{var ue,G,I;const[e,t]=N.useState([]),[n,r]=N.useState(null),[a,i]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(!1),[h,d]=N.useState(!1),[f,m]=N.useState(!1),[x,p]=N.useState({ngayApDung:"",gia:"",idNv:"NV01"}),[w,v]=N.useState({checkIn:"",checkOut:""}),[g,y]=N.useState(null);N.useEffect(()=>{b()},[]);const b=async()=>{try{const K=await V.get("/api/hang-phong/all");K.data.statusCode===200&&t(K.data.hangPhongList||[])}catch{He.error("Lỗi khi tải danh sách hạng phòng")}finally{l(!1)}},j=async K=>{try{const se=await V.get(`/api/hang-phong/${K}/prices`);se.data.statusCode===200&&i(se.data.giaHangPhongList||[])}catch{He.error("Lỗi khi tải danh sách giá")}},C=K=>{r(K),j(K.idHangPhong)},T=async K=>{if(K.preventDefault(),!B(x.ngayApDung)){He.error("Ngày áp dụng phải là ngày trong tương lai");return}try{const se=await V.post(`/api/hang-phong/${n.idHangPhong}/prices`,x);se.data.statusCode===200?(He.success("Thêm giá thành công!"),j(n.idHangPhong),u(!1),p({ngayApDung:"",gia:"",idNv:"NV01"})):He.error(se.data.message||"Thêm giá thất bại")}catch{He.error("Lỗi khi thêm giá")}},k=async K=>{K.preventDefault();try{const se=await V.put(`/api/hang-phong/${n.idHangPhong}/prices?ngayApDung=${x.ngayApDung}`,{gia:x.gia,idNv:x.idNv});se.data.statusCode===200?(He.success("Cập nhật giá thành công!"),j(n.idHangPhong),d(!1),p({ngayApDung:"",gia:"",idNv:"NV01"})):He.error(se.data.message||"Cập nhật giá thất bại")}catch{He.error("Lỗi khi cập nhật giá")}},D=async K=>{K.preventDefault();try{const se=await V.get(`/api/hang-phong/${n.idHangPhong}/price-for-dates?checkIn=${w.checkIn}&checkOut=${w.checkOut}`);se.data.statusCode===200?y(se.data):He.error(se.data.message||"Tính giá thất bại")}catch{He.error("Lỗi khi tính giá")}},H=K=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(K),O=K=>new Date(K).toLocaleDateString("vi-VN"),B=K=>{const se=new Date(K),z=new Date;return z.setHours(0,0,0,0),se>z},W=()=>{const K=new Date;return K.setDate(K.getDate()+1),K.toISOString().split("T")[0]};return o?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý giá hạng phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý giá theo ngày áp dụng cho từng hạng phòng"})]}),n&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>m(!0),className:"btn-outline",children:[s.jsx(T_,{className:"w-4 h-4 mr-2"}),"Tính giá"]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-primary",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Thêm giá mới"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách hạng phòng"})}),s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.map(K=>s.jsxs("div",{onClick:()=>C(K),className:`p-4 border-b cursor-pointer hover:bg-gray-50 transition-colors ${(n==null?void 0:n.idHangPhong)===K.idHangPhong?"bg-blue-50 border-blue-200":""}`,children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[K.tenKp," - ",K.tenLp]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",K.idHangPhong]})]},K.idHangPhong))})})]})}),s.jsx("div",{className:"lg:col-span-2",children:n?s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Giá của ",n.tenKp," - ",n.tenLp]}),s.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Lưu ý:"})," Giá phòng không thể xóa để đảm bảo tính toán chính xác cho các booking đã tồn tại. Chỉ có thể sửa giá cho ngày áp dụng trong tương lai để tránh ảnh hưởng đến các booking đã có."]})})]}),s.jsx("div",{className:"card-body",children:a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày thiết lập"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhân viên"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sửa"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(K=>s.jsxs("tr",{className:B(K.ngayApDung)?"":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:O(K.ngayApDung)}),!B(K.ngayApDung)&&s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-600",children:"Đã áp dụng"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:H(K.gia)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(K.ngayThietLap)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.idNv}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:B(K.ngayApDung)?s.jsxs("button",{onClick:()=>{p({ngayApDung:K.ngayApDung,gia:K.gia,idNv:K.idNv}),d(!0)},className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",title:"Sửa giá",children:[s.jsx(Dr,{className:"w-4 h-4"}),s.jsx("span",{children:"Sửa"})]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"Không thể sửa"})})]},K.ngayApDung))})]})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(No,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Chưa có giá nào"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bắt đầu bằng cách thêm giá đầu tiên cho hạng phòng này."}),s.jsx("p",{className:"mt-2 text-xs text-blue-600",children:"Mỗi giá sẽ áp dụng từ ngày được chỉ định cho đến khi có giá mới."})]})})]}):s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center py-12",children:[s.jsx(pt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Chọn hạng phòng"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Chọn một hạng phòng từ danh sách bên trái để xem và quản lý giá."})]})})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thêm giá mới"}),s.jsxs("form",{onSubmit:T,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày áp dụng"}),s.jsx("input",{type:"date",value:x.ngayApDung,onChange:K=>p({...x,ngayApDung:K.target.value}),className:"input",min:W(),required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chỉ có thể chọn ngày trong tương lai"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá (VND)"}),s.jsx("input",{type:"number",value:x.gia,onChange:K=>p({...x,gia:K.target.value}),className:"input",min:"0",step:"1000",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Thêm"})]})]})]})})}),h&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sửa giá"}),s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày áp dụng"}),s.jsx("input",{type:"date",value:x.ngayApDung,className:"input bg-gray-100",disabled:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá (VND)"}),s.jsx("input",{type:"number",value:x.gia,onChange:K=>p({...x,gia:K.target.value}),className:"input",min:"0",step:"1000",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Cập nhật"})]})]})]})})}),f&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tính giá theo khoảng thời gian"}),s.jsxs("form",{onSubmit:D,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày check-in"}),s.jsx("input",{type:"date",value:w.checkIn,onChange:K=>v({...w,checkIn:K.target.value}),className:"input",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày check-out"}),s.jsx("input",{type:"date",value:w.checkOut,onChange:K=>v({...w,checkOut:K.target.value}),className:"input",required:!0})]}),g&&s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Kết quả tính giá:"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{children:["Tổng tiền: ",s.jsx("span",{className:"font-medium",children:H(g.roomPrice)})]}),s.jsxs("div",{children:["Số đêm: ",s.jsx("span",{className:"font-medium",children:(ue=g.stats)==null?void 0:ue.numberOfNights})]}),s.jsxs("div",{children:["Giá trung bình/đêm: ",s.jsx("span",{className:"font-medium",children:H((G=g.stats)==null?void 0:G.averagePricePerNight)})]}),s.jsxs("div",{children:["Có thay đổi giá: ",s.jsx("span",{className:"font-medium",children:(I=g.stats)!=null&&I.hasPriceChanges?"Có":"Không"})]}),s.jsxs("div",{children:["Tiền cọc tối thiểu: ",s.jsx("span",{className:"font-medium",children:H(g.minDeposit)})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>{m(!1),y(null)},className:"btn-outline",children:"Đóng"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Tính giá"})]})]})]})})})]})},_i={async getAllPhuThu(){var e;try{return(await V.get("/api/phu-thu/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getPhuThuById(e){var t;try{return(await V.get(`/api/phu-thu/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async createPhuThu(e){var t;try{return(await V.post("/api/phu-thu/create",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async updatePhuThu(e,t){var n;try{return(await V.put(`/api/phu-thu/update/${e}`,t)).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async deletePhuThu(e){var t;try{return(await V.delete(`/api/phu-thu/delete/${e}`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async addPhuThuPrice(e){var t;try{return(await V.post("/api/phu-thu/add-price",e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getPhuThuPrices(e){var t;try{return(await V.get(`/api/phu-thu/${e}/prices`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},async getCurrentPrice(e){var t;try{return(await V.get(`/api/phu-thu/${e}/current-price`)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}}},RA=()=>{const[e,t]=N.useState([]),[n,r]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState(!1),[h,d]=N.useState(!1),[f,m]=N.useState(null),[x,p]=N.useState(null),[w,v]=N.useState({idPhuThu:"",tenPhuThu:"",lyDo:""}),[g,y]=N.useState({idPhuThu:"",ngayApDung:"",gia:"",idNv:"NV001"});N.useEffect(()=>{b()},[]);const b=async()=>{i(!0);try{const I=await _i.getAllPhuThu();I.statusCode===200&&t(I.phuThuList||[])}catch(I){He.error("Lỗi khi tải danh sách phụ thu"),console.error("Error fetching surcharges:",I)}finally{i(!1)}},j=async I=>{try{const K=await _i.getPhuThuPrices(I);K.statusCode===200&&r(K.giaPhuThuList||[])}catch(K){He.error("Lỗi khi tải lịch sử giá phụ thu"),console.error("Error fetching surcharge prices:",K)}},C=async I=>{I.preventDefault(),i(!0);try{let K;f?K=await _i.updatePhuThu(f.idPhuThu,w):K=await _i.createPhuThu(w),K.statusCode===200||K.statusCode===201?(He.success(f?"Cập nhật phụ thu thành công!":"Thêm phụ thu thành công!"),b(),O(),u(!1)):He.error(K.message||"Có lỗi xảy ra")}catch(K){He.error("Lỗi khi lưu phụ thu"),console.error("Error saving surcharge:",K)}finally{i(!1)}},T=async I=>{I.preventDefault(),i(!0);try{const K=await _i.addPhuThuPrice(g);K.statusCode===200||K.statusCode===201?(He.success("Thêm giá phụ thu thành công!"),j(g.idPhuThu),B()):He.error(K.message||"Có lỗi xảy ra")}catch(K){He.error("Lỗi khi thêm giá phụ thu"),console.error("Error adding surcharge price:",K)}finally{i(!1)}},k=I=>{m(I),v({idPhuThu:I.idPhuThu,tenPhuThu:I.tenPhuThu,lyDo:I.lyDo}),u(!0)},D=async I=>{if(window.confirm("Bạn có chắc chắn muốn xóa phụ thu này?")){i(!0);try{const K=await _i.deletePhuThu(I);K.statusCode===200?(He.success("Xóa phụ thu thành công!"),b()):He.error(K.message||"Có lỗi xảy ra")}catch(K){He.error("Lỗi khi xóa phụ thu"),console.error("Error deleting surcharge:",K)}finally{i(!1)}}},H=I=>{p(I),y({...g,idPhuThu:I.idPhuThu}),j(I.idPhuThu),d(!0)},O=()=>{v({idPhuThu:"",tenPhuThu:"",lyDo:""}),m(null)},B=()=>{y({idPhuThu:(x==null?void 0:x.idPhuThu)||"",ngayApDung:"",gia:"",idNv:"NV001"})},W=e.filter(I=>{var K,se;return((K=I.tenPhuThu)==null?void 0:K.toLowerCase().includes(o.toLowerCase()))||((se=I.lyDo)==null?void 0:se.toLowerCase().includes(o.toLowerCase()))}),ue=I=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(I),G=I=>new Date(I).toLocaleDateString("vi-VN");return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Quản lý Phụ thu"}),s.jsxs("button",{onClick:()=>{O(),u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Bn,{className:"w-4 h-4"}),"Thêm phụ thu"]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm kiếm phụ thu...",value:o,onChange:I=>l(I.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full max-w-md"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lý do"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):W.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"Không có phụ thu nào"})}):W.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.idPhuThu}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.tenPhuThu}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:I.lyDo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>H(I),className:"text-green-600 hover:text-green-900",title:"Quản lý giá",children:s.jsx(No,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k(I),className:"text-blue-600 hover:text-blue-900",title:"Chỉnh sửa",children:s.jsx(Dr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>D(I.idPhuThu),className:"text-red-600 hover:text-red-900",title:"Xóa",children:s.jsx(Ls,{className:"w-4 h-4"})})]})})]},I.idPhuThu))})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:f?"Chỉnh sửa phụ thu":"Thêm phụ thu mới"}),s.jsxs("form",{onSubmit:C,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã phụ thu"}),s.jsx("input",{type:"text",value:w.idPhuThu,onChange:I=>v({...w,idPhuThu:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:f})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên phụ thu"}),s.jsx("input",{type:"text",value:w.tenPhuThu,onChange:I=>v({...w,tenPhuThu:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lý do"}),s.jsx("textarea",{value:w.lyDo,onChange:I=>v({...w,lyDo:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{u(!1),O()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Đang lưu...":f?"Cập nhật":"Thêm"})]})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Quản lý giá phụ thu: ",x==null?void 0:x.tenPhuThu]}),s.jsx("button",{onClick:()=>{d(!1),p(null),r([])},className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Thêm giá mới"}),s.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày áp dụng"}),s.jsx("input",{type:"date",value:g.ngayApDung,onChange:I=>y({...g,ngayApDung:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá (VND)"}),s.jsx("input",{type:"number",value:g.gia,onChange:I=>y({...g,gia:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,min:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:a?"Đang thêm...":"Thêm giá"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 bg-gray-50 border-b",children:"Lịch sử giá"}),s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhân viên"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"3",className:"px-6 py-4 text-center text-gray-500",children:"Chưa có lịch sử giá"})}):n.map((I,K)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G(I.ngayApDung)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ue(I.gia)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.idNv})]},K))})]})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Oh={};Oh.version="0.18.5";var V2=1252,MA=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],K2=function(e){MA.indexOf(e)!=-1&&(V2=e)};function LA(){K2(1252)}var nc=function(e){K2(e)};function FA(){nc(1200),LA()}var su=function(t){return String.fromCharCode(t)},Ky=function(t){return String.fromCharCode(t)},Rh,oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rc(e){for(var t="",n=0,r=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)n=e.charCodeAt(u++),i=n>>2,r=e.charCodeAt(u++),o=(n&3)<<4|r>>4,a=e.charCodeAt(u++),l=(r&15)<<2|a>>6,c=a&63,isNaN(r)?l=c=64:isNaN(a)&&(c=64),t+=oa.charAt(i)+oa.charAt(o)+oa.charAt(l)+oa.charAt(c);return t}function Is(e){var t="",n=0,r=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=oa.indexOf(e.charAt(u++)),o=oa.indexOf(e.charAt(u++)),n=i<<2|o>>4,t+=String.fromCharCode(n),l=oa.indexOf(e.charAt(u++)),r=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(r)),c=oa.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var rt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ks=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function fi(e){return rt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Wy(e){return rt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Br=function(t){return rt?Ks(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Md(e){if(typeof ArrayBuffer>"u")return Br(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function jc(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function IA(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var dn=rt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ks(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function BA(e){for(var t=[],n=0,r=e.length+250,a=fi(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|l>>6&15|(o&3)<<4,a[n++]=128|l&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=fi(65535),r=65530)}return t.push(a.slice(0,n)),dn(t)}var jl=/\u0000/g,au=/[\u0001-\u0006]/g;function ro(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function $r(e,t){var n=""+e;return n.length>=t?n:Ot("0",t-n.length)+n}function Vp(e,t){var n=""+e;return n.length>=t?n:Ot(" ",t-n.length)+n}function Mh(e,t){var n=""+e;return n.length>=t?n:n+Ot(" ",t-n.length)}function $A(e,t){var n=""+Math.round(e);return n.length>=t?n:Ot("0",t-n.length)+n}function HA(e,t){var n=""+e;return n.length>=t?n:Ot("0",t-n.length)+n}var Yy=Math.pow(2,32);function Di(e,t){if(e>Yy||e<-Yy)return $A(e,t);var n=Math.round(e);return HA(n,t)}function Lh(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var zy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],If=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function UA(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Rt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},qy={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},VA={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fh(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,l=0,c=1,u=0,h=0,d=Math.floor(a);u<t&&(d=Math.floor(a),l=d*o+i,h=d*u+c,!(a-d<5e-8));)a=1/(a-d),i=o,o=l,c=u,u=h;if(h>t&&(u>t?(h=c,l=i):(h=u,l=o)),!n)return[0,r*l,h];var f=Math.floor(r*l/h);return[f,r*l-f*h,h]}function iu(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),i=0,o=[],l={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++r,++l.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),r<60&&(i=(i+6)%7),n&&(i=QA(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var W2=new Date(1899,11,31,0,0,0),KA=W2.getTime(),WA=new Date(1900,2,1,0,0,0);function Y2(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=WA&&(n+=24*60*60*1e3),(n-(KA+(e.getTimezoneOffset()-W2.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Kp(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function YA(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zA(e){var t=e<0?12:11,n=Kp(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function qA(e){var t=Kp(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function GA(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=zA(e):t===10?n=e.toFixed(10).substr(0,12):n=qA(e),Kp(YA(n.toUpperCase()))}function ym(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):GA(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return _a(14,Y2(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function QA(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function XA(e,t,n,r){var a="",i=0,o=0,l=n.y,c,u=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=n.m,u=t.length;break;case 3:return If[n.m-1][1];case 5:return If[n.m-1][0];default:return If[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=n.d,u=t.length;break;case 3:return zy[n.q][0];default:return zy[n.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?$r(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=$r(i,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var h=u>0?$r(c,u):"";return h}function la(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var z2=/%/g;function JA(e,t,n){var r=t.replace(z2,""),a=t.length-r.length;return Es(e,r,n*Math.pow(10,2*a))+Ot("%",a)}function ZA(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Es(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function q2(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+q2(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,h){return c+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var G2=/# (\?+)( ?)\/( ?)(\d+)/;function eO(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,l=r;return n+(i===0?"":""+i)+" "+(o===0?Ot(" ",e[1].length+1+e[4].length):Vp(o,e[1].length)+e[2]+"/"+e[3]+$r(l,e[4].length))}function tO(e,t,n){return n+(t===0?"":""+t)+Ot(" ",e[1].length+2+e[4].length)}var Q2=/^#*0*\.([0#]+)/,X2=/\).*[0#]/,J2=/\(###\) ###\\?-####/;function Rn(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function Gy(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Qy(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function nO(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function rO(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function yr(e,t,n){if(e.charCodeAt(0)===40&&!t.match(X2)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?yr("n",r,n):"("+yr("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return ZA(e,t,n);if(t.indexOf("%")!==-1)return JA(e,t,n);if(t.indexOf("E")!==-1)return q2(t,n);if(t.charCodeAt(0)===36)return"$"+yr(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,l,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Di(c,t.length);if(t.match(/^[#?]+$/))return a=Di(n,0),a==="0"&&(a=""),a.length>t.length?a:Rn(t.substr(0,t.length-a.length))+a;if(i=t.match(G2))return eO(i,c,u);if(t.match(/^#+0+$/))return u+Di(c,t.length-t.indexOf("0"));if(i=t.match(Q2))return a=Gy(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Rn(i[1])).replace(/\.$/,"."+Rn(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+Ot("0",Rn(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+Gy(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+la(Di(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+yr(e,t,-n):la(""+(Math.floor(n)+nO(n,i[1].length)))+"."+$r(Qy(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return yr(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ro(yr(e,t.replace(/[\\-]/g,""),n)),o=0,ro(ro(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(J2))return a=yr(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Fh(c,Math.pow(10,o)-1,!1),a=""+u,h=Es("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Mh(l[2],o),h.length<i[4].length&&(h=Rn(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Fh(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Vp(l[1],o)+i[2]+"/"+i[3]+Mh(l[2],o):Ot(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Di(n,0),t.length<=a.length?a:Rn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,f=t.length-a.length-d;return Rn(t.substr(0,d)+a+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Qy(n,i[1].length),n<0?"-"+yr(e,t,-n):la(rO(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?$r(0,3-x.length):"")+x})+"."+$r(o,i[1].length);switch(t){case"###,##0.00":return yr(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=la(Di(c,0));return m!=="0"?u+m:"";case"###,###.00":return yr(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return yr(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function sO(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Es(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function aO(e,t,n){var r=t.replace(z2,""),a=t.length-r.length;return Es(e,r,n*Math.pow(10,2*a))+Ot("%",a)}function Z2(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Z2(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,h){return c+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function qr(e,t,n){if(e.charCodeAt(0)===40&&!t.match(X2)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?qr("n",r,n):"("+qr("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return sO(e,t,n);if(t.indexOf("%")!==-1)return aO(e,t,n);if(t.indexOf("E")!==-1)return Z2(t,n);if(t.charCodeAt(0)===36)return"$"+qr(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,l,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+$r(c,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:Rn(t.substr(0,t.length-a.length))+a;if(i=t.match(G2))return tO(i,c,u);if(t.match(/^#+0+$/))return u+$r(c,t.length-t.indexOf("0"));if(i=t.match(Q2))return a=(""+n).replace(/^([^\.]+)$/,"$1."+Rn(i[1])).replace(/\.$/,"."+Rn(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+Ot("0",Rn(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+la(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+qr(e,t,-n):la(""+n)+"."+Ot("0",i[1].length);if(i=t.match(/^#,#*,#0/))return qr(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ro(qr(e,t.replace(/[\\-]/g,""),n)),o=0,ro(ro(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(J2))return a=qr(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Fh(c,Math.pow(10,o)-1,!1),a=""+u,h=Es("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Mh(l[2],o),h.length<i[4].length&&(h=Rn(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Fh(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Vp(l[1],o)+i[2]+"/"+i[3]+Mh(l[2],o):Ot(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Rn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,f=t.length-a.length-d;return Rn(t.substr(0,d)+a+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+qr(e,t,-n):la(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?$r(0,3-x.length):"")+x})+"."+$r(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=la(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return qr(e,t.slice(0,t.lastIndexOf(".")),n)+Rn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Es(e,t,n){return(n|0)===n?qr(e,t,n):yr(e,t,n)}function iO(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var eb=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function tb(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Lh(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(eb))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function oO(e,t,n,r){for(var a=[],i="",o=0,l="",c="t",u,h,d,f="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Lh(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(d=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),x=m==="("||m===")"?m:"t";a[a.length]={t:x,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=iu(t,n,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=iu(t,n),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=f),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var p={t:l,v:l};if(u==null&&(u=iu(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",f="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,f="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(p.v=u.H>=12?"下午":"上午"),p.t="T",o+=5,f="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(eb)){if(u==null&&(u=iu(t,n),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",tb(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var w=0,v=0,g;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=f,c="h",w<1&&(w=1);break;case"s":(g=a[o].v.match(/\.0+$/))&&(v=Math.max(v,g[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[o].v.match(/[Hh]/)&&(w=1),w<2&&a[o].v.match(/[Mm]/)&&(w=2),w<3&&a[o].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=XA(a[o].t.charCodeAt(0),a[o].v,u,v),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;y+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=ym(t,n);break}var j="",C,T;if(y.length>0){y.charCodeAt(0)==40?(C=t<0&&y.charCodeAt(0)===45?-t:t,T=Es("n",y,C)):(C=t<0&&r>1?-t:t,T=Es("n",y,C),C<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),b=T.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var D=a.length;if(k===a.length&&T.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=T.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=T.substr(0,b+1),b=-1),a[o].t="t",D=o);b>=0&&D<a.length&&(a[D].v=T.substr(0,b+1)+a[D].v)}else if(k!==a.length&&T.indexOf("E")===-1){for(b=T.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(h=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(h+1);h>=0;--h)b>=0&&(a[o].v.charAt(h)==="0"||a[o].v.charAt(h)==="#")&&(j=T.charAt(b--)+j);a[o].v=j,a[o].t="t",D=o}for(b>=0&&D<a.length&&(a[D].v=T.substr(0,b+1)+a[D].v),b=T.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(h=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,h);h<a[o].v.length;++h)b<T.length&&(j+=T.charAt(b++));a[o].v=j,a[o].t="t",D=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Es(a[o].t,a[o].v,C),a[o].t="t");var H="";for(o=0;o!==a.length;++o)a[o]!=null&&(H+=a[o].v);return H}var Xy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Jy(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function lO(e,t){var n=iO(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(Xy),l=n[1].match(Xy);return Jy(t,o)?[r,n[0]]:Jy(t,l)?[r,n[1]]:[r,n[o!=null&&l!=null?2:1]]}return[r,i]}function _a(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Rt)[e],r==null&&(r=n.table&&n.table[qy[e]]||Rt[qy[e]]),r==null&&(r=VA[e]||"General");break}if(Lh(r,0))return ym(t,n);t instanceof Date&&(t=Y2(t,n.date1904));var a=lO(r,t);if(Lh(a[1]))return ym(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return oO(a[1],t,n,a[0])}function nb(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Rt[n]==null){t<0&&(t=n);continue}if(Rt[n]==e){t=n;break}}t<0&&(t=391)}return Rt[t]=e,t}function Ld(e){for(var t=0;t!=392;++t)e[t]!==void 0&&nb(e[t],t)}function Fd(){Rt=UA()}var rb=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function cO(e){var t=typeof e=="number"?Rt[e]:e;return t=t.replace(rb,"(\\d+)"),new RegExp("^"+t+"$")}function uO(e,t,n){var r=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(rb)||[]).forEach(function(d,f){var m=parseInt(n[f+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:r==-1&&a==-1&&i==-1?h:u+"T"+h}var hO=function(){var e={};e.version="1.2.0";function t(){for(var T=0,k=new Array(256),D=0;D!=256;++D)T=D,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,k[D]=T;return typeof Int32Array<"u"?new Int32Array(k):k}var n=t();function r(T){var k=0,D=0,H=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)O[H]=T[H];for(H=0;H!=256;++H)for(D=T[H],k=256+H;k<4096;k+=256)D=O[k]=D>>>8^T[D&255];var B=[];for(H=1;H!=16;++H)B[H-1]=typeof Int32Array<"u"?O.subarray(H*256,H*256+256):O.slice(H*256,H*256+256);return B}var a=r(n),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],h=a[5],d=a[6],f=a[7],m=a[8],x=a[9],p=a[10],w=a[11],v=a[12],g=a[13],y=a[14];function b(T,k){for(var D=k^-1,H=0,O=T.length;H<O;)D=D>>>8^n[(D^T.charCodeAt(H++))&255];return~D}function j(T,k){for(var D=k^-1,H=T.length-15,O=0;O<H;)D=y[T[O++]^D&255]^g[T[O++]^D>>8&255]^v[T[O++]^D>>16&255]^w[T[O++]^D>>>24]^p[T[O++]]^x[T[O++]]^m[T[O++]]^f[T[O++]]^d[T[O++]]^h[T[O++]]^u[T[O++]]^c[T[O++]]^l[T[O++]]^o[T[O++]]^i[T[O++]]^n[T[O++]];for(H+=15;O<H;)D=D>>>8^n[(D^T[O++])&255];return~D}function C(T,k){for(var D=k^-1,H=0,O=T.length,B=0,W=0;H<O;)B=T.charCodeAt(H++),B<128?D=D>>>8^n[(D^B)&255]:B<2048?(D=D>>>8^n[(D^(192|B>>6&31))&255],D=D>>>8^n[(D^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,W=T.charCodeAt(H++)&1023,D=D>>>8^n[(D^(240|B>>8&7))&255],D=D>>>8^n[(D^(128|B>>2&63))&255],D=D>>>8^n[(D^(128|W>>6&15|(B&3)<<4))&255],D=D>>>8^n[(D^(128|W&63))&255]):(D=D>>>8^n[(D^(224|B>>12&15))&255],D=D>>>8^n[(D^(128|B>>6&63))&255],D=D>>>8^n[(D^(128|B&63))&255]);return~D}return e.table=n,e.bstr=b,e.buf=j,e.str=C,e}(),mt=function(){var t={};t.version="1.2.1";function n(S,R){for(var _=S.split("/"),A=R.split("/"),L=0,F=0,ie=Math.min(_.length,A.length);L<ie;++L){if(F=_[L].length-A[L].length)return F;if(_[L]!=A[L])return _[L]<A[L]?-1:1}return _.length-A.length}function r(S){if(S.charAt(S.length-1)=="/")return S.slice(0,-1).indexOf("/")===-1?S:r(S.slice(0,-1));var R=S.lastIndexOf("/");return R===-1?S:S.slice(0,R+1)}function a(S){if(S.charAt(S.length-1)=="/")return a(S.slice(0,-1));var R=S.lastIndexOf("/");return R===-1?S:S.slice(R+1)}function i(S,R){typeof R=="string"&&(R=new Date(R));var _=R.getHours();_=_<<6|R.getMinutes(),_=_<<5|R.getSeconds()>>>1,S.write_shift(2,_);var A=R.getFullYear()-1980;A=A<<4|R.getMonth()+1,A=A<<5|R.getDate(),S.write_shift(2,A)}function o(S){var R=S.read_shift(2)&65535,_=S.read_shift(2)&65535,A=new Date,L=_&31;_>>>=5;var F=_&15;_>>>=4,A.setMilliseconds(0),A.setFullYear(_+1980),A.setMonth(F-1),A.setDate(L);var ie=R&31;R>>>=5;var fe=R&63;return R>>>=6,A.setHours(R),A.setMinutes(fe),A.setSeconds(ie<<1),A}function l(S){or(S,0);for(var R={},_=0;S.l<=S.length-4;){var A=S.read_shift(2),L=S.read_shift(2),F=S.l+L,ie={};switch(A){case 21589:_=S.read_shift(1),_&1&&(ie.mtime=S.read_shift(4)),L>5&&(_&2&&(ie.atime=S.read_shift(4)),_&4&&(ie.ctime=S.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}S.l=F,R[A]=ie}return R}var c;function u(){return c||(c={})}function h(S,R){if(S[0]==80&&S[1]==75)return dx(S,R);if((S[0]|32)==109&&(S[1]|32)==105)return Dj(S,R);if(S.length<512)throw new Error("CFB file size "+S.length+" < 512");var _=3,A=512,L=0,F=0,ie=0,fe=0,ae=0,le=[],ce=S.slice(0,512);or(ce,0);var Ne=d(ce);switch(_=Ne[0],_){case 3:A=512;break;case 4:A=4096;break;case 0:if(Ne[1]==0)return dx(S,R);default:throw new Error("Major Version: Expected 3 or 4 saw "+_)}A!==512&&(ce=S.slice(0,A),or(ce,28));var De=S.slice(0,A);f(ce,_);var Le=ce.read_shift(4,"i");if(_===3&&Le!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Le);ce.l+=4,ie=ce.read_shift(4,"i"),ce.l+=4,ce.chk("00100000","Mini Stream Cutoff Size: "),fe=ce.read_shift(4,"i"),L=ce.read_shift(4,"i"),ae=ce.read_shift(4,"i"),F=ce.read_shift(4,"i");for(var Se=-1,Ae=0;Ae<109&&(Se=ce.read_shift(4,"i"),!(Se<0));++Ae)le[Ae]=Se;var We=m(S,A);w(ae,F,We,A,le);var Tt=g(We,ie,le,A);Tt[ie].name="!Directory",L>0&&fe!==W&&(Tt[fe].name="!MiniFAT"),Tt[le[0]].name="!FAT",Tt.fat_addrs=le,Tt.ssz=A;var kt={},jn=[],Uo=[],Vo=[];y(ie,Tt,We,jn,L,kt,Uo,fe),x(Uo,Vo,jn),jn.shift();var Ko={FileIndex:Uo,FullPaths:Vo};return R&&R.raw&&(Ko.raw={header:De,sectors:We}),Ko}function d(S){if(S[S.l]==80&&S[S.l+1]==75)return[0,0];S.chk(ue,"Header Signature: "),S.l+=16;var R=S.read_shift(2,"u");return[S.read_shift(2,"u"),R]}function f(S,R){var _=9;switch(S.l+=2,_=S.read_shift(2)){case 9:if(R!=3)throw new Error("Sector Shift: Expected 9 saw "+_);break;case 12:if(R!=4)throw new Error("Sector Shift: Expected 12 saw "+_);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+_)}S.chk("0600","Mini Sector Shift: "),S.chk("000000000000","Reserved: ")}function m(S,R){for(var _=Math.ceil(S.length/R)-1,A=[],L=1;L<_;++L)A[L-1]=S.slice(L*R,(L+1)*R);return A[_-1]=S.slice(_*R),A}function x(S,R,_){for(var A=0,L=0,F=0,ie=0,fe=0,ae=_.length,le=[],ce=[];A<ae;++A)le[A]=ce[A]=A,R[A]=_[A];for(;fe<ce.length;++fe)A=ce[fe],L=S[A].L,F=S[A].R,ie=S[A].C,le[A]===A&&(L!==-1&&le[L]!==L&&(le[A]=le[L]),F!==-1&&le[F]!==F&&(le[A]=le[F])),ie!==-1&&(le[ie]=A),L!==-1&&A!=le[A]&&(le[L]=le[A],ce.lastIndexOf(L)<fe&&ce.push(L)),F!==-1&&A!=le[A]&&(le[F]=le[A],ce.lastIndexOf(F)<fe&&ce.push(F));for(A=1;A<ae;++A)le[A]===A&&(F!==-1&&le[F]!==F?le[A]=le[F]:L!==-1&&le[L]!==L&&(le[A]=le[L]));for(A=1;A<ae;++A)if(S[A].type!==0){if(fe=A,fe!=le[fe])do fe=le[fe],R[A]=R[fe]+"/"+R[A];while(fe!==0&&le[fe]!==-1&&fe!=le[fe]);le[A]=-1}for(R[0]+="/",A=1;A<ae;++A)S[A].type!==2&&(R[A]+="/")}function p(S,R,_){for(var A=S.start,L=S.size,F=[],ie=A;_&&L>0&&ie>=0;)F.push(R.slice(ie*B,ie*B+B)),L-=B,ie=Va(_,ie*4);return F.length===0?de(0):dn(F).slice(0,S.size)}function w(S,R,_,A,L){var F=W;if(S===W){if(R!==0)throw new Error("DIFAT chain shorter than expected")}else if(S!==-1){var ie=_[S],fe=(A>>>2)-1;if(!ie)return;for(var ae=0;ae<fe&&(F=Va(ie,ae*4))!==W;++ae)L.push(F);w(Va(ie,A-4),R-1,_,A,L)}}function v(S,R,_,A,L){var F=[],ie=[];L||(L=[]);var fe=A-1,ae=0,le=0;for(ae=R;ae>=0;){L[ae]=!0,F[F.length]=ae,ie.push(S[ae]);var ce=_[Math.floor(ae*4/A)];if(le=ae*4&fe,A<4+le)throw new Error("FAT boundary crossed: "+ae+" 4 "+A);if(!S[ce])break;ae=Va(S[ce],le)}return{nodes:F,data:iv([ie])}}function g(S,R,_,A){var L=S.length,F=[],ie=[],fe=[],ae=[],le=A-1,ce=0,Ne=0,De=0,Le=0;for(ce=0;ce<L;++ce)if(fe=[],De=ce+R,De>=L&&(De-=L),!ie[De]){ae=[];var Se=[];for(Ne=De;Ne>=0;){Se[Ne]=!0,ie[Ne]=!0,fe[fe.length]=Ne,ae.push(S[Ne]);var Ae=_[Math.floor(Ne*4/A)];if(Le=Ne*4&le,A<4+Le)throw new Error("FAT boundary crossed: "+Ne+" 4 "+A);if(!S[Ae]||(Ne=Va(S[Ae],Le),Se[Ne]))break}F[De]={nodes:fe,data:iv([ae])}}return F}function y(S,R,_,A,L,F,ie,fe){for(var ae=0,le=A.length?2:0,ce=R[S].data,Ne=0,De=0,Le;Ne<ce.length;Ne+=128){var Se=ce.slice(Ne,Ne+128);or(Se,64),De=Se.read_shift(2),Le=Gp(Se,0,De-le),A.push(Le);var Ae={name:Le,type:Se.read_shift(1),color:Se.read_shift(1),L:Se.read_shift(4,"i"),R:Se.read_shift(4,"i"),C:Se.read_shift(4,"i"),clsid:Se.read_shift(16),state:Se.read_shift(4,"i"),start:0,size:0},We=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);We!==0&&(Ae.ct=b(Se,Se.l-8));var Tt=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);Tt!==0&&(Ae.mt=b(Se,Se.l-8)),Ae.start=Se.read_shift(4,"i"),Ae.size=Se.read_shift(4,"i"),Ae.size<0&&Ae.start<0&&(Ae.size=Ae.type=0,Ae.start=W,Ae.name=""),Ae.type===5?(ae=Ae.start,L>0&&ae!==W&&(R[ae].name="!StreamData")):Ae.size>=4096?(Ae.storage="fat",R[Ae.start]===void 0&&(R[Ae.start]=v(_,Ae.start,R.fat_addrs,R.ssz)),R[Ae.start].name=Ae.name,Ae.content=R[Ae.start].data.slice(0,Ae.size)):(Ae.storage="minifat",Ae.size<0?Ae.size=0:ae!==W&&Ae.start!==W&&R[ae]&&(Ae.content=p(Ae,R[ae].data,(R[fe]||{}).data))),Ae.content&&or(Ae.content,0),F[Le]=Ae,ie.push(Ae)}}function b(S,R){return new Date((cr(S,R+4)/1e7*Math.pow(2,32)+cr(S,R)/1e7-11644473600)*1e3)}function j(S,R){return u(),h(c.readFileSync(S),R)}function C(S,R){var _=R&&R.type;switch(_||rt&&Buffer.isBuffer(S)&&(_="buffer"),_||"base64"){case"file":return j(S,R);case"base64":return h(Br(Is(S)),R);case"binary":return h(Br(S),R)}return h(S,R)}function T(S,R){var _=R||{},A=_.root||"Root Entry";if(S.FullPaths||(S.FullPaths=[]),S.FileIndex||(S.FileIndex=[]),S.FullPaths.length!==S.FileIndex.length)throw new Error("inconsistent CFB structure");S.FullPaths.length===0&&(S.FullPaths[0]=A+"/",S.FileIndex[0]={name:A,type:5}),_.CLSID&&(S.FileIndex[0].clsid=_.CLSID),k(S)}function k(S){var R="Sh33tJ5";if(!mt.find(S,"/"+R)){var _=de(4);_[0]=55,_[1]=_[3]=50,_[2]=54,S.FileIndex.push({name:R,type:2,content:_,size:4,L:69,R:69,C:69}),S.FullPaths.push(S.FullPaths[0]+R),D(S)}}function D(S,R){T(S);for(var _=!1,A=!1,L=S.FullPaths.length-1;L>=0;--L){var F=S.FileIndex[L];switch(F.type){case 0:A?_=!0:(S.FileIndex.pop(),S.FullPaths.pop());break;case 1:case 2:case 5:A=!0,isNaN(F.R*F.L*F.C)&&(_=!0),F.R>-1&&F.L>-1&&F.R==F.L&&(_=!0);break;default:_=!0;break}}if(!(!_&&!R)){var ie=new Date(1987,1,19),fe=0,ae=Object.create?Object.create(null):{},le=[];for(L=0;L<S.FullPaths.length;++L)ae[S.FullPaths[L]]=!0,S.FileIndex[L].type!==0&&le.push([S.FullPaths[L],S.FileIndex[L]]);for(L=0;L<le.length;++L){var ce=r(le[L][0]);A=ae[ce],A||(le.push([ce,{name:a(ce).replace("/",""),type:1,clsid:I,ct:ie,mt:ie,content:null}]),ae[ce]=!0)}for(le.sort(function(Le,Se){return n(Le[0],Se[0])}),S.FullPaths=[],S.FileIndex=[],L=0;L<le.length;++L)S.FullPaths[L]=le[L][0],S.FileIndex[L]=le[L][1];for(L=0;L<le.length;++L){var Ne=S.FileIndex[L],De=S.FullPaths[L];if(Ne.name=a(De).replace("/",""),Ne.L=Ne.R=Ne.C=-(Ne.color=1),Ne.size=Ne.content?Ne.content.length:0,Ne.start=0,Ne.clsid=Ne.clsid||I,L===0)Ne.C=le.length>1?1:-1,Ne.size=0,Ne.type=5;else if(De.slice(-1)=="/"){for(fe=L+1;fe<le.length&&r(S.FullPaths[fe])!=De;++fe);for(Ne.C=fe>=le.length?-1:fe,fe=L+1;fe<le.length&&r(S.FullPaths[fe])!=r(De);++fe);Ne.R=fe>=le.length?-1:fe,Ne.type=1}else r(S.FullPaths[L+1]||"")==r(De)&&(Ne.R=L+1),Ne.type=2}}}function H(S,R){var _=R||{};if(_.fileType=="mad")return Pj(S,_);switch(D(S),_.fileType){case"zip":return Tj(S,_)}var A=function(Le){for(var Se=0,Ae=0,We=0;We<Le.FileIndex.length;++We){var Tt=Le.FileIndex[We];if(Tt.content){var kt=Tt.content.length;kt>0&&(kt<4096?Se+=kt+63>>6:Ae+=kt+511>>9)}}for(var jn=Le.FullPaths.length+3>>2,Uo=Se+7>>3,Vo=Se+127>>7,Ko=Uo+Ae+jn+Vo,Ba=Ko+127>>7,Wd=Ba<=109?0:Math.ceil((Ba-109)/127);Ko+Ba+Wd+127>>7>Ba;)Wd=++Ba<=109?0:Math.ceil((Ba-109)/127);var gs=[1,Wd,Ba,Vo,jn,Ae,Se,0];return Le.FileIndex[0].size=Se<<6,gs[7]=(Le.FileIndex[0].start=gs[0]+gs[1]+gs[2]+gs[3]+gs[4]+gs[5])+(gs[6]+7>>3),gs}(S),L=de(A[7]<<9),F=0,ie=0;{for(F=0;F<8;++F)L.write_shift(1,G[F]);for(F=0;F<8;++F)L.write_shift(2,0);for(L.write_shift(2,62),L.write_shift(2,3),L.write_shift(2,65534),L.write_shift(2,9),L.write_shift(2,6),F=0;F<3;++F)L.write_shift(2,0);for(L.write_shift(4,0),L.write_shift(4,A[2]),L.write_shift(4,A[0]+A[1]+A[2]+A[3]-1),L.write_shift(4,0),L.write_shift(4,4096),L.write_shift(4,A[3]?A[0]+A[1]+A[2]-1:W),L.write_shift(4,A[3]),L.write_shift(-4,A[1]?A[0]-1:W),L.write_shift(4,A[1]),F=0;F<109;++F)L.write_shift(-4,F<A[2]?A[1]+F:-1)}if(A[1])for(ie=0;ie<A[1];++ie){for(;F<236+ie*127;++F)L.write_shift(-4,F<A[2]?A[1]+F:-1);L.write_shift(-4,ie===A[1]-1?W:ie+1)}var fe=function(Le){for(ie+=Le;F<ie-1;++F)L.write_shift(-4,F+1);Le&&(++F,L.write_shift(-4,W))};for(ie=F=0,ie+=A[1];F<ie;++F)L.write_shift(-4,K.DIFSECT);for(ie+=A[2];F<ie;++F)L.write_shift(-4,K.FATSECT);fe(A[3]),fe(A[4]);for(var ae=0,le=0,ce=S.FileIndex[0];ae<S.FileIndex.length;++ae)ce=S.FileIndex[ae],ce.content&&(le=ce.content.length,!(le<4096)&&(ce.start=ie,fe(le+511>>9)));for(fe(A[6]+7>>3);L.l&511;)L.write_shift(-4,K.ENDOFCHAIN);for(ie=F=0,ae=0;ae<S.FileIndex.length;++ae)ce=S.FileIndex[ae],ce.content&&(le=ce.content.length,!(!le||le>=4096)&&(ce.start=ie,fe(le+63>>6)));for(;L.l&511;)L.write_shift(-4,K.ENDOFCHAIN);for(F=0;F<A[4]<<2;++F){var Ne=S.FullPaths[F];if(!Ne||Ne.length===0){for(ae=0;ae<17;++ae)L.write_shift(4,0);for(ae=0;ae<3;++ae)L.write_shift(4,-1);for(ae=0;ae<12;++ae)L.write_shift(4,0);continue}ce=S.FileIndex[F],F===0&&(ce.start=ce.size?ce.start-1:W);var De=F===0&&_.root||ce.name;if(le=2*(De.length+1),L.write_shift(64,De,"utf16le"),L.write_shift(2,le),L.write_shift(1,ce.type),L.write_shift(1,ce.color),L.write_shift(-4,ce.L),L.write_shift(-4,ce.R),L.write_shift(-4,ce.C),ce.clsid)L.write_shift(16,ce.clsid,"hex");else for(ae=0;ae<4;++ae)L.write_shift(4,0);L.write_shift(4,ce.state||0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,ce.start),L.write_shift(4,ce.size),L.write_shift(4,0)}for(F=1;F<S.FileIndex.length;++F)if(ce=S.FileIndex[F],ce.size>=4096)if(L.l=ce.start+1<<9,rt&&Buffer.isBuffer(ce.content))ce.content.copy(L,L.l,0,ce.size),L.l+=ce.size+511&-512;else{for(ae=0;ae<ce.size;++ae)L.write_shift(1,ce.content[ae]);for(;ae&511;++ae)L.write_shift(1,0)}for(F=1;F<S.FileIndex.length;++F)if(ce=S.FileIndex[F],ce.size>0&&ce.size<4096)if(rt&&Buffer.isBuffer(ce.content))ce.content.copy(L,L.l,0,ce.size),L.l+=ce.size+63&-64;else{for(ae=0;ae<ce.size;++ae)L.write_shift(1,ce.content[ae]);for(;ae&63;++ae)L.write_shift(1,0)}if(rt)L.l=L.length;else for(;L.l<L.length;)L.write_shift(1,0);return L}function O(S,R){var _=S.FullPaths.map(function(ae){return ae.toUpperCase()}),A=_.map(function(ae){var le=ae.split("/");return le[le.length-(ae.slice(-1)=="/"?2:1)]}),L=!1;R.charCodeAt(0)===47?(L=!0,R=_[0].slice(0,-1)+R):L=R.indexOf("/")!==-1;var F=R.toUpperCase(),ie=L===!0?_.indexOf(F):A.indexOf(F);if(ie!==-1)return S.FileIndex[ie];var fe=!F.match(au);for(F=F.replace(jl,""),fe&&(F=F.replace(au,"!")),ie=0;ie<_.length;++ie)if((fe?_[ie].replace(au,"!"):_[ie]).replace(jl,"")==F||(fe?A[ie].replace(au,"!"):A[ie]).replace(jl,"")==F)return S.FileIndex[ie];return null}var B=64,W=-2,ue="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(S,R,_){u();var A=H(S,_);c.writeFileSync(R,A)}function z(S){for(var R=new Array(S.length),_=0;_<S.length;++_)R[_]=String.fromCharCode(S[_]);return R.join("")}function J(S,R){var _=H(S,R);switch(R&&R.type||"buffer"){case"file":return u(),c.writeFileSync(R.filename,_),_;case"binary":return typeof _=="string"?_:z(_);case"base64":return rc(typeof _=="string"?_:z(_));case"buffer":if(rt)return Buffer.isBuffer(_)?_:Ks(_);case"array":return typeof _=="string"?Br(_):_}return _}var pe;function P(S){try{var R=S.InflateRaw,_=new R;if(_._processChunk(new Uint8Array([3,0]),_._finishFlushFlag),_.bytesRead)pe=S;else throw new Error("zlib does not expose bytesRead")}catch(A){console.error("cannot use native zlib: "+(A.message||A))}}function ee(S,R){if(!pe)return ux(S,R);var _=pe.InflateRaw,A=new _,L=A._processChunk(S.slice(S.l),A._finishFlushFlag);return S.l+=A.bytesRead,L}function Y(S){return pe?pe.deflateRawSync(S):we(S)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(S){var R=(S<<1|S<<11)&139536|(S<<5|S<<15)&558144;return(R>>16|R>>8|R)&255}for(var E=typeof Uint8Array<"u",ne=E?new Uint8Array(256):[],je=0;je<256;++je)ne[je]=ve(je);function te(S,R){var _=ne[S&255];return R<=8?_>>>8-R:(_=_<<8|ne[S>>8&255],R<=16?_>>>16-R:(_=_<<8|ne[S>>16&255],_>>>24-R))}function Te(S,R){var _=R&7,A=R>>>3;return(S[A]|(_<=6?0:S[A+1]<<8))>>>_&3}function Ce(S,R){var _=R&7,A=R>>>3;return(S[A]|(_<=5?0:S[A+1]<<8))>>>_&7}function Pe(S,R){var _=R&7,A=R>>>3;return(S[A]|(_<=4?0:S[A+1]<<8))>>>_&15}function Be(S,R){var _=R&7,A=R>>>3;return(S[A]|(_<=3?0:S[A+1]<<8))>>>_&31}function oe(S,R){var _=R&7,A=R>>>3;return(S[A]|(_<=1?0:S[A+1]<<8))>>>_&127}function Ue(S,R,_){var A=R&7,L=R>>>3,F=(1<<_)-1,ie=S[L]>>>A;return _<8-A||(ie|=S[L+1]<<8-A,_<16-A)||(ie|=S[L+2]<<16-A,_<24-A)||(ie|=S[L+3]<<24-A),ie&F}function Q(S,R,_){var A=R&7,L=R>>>3;return A<=5?S[L]|=(_&7)<<A:(S[L]|=_<<A&255,S[L+1]=(_&7)>>8-A),R+3}function ge(S,R,_){var A=R&7,L=R>>>3;return _=(_&1)<<A,S[L]|=_,R+1}function ye(S,R,_){var A=R&7,L=R>>>3;return _<<=A,S[L]|=_&255,_>>>=8,S[L+1]=_,R+8}function Oe(S,R,_){var A=R&7,L=R>>>3;return _<<=A,S[L]|=_&255,_>>>=8,S[L+1]=_&255,S[L+2]=_>>>8,R+16}function Ve(S,R){var _=S.length,A=2*_>R?2*_:R+5,L=0;if(_>=R)return S;if(rt){var F=Wy(A);if(S.copy)S.copy(F);else for(;L<S.length;++L)F[L]=S[L];return F}else if(E){var ie=new Uint8Array(A);if(ie.set)ie.set(S);else for(;L<_;++L)ie[L]=S[L];return ie}return S.length=A,S}function Ye(S){for(var R=new Array(S),_=0;_<S;++_)R[_]=0;return R}function Je(S,R,_){var A=1,L=0,F=0,ie=0,fe=0,ae=S.length,le=E?new Uint16Array(32):Ye(32);for(F=0;F<32;++F)le[F]=0;for(F=ae;F<_;++F)S[F]=0;ae=S.length;var ce=E?new Uint16Array(ae):Ye(ae);for(F=0;F<ae;++F)le[L=S[F]]++,A<L&&(A=L),ce[F]=0;for(le[0]=0,F=1;F<=A;++F)le[F+16]=fe=fe+le[F-1]<<1;for(F=0;F<ae;++F)fe=S[F],fe!=0&&(ce[F]=le[fe+16]++);var Ne=0;for(F=0;F<ae;++F)if(Ne=S[F],Ne!=0)for(fe=te(ce[F],A)>>A-Ne,ie=(1<<A+4-Ne)-1;ie>=0;--ie)R[fe|ie<<Ne]=Ne&15|F<<4;return A}var xt=E?new Uint16Array(512):Ye(512),Ht=E?new Uint16Array(32):Ye(32);if(!E){for(var bn=0;bn<512;++bn)xt[bn]=0;for(bn=0;bn<32;++bn)Ht[bn]=0}(function(){for(var S=[],R=0;R<32;R++)S.push(5);Je(S,Ht,32);var _=[];for(R=0;R<=143;R++)_.push(8);for(;R<=255;R++)_.push(9);for(;R<=279;R++)_.push(7);for(;R<=287;R++)_.push(8);Je(_,xt,288)})();var Z=function(){for(var R=E?new Uint8Array(32768):[],_=0,A=0;_<he.length-1;++_)for(;A<he[_+1];++A)R[A]=_;for(;A<32768;++A)R[A]=29;var L=E?new Uint8Array(259):[];for(_=0,A=0;_<U.length-1;++_)for(;A<U[_+1];++A)L[A]=_;function F(fe,ae){for(var le=0;le<fe.length;){var ce=Math.min(65535,fe.length-le),Ne=le+ce==fe.length;for(ae.write_shift(1,+Ne),ae.write_shift(2,ce),ae.write_shift(2,~ce&65535);ce-- >0;)ae[ae.l++]=fe[le++]}return ae.l}function ie(fe,ae){for(var le=0,ce=0,Ne=E?new Uint16Array(32768):[];ce<fe.length;){var De=Math.min(65535,fe.length-ce);if(De<10){for(le=Q(ae,le,+(ce+De==fe.length)),le&7&&(le+=8-(le&7)),ae.l=le/8|0,ae.write_shift(2,De),ae.write_shift(2,~De&65535);De-- >0;)ae[ae.l++]=fe[ce++];le=ae.l*8;continue}le=Q(ae,le,+(ce+De==fe.length)+2);for(var Le=0;De-- >0;){var Se=fe[ce];Le=(Le<<5^Se)&32767;var Ae=-1,We=0;if((Ae=Ne[Le])&&(Ae|=ce&-32768,Ae>ce&&(Ae-=32768),Ae<ce))for(;fe[Ae+We]==fe[ce+We]&&We<250;)++We;if(We>2){Se=L[We],Se<=22?le=ye(ae,le,ne[Se+1]>>1)-1:(ye(ae,le,3),le+=5,ye(ae,le,ne[Se-23]>>5),le+=3);var Tt=Se<8?0:Se-4>>2;Tt>0&&(Oe(ae,le,We-U[Se]),le+=Tt),Se=R[ce-Ae],le=ye(ae,le,ne[Se]>>3),le-=3;var kt=Se<4?0:Se-2>>1;kt>0&&(Oe(ae,le,ce-Ae-he[Se]),le+=kt);for(var jn=0;jn<We;++jn)Ne[Le]=ce&32767,Le=(Le<<5^fe[ce])&32767,++ce;De-=We-1}else Se<=143?Se=Se+48:le=ge(ae,le,1),le=ye(ae,le,ne[Se]),Ne[Le]=ce&32767,++ce}le=ye(ae,le,0)-1}return ae.l=(le+7)/8|0,ae.l}return function(ae,le){return ae.length<8?F(ae,le):ie(ae,le)}}();function we(S){var R=de(50+Math.floor(S.length*1.1)),_=Z(S,R);return R.slice(0,_)}var Re=E?new Uint16Array(32768):Ye(32768),Ke=E?new Uint16Array(32768):Ye(32768),ze=E?new Uint16Array(128):Ye(128),gt=1,on=1;function nr(S,R){var _=Be(S,R)+257;R+=5;var A=Be(S,R)+1;R+=5;var L=Pe(S,R)+4;R+=4;for(var F=0,ie=E?new Uint8Array(19):Ye(19),fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ae=1,le=E?new Uint8Array(8):Ye(8),ce=E?new Uint8Array(8):Ye(8),Ne=ie.length,De=0;De<L;++De)ie[q[De]]=F=Ce(S,R),ae<F&&(ae=F),le[F]++,R+=3;var Le=0;for(le[0]=0,De=1;De<=ae;++De)ce[De]=Le=Le+le[De-1]<<1;for(De=0;De<Ne;++De)(Le=ie[De])!=0&&(fe[De]=ce[Le]++);var Se=0;for(De=0;De<Ne;++De)if(Se=ie[De],Se!=0){Le=ne[fe[De]]>>8-Se;for(var Ae=(1<<7-Se)-1;Ae>=0;--Ae)ze[Le|Ae<<Se]=Se&7|De<<3}var We=[];for(ae=1;We.length<_+A;)switch(Le=ze[oe(S,R)],R+=Le&7,Le>>>=3){case 16:for(F=3+Te(S,R),R+=2,Le=We[We.length-1];F-- >0;)We.push(Le);break;case 17:for(F=3+Ce(S,R),R+=3;F-- >0;)We.push(0);break;case 18:for(F=11+oe(S,R),R+=7;F-- >0;)We.push(0);break;default:We.push(Le),ae<Le&&(ae=Le);break}var Tt=We.slice(0,_),kt=We.slice(_);for(De=_;De<286;++De)Tt[De]=0;for(De=A;De<30;++De)kt[De]=0;return gt=Je(Tt,Re,286),on=Je(kt,Ke,30),R}function Vd(S,R){if(S[0]==3&&!(S[1]&3))return[fi(R),2];for(var _=0,A=0,L=Wy(R||1<<18),F=0,ie=L.length>>>0,fe=0,ae=0;!(A&1);){if(A=Ce(S,_),_+=3,A>>>1)A>>1==1?(fe=9,ae=5):(_=nr(S,_),fe=gt,ae=on);else{_&7&&(_+=8-(_&7));var le=S[_>>>3]|S[(_>>>3)+1]<<8;if(_+=32,le>0)for(!R&&ie<F+le&&(L=Ve(L,F+le),ie=L.length);le-- >0;)L[F++]=S[_>>>3],_+=8;continue}for(;;){!R&&ie<F+32767&&(L=Ve(L,F+32767),ie=L.length);var ce=Ue(S,_,fe),Ne=A>>>1==1?xt[ce]:Re[ce];if(_+=Ne&15,Ne>>>=4,!(Ne>>>8&255))L[F++]=Ne;else{if(Ne==256)break;Ne-=257;var De=Ne<8?0:Ne-4>>2;De>5&&(De=0);var Le=F+U[Ne];De>0&&(Le+=Ue(S,_,De),_+=De),ce=Ue(S,_,ae),Ne=A>>>1==1?Ht[ce]:Ke[ce],_+=Ne&15,Ne>>>=4;var Se=Ne<4?0:Ne-2>>1,Ae=he[Ne];for(Se>0&&(Ae+=Ue(S,_,Se),_+=Se),!R&&ie<Le&&(L=Ve(L,Le+100),ie=L.length);F<Le;)L[F]=L[F-Ae],++F}}}return R?[L,_+7>>>3]:[L.slice(0,F),_+7>>>3]}function ux(S,R){var _=S.slice(S.l||0),A=Vd(_,R);return S.l+=A[1],A[0]}function hx(S,R){if(S)typeof console<"u"&&console.error(R);else throw new Error(R)}function dx(S,R){var _=S;or(_,0);var A=[],L=[],F={FileIndex:A,FullPaths:L};T(F,{root:R.root});for(var ie=_.length-4;(_[ie]!=80||_[ie+1]!=75||_[ie+2]!=5||_[ie+3]!=6)&&ie>=0;)--ie;_.l=ie+4,_.l+=4;var fe=_.read_shift(2);_.l+=6;var ae=_.read_shift(4);for(_.l=ae,ie=0;ie<fe;++ie){_.l+=20;var le=_.read_shift(4),ce=_.read_shift(4),Ne=_.read_shift(2),De=_.read_shift(2),Le=_.read_shift(2);_.l+=8;var Se=_.read_shift(4),Ae=l(_.slice(_.l+Ne,_.l+Ne+De));_.l+=Ne+De+Le;var We=_.l;_.l=Se+4,jj(_,le,ce,F,Ae),_.l=We}return F}function jj(S,R,_,A,L){S.l+=2;var F=S.read_shift(2),ie=S.read_shift(2),fe=o(S);if(F&8257)throw new Error("Unsupported ZIP encryption");for(var ae=S.read_shift(4),le=S.read_shift(4),ce=S.read_shift(4),Ne=S.read_shift(2),De=S.read_shift(2),Le="",Se=0;Se<Ne;++Se)Le+=String.fromCharCode(S[S.l++]);if(De){var Ae=l(S.slice(S.l,S.l+De));(Ae[21589]||{}).mt&&(fe=Ae[21589].mt),((L||{})[21589]||{}).mt&&(fe=L[21589].mt)}S.l+=De;var We=S.slice(S.l,S.l+le);switch(ie){case 8:We=ee(S,ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var Tt=!1;F&8&&(ae=S.read_shift(4),ae==134695760&&(ae=S.read_shift(4),Tt=!0),le=S.read_shift(4),ce=S.read_shift(4)),le!=R&&hx(Tt,"Bad compressed size: "+R+" != "+le),ce!=_&&hx(Tt,"Bad uncompressed size: "+_+" != "+ce),Kd(A,Le,We,{unsafe:!0,mt:fe})}function Tj(S,R){var _=R||{},A=[],L=[],F=de(1),ie=_.compression?8:0,fe=0,ae=0,le=0,ce=0,Ne=0,De=S.FullPaths[0],Le=De,Se=S.FileIndex[0],Ae=[],We=0;for(ae=1;ae<S.FullPaths.length;++ae)if(Le=S.FullPaths[ae].slice(De.length),Se=S.FileIndex[ae],!(!Se.size||!Se.content||Le=="Sh33tJ5")){var Tt=ce,kt=de(Le.length);for(le=0;le<Le.length;++le)kt.write_shift(1,Le.charCodeAt(le)&127);kt=kt.slice(0,kt.l),Ae[Ne]=hO.buf(Se.content,0);var jn=Se.content;ie==8&&(jn=Y(jn)),F=de(30),F.write_shift(4,67324752),F.write_shift(2,20),F.write_shift(2,fe),F.write_shift(2,ie),Se.mt?i(F,Se.mt):F.write_shift(4,0),F.write_shift(-4,Ae[Ne]),F.write_shift(4,jn.length),F.write_shift(4,Se.content.length),F.write_shift(2,kt.length),F.write_shift(2,0),ce+=F.length,A.push(F),ce+=kt.length,A.push(kt),ce+=jn.length,A.push(jn),F=de(46),F.write_shift(4,33639248),F.write_shift(2,0),F.write_shift(2,20),F.write_shift(2,fe),F.write_shift(2,ie),F.write_shift(4,0),F.write_shift(-4,Ae[Ne]),F.write_shift(4,jn.length),F.write_shift(4,Se.content.length),F.write_shift(2,kt.length),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(4,0),F.write_shift(4,Tt),We+=F.l,L.push(F),We+=kt.length,L.push(kt),++Ne}return F=de(22),F.write_shift(4,101010256),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,Ne),F.write_shift(2,Ne),F.write_shift(4,We),F.write_shift(4,ce),F.write_shift(2,0),dn([dn(A),dn(L),F])}var _c={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kj(S,R){if(S.ctype)return S.ctype;var _=S.name||"",A=_.match(/\.([^\.]+)$/);return A&&_c[A[1]]||R&&(A=(_=R).match(/[\.\\]([^\.\\])+$/),A&&_c[A[1]])?_c[A[1]]:"application/octet-stream"}function Sj(S){for(var R=rc(S),_=[],A=0;A<R.length;A+=76)_.push(R.slice(A,A+76));return _.join(`\r
`)+`\r
`}function Cj(S){var R=S.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(le){var ce=le.charCodeAt(0).toString(16).toUpperCase();return"="+(ce.length==1?"0"+ce:ce)});R=R.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),R.charAt(0)==`
`&&(R="=0D"+R.slice(1)),R=R.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var _=[],A=R.split(`\r
`),L=0;L<A.length;++L){var F=A[L];if(F.length==0){_.push("");continue}for(var ie=0;ie<F.length;){var fe=76,ae=F.slice(ie,ie+fe);ae.charAt(fe-1)=="="?fe--:ae.charAt(fe-2)=="="?fe-=2:ae.charAt(fe-3)=="="&&(fe-=3),ae=F.slice(ie,ie+fe),ie+=fe,ie<F.length&&(ae+="="),_.push(ae)}}return _.join(`\r
`)}function Ej(S){for(var R=[],_=0;_<S.length;++_){for(var A=S[_];_<=S.length&&A.charAt(A.length-1)=="=";)A=A.slice(0,A.length-1)+S[++_];R.push(A)}for(var L=0;L<R.length;++L)R[L]=R[L].replace(/[=][0-9A-Fa-f]{2}/g,function(F){return String.fromCharCode(parseInt(F.slice(1),16))});return Br(R.join(`\r
`))}function _j(S,R,_){for(var A="",L="",F="",ie,fe=0;fe<10;++fe){var ae=R[fe];if(!ae||ae.match(/^\s*$/))break;var le=ae.match(/^(.*?):\s*([^\s].*)$/);if(le)switch(le[1].toLowerCase()){case"content-location":A=le[2].trim();break;case"content-type":F=le[2].trim();break;case"content-transfer-encoding":L=le[2].trim();break}}switch(++fe,L.toLowerCase()){case"base64":ie=Br(Is(R.slice(fe).join("")));break;case"quoted-printable":ie=Ej(R.slice(fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+L)}var ce=Kd(S,A.slice(_.length),ie,{unsafe:!0});F&&(ce.ctype=F)}function Dj(S,R){if(z(S.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var _=R&&R.root||"",A=(rt&&Buffer.isBuffer(S)?S.toString("binary"):z(S)).split(`\r
`),L=0,F="";for(L=0;L<A.length;++L)if(F=A[L],!!/^Content-Location:/i.test(F)&&(F=F.slice(F.indexOf("file")),_||(_=F.slice(0,F.lastIndexOf("/")+1)),F.slice(0,_.length)!=_))for(;_.length>0&&(_=_.slice(0,_.length-1),_=_.slice(0,_.lastIndexOf("/")+1),F.slice(0,_.length)!=_););var ie=(A[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var fe="--"+(ie[1]||""),ae=[],le=[],ce={FileIndex:ae,FullPaths:le};T(ce);var Ne,De=0;for(L=0;L<A.length;++L){var Le=A[L];Le!==fe&&Le!==fe+"--"||(De++&&_j(ce,A.slice(Ne,L),_),Ne=L)}return ce}function Pj(S,R){var _=R||{},A=_.boundary||"SheetJS";A="------="+A;for(var L=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+A.slice(2)+'"',"","",""],F=S.FullPaths[0],ie=F,fe=S.FileIndex[0],ae=1;ae<S.FullPaths.length;++ae)if(ie=S.FullPaths[ae].slice(F.length),fe=S.FileIndex[ae],!(!fe.size||!fe.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(We){return"_x"+We.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(We){return"_u"+We.charCodeAt(0).toString(16)+"_"});for(var le=fe.content,ce=rt&&Buffer.isBuffer(le)?le.toString("binary"):z(le),Ne=0,De=Math.min(1024,ce.length),Le=0,Se=0;Se<=De;++Se)(Le=ce.charCodeAt(Se))>=32&&Le<128&&++Ne;var Ae=Ne>=De*4/5;L.push(A),L.push("Content-Location: "+(_.root||"file:///C:/SheetJS/")+ie),L.push("Content-Transfer-Encoding: "+(Ae?"quoted-printable":"base64")),L.push("Content-Type: "+kj(fe,ie)),L.push(""),L.push(Ae?Cj(ce):Sj(ce))}return L.push(A+`--\r
`),L.join(`\r
`)}function Aj(S){var R={};return T(R,S),R}function Kd(S,R,_,A){var L=A&&A.unsafe;L||T(S);var F=!L&&mt.find(S,R);if(!F){var ie=S.FullPaths[0];R.slice(0,ie.length)==ie?ie=R:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+R).replace("//","/")),F={name:a(R),type:2},S.FileIndex.push(F),S.FullPaths.push(ie),L||mt.utils.cfb_gc(S)}return F.content=_,F.size=_?_.length:0,A&&(A.CLSID&&(F.clsid=A.CLSID),A.mt&&(F.mt=A.mt),A.ct&&(F.ct=A.ct)),F}function Oj(S,R){T(S);var _=mt.find(S,R);if(_){for(var A=0;A<S.FileIndex.length;++A)if(S.FileIndex[A]==_)return S.FileIndex.splice(A,1),S.FullPaths.splice(A,1),!0}return!1}function Rj(S,R,_){T(S);var A=mt.find(S,R);if(A){for(var L=0;L<S.FileIndex.length;++L)if(S.FileIndex[L]==A)return S.FileIndex[L].name=a(_),S.FullPaths[L]=_,!0}return!1}function Mj(S){D(S,!0)}return t.find=O,t.read=C,t.parse=h,t.write=J,t.writeFile=se,t.utils={cfb_new:Aj,cfb_add:Kd,cfb_del:Oj,cfb_mov:Rj,cfb_gc:Mj,ReadShift:kl,CheckField:Nb,prep_blob:or,bconcat:dn,use_zlib:P,_deflateRaw:we,_inflateRaw:ux,consts:K},t}();function dO(e){return typeof e=="string"?Md(e):Array.isArray(e)?IA(e):e}function Tc(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=Md(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?ac(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var a=new Blob([dO(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=jc(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Nn(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Zy(e,t){for(var n=[],r=Nn(e),a=0;a!==r.length;++a)n[e[r[a]][t]]==null&&(n[e[r[a]][t]]=r[a]);return n}function Wp(e){for(var t=[],n=Nn(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Id(e){for(var t=[],n=Nn(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function fO(e){for(var t=[],n=Nn(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var Ih=new Date(1899,11,30,0,0,0);function Zn(e,t){var n=e.getTime(),r=Ih.getTime()+(e.getTimezoneOffset()-Ih.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var sb=new Date,mO=Ih.getTime()+(sb.getTimezoneOffset()-Ih.getTimezoneOffset())*6e4,ev=sb.getTimezoneOffset();function ab(e){var t=new Date;return t.setTime(e*24*60*60*1e3+mO),t.getTimezoneOffset()!==ev&&t.setTime(t.getTime()+(t.getTimezoneOffset()-ev)*6e4),t}var tv=new Date("2017-02-19T19:06:09.000Z"),ib=isNaN(tv.getFullYear())?new Date("2/19/17"):tv,pO=ib.getFullYear()==2017;function $n(e,t){var n=new Date(e);if(pO)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(ib.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Bd(e,t){if(rt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return n[i]||i})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function er(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=er(e[n]));return t}function Ot(e,t){for(var n="";n.length<t;)n+=e;return n}function _s(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var xO=["january","february","march","april","may","june","july","august","september","october","november","december"];function sc(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&xO.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function qe(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return rt?r=Ks(n):r=BA(n),mt.utils.cfb_add(e,t,r)}mt.utils.cfb_add(e,t,n)}else e.file(t,n)}function Yp(){return mt.utils.cfb_new()}var zt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,gO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},zp=Wp(gO),qp=/[&<>'"]/g,yO=/[\u0000-\u0008\u000b-\u001f]/g;function ht(e){var t=e+"";return t.replace(qp,function(n){return zp[n]}).replace(yO,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function nv(e){return ht(e).replace(/ /g,"_x0020_")}var ob=/[\u0000-\u001f]/g;function vO(e){var t=e+"";return t.replace(qp,function(n){return zp[n]}).replace(/\n/g,"<br/>").replace(ob,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function wO(e){var t=e+"";return t.replace(qp,function(n){return zp[n]}).replace(ob,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function NO(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function bO(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Bf(e){for(var t="",n=0,r=0,a=0,i=0,o=0,l=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),l=((r&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function rv(e){var t=fi(2*e.length),n,r,a=1,i=0,o=0,l;for(r=0;r<e.length;r+=a)a=1,(l=e.charCodeAt(r))<128?n=l:l<224?(n=(l&31)*64+(e.charCodeAt(r+1)&63),a=2):l<240?(n=(l&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(l&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function sv(e){return Ks(e,"binary").toString("utf8")}var ou="foo bar bazâð£",Tl=rt&&(sv(ou)==Bf(ou)&&sv||rv(ou)==Bf(ou)&&rv)||Bf,ac=rt?function(e){return Ks(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},jO=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}}(),lb=/(^\s|\s$|\n)/;function fn(e,t){return"<"+e+(t.match(lb)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ic(e){return Nn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ee(e,t,n){return"<"+e+(n!=null?ic(n):"")+(t!=null?(t.match(lb)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function vm(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function TO(e,t){switch(typeof e){case"string":var n=Ee("vt:lpwstr",ht(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Ee((e|0)==e?"vt:i4":"vt:r8",ht(String(e)));case"boolean":return Ee("vt:bool",e?"true":"false")}if(e instanceof Date)return Ee("vt:filetime",vm(e));throw new Error("Unable to serialize "+e)}var Jt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Io=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],lr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function kO(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function SO(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[n+l]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|r}var av=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,i=e[0][r].length;a<i;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},iv=rt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ks(t)})):av(e)}:av,ov=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(ul(e,a)));return r.join("").replace(jl,"")},Gp=rt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(jl,""):ov(e,t,n)}:ov,lv=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},cb=rt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):lv(e,t,n)}:lv,cv=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(Mi(e,a)));return r.join("")},kc=rt?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):cv(t,n,r)}:cv,ub=function(e,t){var n=cr(e,t);return n>0?kc(e,t+4,t+4+n-1):""},hb=ub,db=function(e,t){var n=cr(e,t);return n>0?kc(e,t+4,t+4+n-1):""},fb=db,mb=function(e,t){var n=2*cr(e,t);return n>0?kc(e,t+4,t+4+n-1):""},pb=mb,xb=function(t,n){var r=cr(t,n);return r>0?Gp(t,n+4,n+4+r):""},gb=xb,yb=function(e,t){var n=cr(e,t);return n>0?kc(e,t+4,t+4+n):""},vb=yb,wb=function(e,t){return kO(e,t)},Bh=wb,Qp=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rt&&(hb=function(t,n){if(!Buffer.isBuffer(t))return ub(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},fb=function(t,n){if(!Buffer.isBuffer(t))return db(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},pb=function(t,n){if(!Buffer.isBuffer(t))return mb(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},gb=function(t,n){if(!Buffer.isBuffer(t))return xb(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},vb=function(t,n){if(!Buffer.isBuffer(t))return yb(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},Bh=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):wb(t,n)},Qp=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Mi=function(e,t){return e[t]},ul=function(e,t){return e[t+1]*256+e[t]},CO=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},cr=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Va=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},EO=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function kl(e,t){var n="",r,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,rt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)n+=String.fromCharCode(ul(this,u)),u+=2;e*=2;break;case"utf8":n=kc(this,this.l,this.l+e);break;case"utf16le":e*=2,n=Gp(this,this.l,this.l+e);break;case"wstr":return kl.call(this,e,"dbcs");case"lpstr-ansi":n=hb(this,this.l),e=4+cr(this,this.l);break;case"lpstr-cp":n=fb(this,this.l),e=4+cr(this,this.l);break;case"lpwstr":n=pb(this,this.l),e=4+2*cr(this,this.l);break;case"lpp4":e=4+cr(this,this.l),n=gb(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+cr(this,this.l),n=vb(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Mi(this,this.l+e++))!==0;)i.push(su(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=ul(this,this.l+e))!==0;)i.push(su(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Mi(this,u),this.l=u+1,l=kl.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(su(ul(this,u))),u+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Mi(this,u),this.l=u+1,l=kl.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(su(Mi(this,u))),u+=1}n=i.join("");break;default:switch(e){case 1:return r=Mi(this,this.l),this.l++,r;case 2:return r=(t==="i"?CO:ul)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?Va:EO)(this,this.l),this.l+=4,r):(a=cr(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Bh(this,this.l):a=Bh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=cb(this,this.l,e);break}}return this.l+=e,n}var _O=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},DO=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},PO=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function AO(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)PO(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,_O(this,t,this.l);break;case 8:if(r=8,n==="f"){SO(this,t,this.l);break}case 16:break;case-4:r=4,DO(this,t,this.l);break}return this.l+=r,this}function Nb(e,t){var n=cb(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function or(e,t){e.l=t,e.read_shift=kl,e.chk=Nb,e.write_shift=AO}function ms(e,t){e.l+=t}function de(e){var t=fi(e);return or(t,0),t}function Jn(){var e=[],t=rt?256:2048,n=function(u){var h=de(u);return or(h,0),h},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(u){return r&&u<r.length-r.l?r:(a(),r=n(Math.max(u+1,t)))},o=function(){return a(),dn(e)},l=function(u){a(),r=u,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function xe(e,t,n,r){var a=+t,i;if(!isNaN(a)){r||(r=k8[a].p||(n||[]).length||0),i=1+(a>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&Qp(n)&&e.push(n)}}function Sl(e,t,n){var r=er(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function uv(e,t,n){var r=er(e);return r.s=Sl(r.s,t.s,n),r.e=Sl(r.e,t.s,n),r}function Cl(e,t){if(e.cRel&&e.c<0)for(e=er(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=er(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=ft(e);return!e.cRel&&e.cRel!=null&&(n=MO(n)),!e.rRel&&e.rRel!=null&&(n=OO(n)),n}function $f(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+En(e.s.c)+":"+(e.e.cRel?"":"$")+En(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+vn(e.s.r)+":"+(e.e.rRel?"":"$")+vn(e.e.r):Cl(e.s,t.biff)+":"+Cl(e.e,t.biff)}function Xp(e){return parseInt(RO(e),10)-1}function vn(e){return""+(e+1)}function OO(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function RO(e){return e.replace(/\$(\d+)$/,"$1")}function Jp(e){for(var t=LO(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function En(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function MO(e){return e.replace(/^([A-Z])/,"$$$1")}function LO(e){return e.replace(/^\$([A-Z])/,"$1")}function FO(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Zt(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function ft(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function pr(e){var t=e.indexOf(":");return t==-1?{s:Zt(e),e:Zt(e)}:{s:Zt(e.slice(0,t)),e:Zt(e.slice(t+1))}}function Yt(e,t){return typeof t>"u"||typeof t=="number"?Yt(e.s,e.e):(typeof e!="string"&&(e=ft(e)),typeof t!="string"&&(t=ft(t)),e==t?e:e+":"+t)}function bt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function hv(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=_a(e.z,n?Zn(t):t)}catch{}try{return e.w=_a((e.XF||{}).numFmtId||(n?14:0),n?Zn(t):t)}catch{return""+t}}function Bs(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Sc[e.v]||e.v:t==null?hv(e,e.v):hv(e,t))}function Ni(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function bb(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Zt(r.origin):r.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=bt(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[d].length;++f)if(!(typeof t[d][f]>"u")){var m={v:t[d][f]},x=o+d,p=l+f;if(u.s.r>x&&(u.s.r=x),u.s.c>p&&(u.s.c=p),u.e.r<x&&(u.e.r=x),u.e.c<p&&(u.e.c=p),t[d][f]&&typeof t[d][f]=="object"&&!Array.isArray(t[d][f])&&!(t[d][f]instanceof Date))m=t[d][f];else if(Array.isArray(m.v)&&(m.f=t[d][f][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Rt[14],r.cellDates?(m.t="d",m.w=_a(m.z,Zn(m.v))):(m.t="n",m.v=Zn(m.v),m.w=_a(m.z,m.v))):m.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(m.z=i[x][p].z),i[x][p]=m;else{var w=ft({c:p,r:x});i[w]&&i[w].z&&(m.z=i[w].z),i[w]=m}}}return u.s.c<1e7&&(i["!ref"]=Yt(u)),i}function Bo(e,t){return bb(null,e,t)}function IO(e){return e.read_shift(4,"i")}function Vr(e,t){return t||(t=de(4)),t.write_shift(4,e),t}function _n(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function en(e,t){var n=!1;return t==null&&(n=!0,t=de(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function BO(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function $O(e,t){return t||(t=de(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Zp(e,t){var n=e.l,r=e.read_shift(1),a=_n(e),i=[],o={t:a,h:a};if(r&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(BO(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function HO(e,t){var n=!1;return t==null&&(n=!0,t=de(15+4*e.t.length)),t.write_shift(1,0),en(e.t,t),n?t.slice(0,t.l):t}var UO=Zp;function VO(e,t){var n=!1;return t==null&&(n=!0,t=de(23+4*e.t.length)),t.write_shift(1,1),en(e.t,t),t.write_shift(4,1),$O({},t),n?t.slice(0,t.l):t}function Ar(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function bi(e,t){return t==null&&(t=de(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ji(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ti(e,t){return t==null&&(t=de(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var KO=_n,jb=en;function ex(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function $h(e,t){var n=!1;return t==null&&(n=!0,t=de(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var WO=_n,wm=ex,tx=$h;function Tb(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?Bh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Va(t,0)>>2;return n?a/100:a}function kb(e,t){t==null&&(t=de(4));var n=0,r=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?a:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function Sb(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function YO(e,t){return t||(t=de(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ki=Sb,$o=YO;function Ho(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function mi(e,t){return(t||de(8)).write_shift(8,e,"f")}function zO(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var u=nR[a];u&&(t.rgb=bv(u));break;case 2:t.rgb=bv([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Hh(e,t){if(t||(t=de(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function qO(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function GO(e,t){t||(t=de(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var Cb=2,sr=3,lu=11,Uh=19,cu=64,QO=65,XO=71,JO=4108,ZO=4126,un=80,dv={1:{n:"CodePage",t:Cb},2:{n:"Category",t:un},3:{n:"PresentationFormat",t:un},4:{n:"ByteCount",t:sr},5:{n:"LineCount",t:sr},6:{n:"ParagraphCount",t:sr},7:{n:"SlideCount",t:sr},8:{n:"NoteCount",t:sr},9:{n:"HiddenCount",t:sr},10:{n:"MultimediaClipCount",t:sr},11:{n:"ScaleCrop",t:lu},12:{n:"HeadingPairs",t:JO},13:{n:"TitlesOfParts",t:ZO},14:{n:"Manager",t:un},15:{n:"Company",t:un},16:{n:"LinksUpToDate",t:lu},17:{n:"CharacterCount",t:sr},19:{n:"SharedDoc",t:lu},22:{n:"HyperlinksChanged",t:lu},23:{n:"AppVersion",t:sr,p:"version"},24:{n:"DigSig",t:QO},26:{n:"ContentType",t:un},27:{n:"ContentStatus",t:un},28:{n:"Language",t:un},29:{n:"Version",t:un},255:{},2147483648:{n:"Locale",t:Uh},2147483651:{n:"Behavior",t:Uh},1919054434:{}},fv={1:{n:"CodePage",t:Cb},2:{n:"Title",t:un},3:{n:"Subject",t:un},4:{n:"Author",t:un},5:{n:"Keywords",t:un},6:{n:"Comments",t:un},7:{n:"Template",t:un},8:{n:"LastAuthor",t:un},9:{n:"RevNumber",t:un},10:{n:"EditTime",t:cu},11:{n:"LastPrinted",t:cu},12:{n:"CreatedDate",t:cu},13:{n:"ModifiedDate",t:cu},14:{n:"PageCount",t:sr},15:{n:"WordCount",t:sr},16:{n:"CharCount",t:sr},17:{n:"Thumbnail",t:XO},18:{n:"Application",t:un},19:{n:"DocSecurity",t:sr},255:{},2147483648:{n:"Locale",t:Uh},2147483651:{n:"Behavior",t:Uh},1919054434:{}};function eR(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var tR=eR([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nR=er(tR),Sc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},rR={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},uu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Eb(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _b(e,t){var n=fO(rR),r=[],a;r[r.length]=zt,r[r.length]=Ee("Types",null,{xmlns:Jt.CT,"xmlns:xsd":Jt.xsd,"xmlns:xsi":Jt.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ee("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],r[r.length]=Ee("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:uu[c][t.bookType]||uu[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){r[r.length]=Ee("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:uu[c][t.bookType]||uu[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){r[r.length]=Ee("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var tt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Db(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function so(e){var t=[zt,Ee("Relationships",null,{xmlns:Jt.RELS})];return Nn(e["!id"]).forEach(function(n){t[t.length]=Ee("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ot(e,t,n,r,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,[tt.HLINK,tt.XPATH,tt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function sR(e){var t=[zt];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function mv(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function aR(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function iR(e){var t=[zt];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(mv(e[n][0],e[n][1])),t.push(aR("",e[n][0]));return t.push(mv("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Pb(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Oh.version+"</meta:generator></office:meta></office:document-meta>"}var si=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Hf(e,t,n,r,a){a[e]!=null||t==null||t===""||(a[e]=t,t=ht(t),r[r.length]=n?Ee(e,t,n):fn(e,t))}function Ab(e,t){var n=t||{},r=[zt,Ee("cp:coreProperties",null,{"xmlns:cp":Jt.CORE_PROPS,"xmlns:dc":Jt.dc,"xmlns:dcterms":Jt.dcterms,"xmlns:dcmitype":Jt.dcmitype,"xmlns:xsi":Jt.xsi})],a={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&Hf("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:vm(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),e.ModifiedDate!=null&&Hf("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:vm(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var i=0;i!=si.length;++i){var o=si[i],l=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Hf(o[0],l,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ao=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ob=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Rb(e){var t=[],n=Ee;return e||(e={}),e.Application="SheetJS",t[t.length]=zt,t[t.length]=Ee("Properties",null,{xmlns:Jt.EXT_PROPS,"xmlns:vt":Jt.vt}),ao.forEach(function(r){if(e[r[1]]!==void 0){var a;switch(r[2]){case"string":a=ht(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false";break}a!==void 0&&(t[t.length]=n(r[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+ht(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Mb(e){var t=[zt,Ee("Properties",null,{xmlns:Jt.CUST_PROPS,"xmlns:vt":Jt.vt})];if(!e)return t.join("");var n=1;return Nn(e).forEach(function(a){++n,t[t.length]=Ee("property",TO(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:ht(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pv={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function oR(e,t){var n=[];return Nn(pv).map(function(r){for(var a=0;a<si.length;++a)if(si[a][1]==r)return si[a];for(a=0;a<ao.length;++a)if(ao[a][1]==r)return ao[a];throw r}).forEach(function(r){if(e[r[1]]!=null){var a=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(fn(pv[r[1]]||r[1],a))}}),Ee("DocumentProperties",n.join(""),{xmlns:lr.o})}function lR(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&Nn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<si.length;++o)if(i==si[o][1])return;for(o=0;o<ao.length;++o)if(i==ao[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Ee(nv(i),l,{"dt:dt":c}))}}),t&&Nn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Ee(nv(i),o,{"dt:dt":l}))}}),"<"+r+' xmlns="'+lr.o+'">'+a.join("")+"</"+r+">"}function cR(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),a=(n-r)/Math.pow(2,32);r*=1e7,a*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),a+=i);var o=de(8);return o.write_shift(4,r),o.write_shift(4,a),o}function xv(e,t){var n=de(4),r=de(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=de(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=cR(t);break;case 31:case 80:for(r=de(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return dn([n,r])}var Lb=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function uR(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function gv(e,t,n){var r=de(8),a=[],i=[],o=8,l=0,c=de(8),u=de(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=de(8),u.write_shift(4,0),a.unshift(u);var h=[de(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var d=e[l][0];for(c=de(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=dn(h),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Lb.indexOf(e[l][0])>-1||Ob.indexOf(e[l][0])>-1)&&e[l][1]!=null){var f=e[l][1],m=0;if(t){m=+t[e[l][0]];var x=n[m];if(x.p=="version"&&typeof f=="string"){var p=f.split(".");f=(+p[0]<<16)+(+p[1]||0)}c=xv(x.t,f)}else{var w=uR(f);w==-1&&(w=31,f=String(f)),c=xv(w,f)}i.push(c),u=de(8),u.write_shift(4,t?m:2+l),a.push(u),o+=8+c.length}var v=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,v),v+=i[l].length;return r.write_shift(4,o),r.write_shift(4,i.length),dn([r].concat(a).concat(i))}function yv(e,t,n,r,a,i){var o=de(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,mt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=gv(e,n,r);if(l.push(c),a){var u=gv(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return dn(l)}function hR(e,t){t||(t=de(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function dR(e,t){return e.read_shift(t)===1}function Mn(e,t){return t||(t=de(2)),t.write_shift(2,+!!e),t}function Fb(e){return e.read_shift(2,"u")}function wr(e,t){return t||(t=de(2)),t.write_shift(2,e),t}function Ib(e,t,n){return n||(n=de(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function Bb(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function fR(e){var t=e.t||"",n=de(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=de(2*t.length);r.write_shift(2*t.length,t,"utf16le");var a=[n,r];return dn(a)}function mR(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function pR(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):mR(e,r,n)}function xR(e,t,n){if(n.biff>5)return pR(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function $b(e,t,n){return n||(n=de(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function vv(e,t){t||(t=de(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function gR(e){var t=de(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),i=a>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(i==28)r=r.slice(1),vv(r,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var l=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(l.length+1)),n=0;n<l.length;++n)t.write_shift(2,l.charCodeAt(n));t.write_shift(2,0),i&8&&vv(a>-1?r.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,r.length-3*c+1),n=0;n<r.length-3*c;++n)t.write_shift(1,r.charCodeAt(n+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function pi(e,t,n,r){return r||(r=de(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function yR(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,i,o]}function vR(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function Hb(e,t){return t||(t=de(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function nx(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=de(a);return i.write_shift(2,r),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function wR(e,t){var n=!t||t.biff==8,r=de(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function NR(e,t){var n=!t||t.biff>=8?2:1,r=de(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function bR(e,t){var n=de(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],a=0;a<e.length;++a)r[a]=fR(e[a]);var i=dn([n].concat(r));return i.parts=[n.length].concat(r.map(function(o){return o.length})),i}function jR(){var e=de(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function TR(e){var t=de(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function kR(e,t){var n=e.name||"Arial",r=t&&t.biff==5,a=r?15+n.length:16+2*n.length,i=de(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}function SR(e,t,n,r){var a=de(10);return pi(e,t,r,a),a.write_shift(4,n),a}function CR(e,t,n,r,a){var i=!a||a.biff==8,o=de(8+ +i+(1+i)*n.length);return pi(e,t,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function ER(e,t,n,r){var a=n&&n.biff==5;r||(r=de(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}function _R(e,t){var n=t.biff==8||!t.biff?4:2,r=de(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function wv(e,t,n,r){var a=n&&n.biff==5;r||(r=de(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function DR(e){var t=de(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function PR(e,t,n,r,a,i){var o=de(8);return pi(e,t,r,o),Ib(n,i,o),o}function AR(e,t,n,r){var a=de(14);return pi(e,t,r,a),mi(n,a),a}function OR(e,t,n){if(n.biff<8)return RR(e,t,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(yR(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function RR(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=Bb(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function MR(e){var t=de(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Hb(e[n],t);return t}function LR(e){var t=de(24),n=Zt(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return dn([t,gR(e[1])])}function FR(e){var t=e[1].Tooltip,n=de(10+2*(t.length+1));n.write_shift(2,2048);var r=Zt(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function IR(e){return e||(e=de(4)),e.write_shift(2,1),e.write_shift(2,1),e}function BR(e,t,n){if(!n.cellStyles)return ms(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(r),c=e.read_shift(2);r==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(n.biff>=5||!n.biff)&&(u.level=c>>8&7),u}function $R(e,t){var n=de(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function HR(e){for(var t=de(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function UR(e,t,n){var r=de(15);return Ec(r,e,t),r.write_shift(8,n,"f"),r}function VR(e,t,n){var r=de(9);return Ec(r,e,t),r.write_shift(2,n),r}var KR=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Wp({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,c){var u=[],h=fi(1);switch(c.type){case"base64":h=Br(Is(l));break;case"binary":h=Br(l);break;case"buffer":case"array":h=l;break}or(h,0);var d=h.read_shift(1),f=!!(d&136),m=!1,x=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,f=!0;break;case 49:m=!0,f=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var p=0,w=521;d==2&&(p=h.read_shift(2)),h.l+=3,d!=2&&(p=h.read_shift(4)),p>1048576&&(p=1e6),d!=2&&(w=h.read_shift(2));var v=h.read_shift(2),g=c.codepage||1252;d!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(g=e[h[h.l]]),h.l+=1,h.l+=2),x&&(h.l+=36);for(var y=[],b={},j=Math.min(h.length,d==2?521:w-10-(m?264:0)),C=x?32:11;h.l<j&&h[h.l]!=13;)switch(b={},b.name=Rh.utils.decode(g,h.slice(h.l,h.l+C)).replace(/[\u0000\r\n].*$/g,""),h.l+=C,b.type=String.fromCharCode(h.read_shift(1)),d!=2&&!x&&(b.offset=h.read_shift(4)),b.len=h.read_shift(1),d==2&&(b.offset=h.read_shift(2)),b.dec=h.read_shift(1),b.name.length&&y.push(b),d!=2&&(h.l+=x?13:14),b.type){case"B":(!m||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var T=0,k=0;for(u[0]=[],k=0;k!=y.length;++k)u[0][k]=y[k].name;for(;p-- >0;){if(h[h.l]===42){h.l+=v;continue}for(++h.l,u[++T]=[],k=0,k=0;k!=y.length;++k){var D=h.slice(h.l,h.l+y[k].len);h.l+=y[k].len,or(D,0);var H=Rh.utils.decode(g,D);switch(y[k].type){case"C":H.trim().length&&(u[T][k]=H.replace(/\s+$/,""));break;case"D":H.length===8?u[T][k]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):u[T][k]=H;break;case"F":u[T][k]=parseFloat(H.trim());break;case"+":case"I":u[T][k]=x?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":u[T][k]=!0;break;case"N":case"F":u[T][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[T][k]="##MEMO##"+(x?parseInt(H.trim(),10):D.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(u[T][k]=+H||0);break;case"@":u[T][k]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[T][k]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[T][k]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][k]=-D.read_shift(-8,"f");break;case"B":if(m&&y[k].len==8){u[T][k]=D.read_shift(8,"f");break}case"G":case"P":D.l+=y[k].len;break;case"0":if(y[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[k].type)}}}if(d!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function r(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=Bo(n(l,u),u);return h["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,h}function a(l,c){try{return Ni(r(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&nc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Jn(),d=zh(l,{header:1,raw:!0,cellDates:!0}),f=d[0],m=d.slice(1),x=l["!cols"]||[],p=0,w=0,v=0,g=1;for(p=0;p<f.length;++p){if(((x[p]||{}).DBF||{}).name){f[p]=x[p].DBF.name,++v;continue}if(f[p]!=null){if(++v,typeof f[p]=="number"&&(f[p]=f[p].toString(10)),typeof f[p]!="string")throw new Error("DBF Invalid column name "+f[p]+" |"+typeof f[p]+"|");if(f.indexOf(f[p])!==p){for(w=0;w<1024;++w)if(f.indexOf(f[p]+"_"+w)==-1){f[p]+="_"+w;break}}}}var y=bt(l["!ref"]),b=[],j=[],C=[];for(p=0;p<=y.e.c-y.s.c;++p){var T="",k="",D=0,H=[];for(w=0;w<m.length;++w)m[w][p]!=null&&H.push(m[w][p]);if(H.length==0||f[p]==null){b[p]="?";continue}for(w=0;w<H.length;++w){switch(typeof H[w]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=H[w]instanceof Date?"D":"C";break;default:k="C"}D=Math.max(D,String(H[w]).length),T=T&&T!=k?"C":k}D>250&&(D=250),k=((x[p]||{}).DBF||{}).type,k=="C"&&x[p].DBF.len>D&&(D=x[p].DBF.len),T=="B"&&k=="N"&&(T="N",C[p]=x[p].DBF.dec,D=x[p].DBF.len),j[p]=T=="C"||k=="N"?D:i[T]||0,g+=j[p],b[p]=T}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*v),O.write_shift(2,g),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+t[V2]||3)<<8),p=0,w=0;p<f.length;++p)if(f[p]!=null){var B=h.next(32),W=(f[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,W,"sbcs"),B.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),B.write_shift(4,w),B.write_shift(1,j[p]||i[b[p]]||0),B.write_shift(1,C[p]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),w+=j[p]||i[b[p]]||0}var ue=h.next(264);for(ue.write_shift(4,13),p=0;p<65;++p)ue.write_shift(4,0);for(p=0;p<m.length;++p){var G=h.next(g);for(G.write_shift(1,0),w=0;w<f.length;++w)if(f[w]!=null)switch(b[w]){case"L":G.write_shift(1,m[p][w]==null?63:m[p][w]?84:70);break;case"B":G.write_shift(8,m[p][w]||0,"f");break;case"N":var I="0";for(typeof m[p][w]=="number"&&(I=m[p][w].toFixed(C[w]||0)),v=0;v<j[w]-I.length;++v)G.write_shift(1,32);G.write_shift(1,I,"sbcs");break;case"D":m[p][w]?(G.write_shift(4,("0000"+m[p][w].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(m[p][w].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+m[p][w].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var K=String(m[p][w]!=null?m[p][w]:"").slice(0,j[w]);for(G.write_shift(1,K,"sbcs"),v=0;v<j[w]-K.length;++v)G.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}}(),WR=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(f,m){var x=e[m];return typeof x=="number"?Ky(x):x},r=function(f,m,x){var p=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?f:Ky(p)};e["|"]=254;function a(f,m){switch(m.type){case"base64":return i(Is(f),m);case"binary":return i(f,m);case"buffer":return i(rt&&Buffer.isBuffer(f)?f.toString("binary"):jc(f),m);case"array":return i(Bd(f),m)}throw new Error("Unrecognized type "+m.type)}function i(f,m){var x=f.split(/[\n\r]+/),p=-1,w=-1,v=0,g=0,y=[],b=[],j=null,C={},T=[],k=[],D=[],H=0,O;for(+m.codepage>=0&&nc(+m.codepage);v!==x.length;++v){H=0;var B=x[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),W=B.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),ue=W[0],G;if(B.length>0)switch(ue){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&b.push(B.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,K=!1,se=!1,z=!1,J=-1,pe=-1;for(g=1;g<W.length;++g)switch(W[g].charAt(0)){case"A":break;case"X":w=parseInt(W[g].slice(1))-1,K=!0;break;case"Y":for(p=parseInt(W[g].slice(1))-1,K||(w=0),O=y.length;O<=p;++O)y[O]=[];break;case"K":G=W[g].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(_s(G))?isNaN(sc(G).getDate())||(G=$n(G)):(G=_s(G),j!==null&&tb(j)&&(G=ab(G))),I=!0;break;case"E":z=!0;var P=VM(W[g].slice(1),{r:p,c:w});y[p][w]=[y[p][w],P];break;case"S":se=!0,y[p][w]=[y[p][w],"S5S"];break;case"G":break;case"R":J=parseInt(W[g].slice(1))-1;break;case"C":pe=parseInt(W[g].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}if(I&&(y[p][w]&&y[p][w].length==2?y[p][w][0]=G:y[p][w]=G,j=null),se){if(z)throw new Error("SYLK shared formula cannot have own formula");var ee=J>-1&&y[J][pe];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");y[p][w][1]=KM(ee[1],{r:p-J,c:w-pe})}break;case"F":var Y=0;for(g=1;g<W.length;++g)switch(W[g].charAt(0)){case"X":w=parseInt(W[g].slice(1))-1,++Y;break;case"Y":for(p=parseInt(W[g].slice(1))-1,O=y.length;O<=p;++O)y[O]=[];break;case"M":H=parseInt(W[g].slice(1))/20;break;case"F":break;case"G":break;case"P":j=b[parseInt(W[g].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=W[g].slice(1).split(" "),O=parseInt(D[0],10);O<=parseInt(D[1],10);++O)H=parseInt(D[2],10),k[O-1]=H===0?{hidden:!0}:{wch:H},rx(k[O-1]);break;case"C":w=parseInt(W[g].slice(1))-1,k[w]||(k[w]={});break;case"R":p=parseInt(W[g].slice(1))-1,T[p]||(T[p]={}),H>0?(T[p].hpt=H,T[p].hpx=Yb(H)):H===0&&(T[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}Y<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}}return T.length>0&&(C["!rows"]=T),k.length>0&&(C["!cols"]=k),m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),[y,C]}function o(f,m){var x=a(f,m),p=x[0],w=x[1],v=Bo(p,m);return Nn(w).forEach(function(g){v[g]=w[g]}),v}function l(f,m){return Ni(o(f,m),m)}function c(f,m,x,p){var w="C;Y"+(x+1)+";X"+(p+1)+";K";switch(f.t){case"n":w+=f.v||0,f.f&&!f.F&&(w+=";E"+ax(f.f,{r:x,c:p}));break;case"b":w+=f.v?"TRUE":"FALSE";break;case"e":w+=f.w||f.v;break;case"d":w+='"'+(f.w||f.v)+'"';break;case"s":w+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(f,m){m.forEach(function(x,p){var w="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?w+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Vh(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Kh(x.wpx)),typeof x.wch=="number"&&(w+=Math.round(x.wch))),w.charAt(w.length-1)!=" "&&f.push(w)})}function h(f,m){m.forEach(function(x,p){var w="F;";x.hidden?w+="M0;":x.hpt?w+="M"+20*x.hpt+";":x.hpx&&(w+="M"+20*Wh(x.hpx)+";"),w.length>2&&f.push(w+"R"+(p+1))})}function d(f,m){var x=["ID;PWXL;N;E"],p=[],w=bt(f["!ref"]),v,g=Array.isArray(f),y=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),f["!cols"]&&u(x,f["!cols"]),f["!rows"]&&h(x,f["!rows"]),x.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var b=w.s.r;b<=w.e.r;++b)for(var j=w.s.c;j<=w.e.c;++j){var C=ft({r:b,c:j});v=g?(f[b]||[])[j]:f[C],!(!v||v.v==null&&(!v.f||v.F))&&p.push(c(v,f,b,j))}return x.join(y)+y+p.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:o,from_sheet:d}}(),YR=function(){function e(i,o){switch(o.type){case"base64":return t(Is(i),o);case"binary":return t(i,o);case"buffer":return t(rt&&Buffer.isBuffer(i)?i.toString("binary"):jc(i),o);case"array":return t(Bd(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,h=0,d=[];h!==l.length;++h){if(l[h].trim()==="BOT"){d[++c]=[],u=0;continue}if(!(c<0)){var f=l[h].trim().split(","),m=f[0],x=f[1];++h;for(var p=l[h]||"";(p.match(/["]/g)||[]).length&1&&h<l.length-1;)p+=`
`+l[++h];switch(p=p.trim(),+m){case-1:if(p==="BOT"){d[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?d[c][u]=!0:p==="FALSE"?d[c][u]=!1:isNaN(_s(x))?isNaN(sc(x).getDate())?d[c][u]=x:d[c][u]=$n(x):d[c][u]=_s(x),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),d[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),d}function n(i,o){return Bo(e(i,o),o)}function r(i,o){return Ni(n(i,o),o)}var a=function(){var i=function(c,u,h,d,f){c.push(u),c.push(h+","+d),c.push('"'+f.replace(/"/g,'""')+'"')},o=function(c,u,h,d){c.push(u+","+h),c.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(c){var u=[],h=bt(c["!ref"]),d,f=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){o(u,-1,0,"BOT");for(var x=h.s.c;x<=h.e.c;++x){var p=ft({r:m,c:x});if(d=f?(c[m]||[])[x]:c[p],!d){o(u,1,0,"");continue}switch(d.t){case"n":var w=d.w;!w&&d.v!=null&&(w=d.v),w==null?d.f&&!d.F?o(u,1,0,"="+d.f):o(u,1,0,""):o(u,0,w,"V");break;case"b":o(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=_a(d.z||Rt[14],Zn($n(d.v)))),o(u,0,d.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var v=`\r
`,g=u.join(v);return g}}();return{to_workbook:r,to_sheet:n,from_sheet:a}}(),Ub=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,f){for(var m=d.split(`
`),x=-1,p=-1,w=0,v=[];w!==m.length;++w){var g=m[w].trim().split(":");if(g[0]==="cell"){var y=Zt(g[1]);if(v.length<=y.r)for(x=v.length;x<=y.r;++x)v[x]||(v[x]=[]);switch(x=y.r,p=y.c,g[2]){case"t":v[x][p]=e(g[3]);break;case"v":v[x][p]=+g[3];break;case"vtf":var b=g[g.length-1];case"vtc":switch(g[3]){case"nl":v[x][p]=!!+g[4];break;default:v[x][p]=+g[4];break}g[2]=="vtf"&&(v[x][p]=[v[x][p],b])}}}return f&&f.sheetRows&&(v=v.slice(0,f.sheetRows)),v}function r(d,f){return Bo(n(d,f),f)}function a(d,f){return Ni(r(d,f),f)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var f=[],m=[],x,p="",w=pr(d["!ref"]),v=Array.isArray(d),g=w.s.r;g<=w.e.r;++g)for(var y=w.s.c;y<=w.e.c;++y)if(p=ft({r:g,c:y}),x=v?(d[g]||[])[y]:d[p],!(!x||x.v==null||x.t==="z")){switch(m=["cell",p,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=Zn($n(x.v));m[2]="vtc",m[3]="nd",m[4]=""+b,m[5]=x.w||_a(x.z||Rt[14],b);break;case"e":continue}f.push(m.join(":"))}return f.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function h(d){return[i,o,l,o,u(d),c].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:h}}(),zR=function(){function e(h,d,f,m,x){x.raw?d[f][m]=h:h===""||(h==="TRUE"?d[f][m]=!0:h==="FALSE"?d[f][m]=!1:isNaN(_s(h))?isNaN(sc(h).getDate())?d[f][m]=h:d[f][m]=$n(h):d[f][m]=_s(h))}function t(h,d){var f=d||{},m=[];if(!h||h.length===0)return m;for(var x=h.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var w=10,v=0,g=0;g<=p;++g)v=x[g].indexOf(" "),v==-1?v=x[g].length:v++,w=Math.max(w,v);for(g=0;g<=p;++g){m[g]=[];var y=0;for(e(x[g].slice(0,w).trim(),m,g,y,f),y=1;y<=(x[g].length-w)/10+1;++y)e(x[g].slice(w+(y-1)*10,w+y*10).trim(),m,g,y,f)}return f.sheetRows&&(m=m.slice(0,f.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(h){for(var d={},f=!1,m=0,x=0;m<h.length;++m)(x=h.charCodeAt(m))==34?f=!f:!f&&x in n&&(d[x]=(d[x]||0)+1);x=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&x.push([d[m],m]);if(!x.length){d=r;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&x.push([d[m],m])}return x.sort(function(p,w){return p[0]-w[0]||r[p[1]]-r[w[1]]}),n[x.pop()[1]]||44}function i(h,d){var f=d||{},m="",x=f.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=a(h.slice(0,1024)):f&&f.FS?m=f.FS:m=a(h.slice(0,1024));var w=0,v=0,g=0,y=0,b=0,j=m.charCodeAt(0),C=!1,T=0,k=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var D=f.dateNF!=null?cO(f.dateNF):null;function H(){var O=h.slice(y,b),B={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)B.t="z";else if(f.raw)B.t="s",B.v=O;else if(O.trim().length===0)B.t="s",B.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(B.t="s",B.v=O.slice(2,-1).replace(/""/g,'"')):WM(O)?(B.t="n",B.f=O.slice(1)):(B.t="s",B.v=O);else if(O=="TRUE")B.t="b",B.v=!0;else if(O=="FALSE")B.t="b",B.v=!1;else if(!isNaN(g=_s(O)))B.t="n",f.cellText!==!1&&(B.w=O),B.v=g;else if(!isNaN(sc(O).getDate())||D&&O.match(D)){B.z=f.dateNF||Rt[14];var W=0;D&&O.match(D)&&(O=uO(O,f.dateNF,O.match(D)||[]),W=1),f.cellDates?(B.t="d",B.v=$n(O,W)):(B.t="n",B.v=Zn($n(O,W))),f.cellText!==!1&&(B.w=_a(B.z,B.v instanceof Date?Zn(B.v):B.v)),f.cellNF||delete B.z}else B.t="s",B.v=O;if(B.t=="z"||(f.dense?(x[w]||(x[w]=[]),x[w][v]=B):x[ft({c:v,r:w})]=B),y=b+1,k=h.charCodeAt(y),p.e.c<v&&(p.e.c=v),p.e.r<w&&(p.e.r=w),T==j)++v;else if(v=0,++w,f.sheetRows&&f.sheetRows<=w)return!0}e:for(;b<h.length;++b)switch(T=h.charCodeAt(b)){case 34:k===34&&(C=!C);break;case j:case 10:case 13:if(!C&&H())break e;break}return b-y>0&&H(),x["!ref"]=Yt(p),x}function o(h,d){return!(d&&d.PRN)||d.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,d):Bo(t(h,d),d)}function l(h,d){var f="",m=d.type=="string"?[0,0,0,0]:a7(h,d);switch(d.type){case"base64":f=Is(h);break;case"binary":f=h;break;case"buffer":d.codepage==65001?f=h.toString("utf8"):d.codepage&&typeof Rh<"u"||(f=rt&&Buffer.isBuffer(h)?h.toString("binary"):jc(h));break;case"array":f=Bd(h);break;case"string":f=h;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?f=Tl(f.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?f=Tl(f):d.type=="binary"&&typeof Rh<"u",f.slice(0,19)=="socialcalc:version:"?Ub.to_sheet(d.type=="string"?f:Tl(f),d):o(f,d)}function c(h,d){return Ni(l(h,d),d)}function u(h){for(var d=[],f=bt(h["!ref"]),m,x=Array.isArray(h),p=f.s.r;p<=f.e.r;++p){for(var w=[],v=f.s.c;v<=f.e.c;++v){var g=ft({r:p,c:v});if(m=x?(h[p]||[])[v]:h[g],!m||m.v==null){w.push("          ");continue}for(var y=(m.w||(Bs(m),m.w)||"").slice(0,10);y.length<10;)y+=" ";w.push(y+(v===0?" ":""))}d.push(w.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),Nv=function(){function e(P,ee,Y){if(P){or(P,P.l||0);for(var q=Y.Enum||J;P.l<P.length;){var U=P.read_shift(2),he=q[U]||q[65535],ve=P.read_shift(2),E=P.l+ve,ne=he.f&&he.f(P,ve,Y);if(P.l=E,ee(ne,he,U))return}}}function t(P,ee){switch(ee.type){case"base64":return n(Br(Is(P)),ee);case"binary":return n(Br(P),ee);case"buffer":case"array":return n(P,ee)}throw"Unsupported type "+ee.type}function n(P,ee){if(!P)return P;var Y=ee||{},q=Y.dense?[]:{},U="Sheet1",he="",ve=0,E={},ne=[],je=[],te={s:{r:0,c:0},e:{r:0,c:0}},Te=Y.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)Y.Enum=J,e(P,function(oe,Ue,Q){switch(Q){case 0:Y.vers=oe,oe>=4096&&(Y.qpro=!0);break;case 6:te=oe;break;case 204:oe&&(he=oe);break;case 222:he=oe;break;case 15:case 51:Y.qpro||(oe[1].v=oe[1].v.slice(1));case 13:case 14:case 16:Q==14&&(oe[2]&112)==112&&(oe[2]&15)>1&&(oe[2]&15)<15&&(oe[1].z=Y.dateNF||Rt[14],Y.cellDates&&(oe[1].t="d",oe[1].v=ab(oe[1].v))),Y.qpro&&oe[3]>ve&&(q["!ref"]=Yt(te),E[U]=q,ne.push(U),q=Y.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ve=oe[3],U=he||"Sheet"+(ve+1),he="");var ge=Y.dense?(q[oe[0].r]||[])[oe[0].c]:q[ft(oe[0])];if(ge){ge.t=oe[1].t,ge.v=oe[1].v,oe[1].z!=null&&(ge.z=oe[1].z),oe[1].f!=null&&(ge.f=oe[1].f);break}Y.dense?(q[oe[0].r]||(q[oe[0].r]=[]),q[oe[0].r][oe[0].c]=oe[1]):q[ft(oe[0])]=oe[1];break}},Y);else if(P[2]==26||P[2]==14)Y.Enum=pe,P[2]==14&&(Y.qpro=!0,P.l=0),e(P,function(oe,Ue,Q){switch(Q){case 204:U=oe;break;case 22:oe[1].v=oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(oe[3]>ve&&(q["!ref"]=Yt(te),E[U]=q,ne.push(U),q=Y.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ve=oe[3],U="Sheet"+(ve+1)),Te>0&&oe[0].r>=Te)break;Y.dense?(q[oe[0].r]||(q[oe[0].r]=[]),q[oe[0].r][oe[0].c]=oe[1]):q[ft(oe[0])]=oe[1],te.e.c<oe[0].c&&(te.e.c=oe[0].c),te.e.r<oe[0].r&&(te.e.r=oe[0].r);break;case 27:oe[14e3]&&(je[oe[14e3][0]]=oe[14e3][1]);break;case 1537:je[oe[0]]=oe[1],oe[0]==ve&&(U=oe[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(q["!ref"]=Yt(te),E[he||U]=q,ne.push(he||U),!je.length)return{SheetNames:ne,Sheets:E};for(var Ce={},Pe=[],Be=0;Be<je.length;++Be)E[ne[Be]]?(Pe.push(je[Be]||ne[Be]),Ce[je[Be]]=E[je[Be]]||E[ne[Be]]):(Pe.push(je[Be]),Ce[je[Be]]={"!ref":"A1"});return{SheetNames:Pe,Sheets:Ce}}function r(P,ee){var Y=ee||{};if(+Y.codepage>=0&&nc(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Jn(),U=bt(P["!ref"]),he=Array.isArray(P),ve=[];_e(q,0,i(1030)),_e(q,6,c(U));for(var E=Math.min(U.e.r,8191),ne=U.s.r;ne<=E;++ne)for(var je=vn(ne),te=U.s.c;te<=U.e.c;++te){ne===U.s.r&&(ve[te]=En(te));var Te=ve[te]+je,Ce=he?(P[ne]||[])[te]:P[Te];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?_e(q,13,m(ne,te,Ce.v)):_e(q,14,p(ne,te,Ce.v));else{var Pe=Bs(Ce);_e(q,15,d(ne,te,Pe.slice(0,239)))}}return _e(q,1),q.end()}function a(P,ee){var Y=ee||{};if(+Y.codepage>=0&&nc(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Jn();_e(q,0,o(P));for(var U=0,he=0;U<P.SheetNames.length;++U)(P.Sheets[P.SheetNames[U]]||{})["!ref"]&&_e(q,27,z(P.SheetNames[U],he++));var ve=0;for(U=0;U<P.SheetNames.length;++U){var E=P.Sheets[P.SheetNames[U]];if(!(!E||!E["!ref"])){for(var ne=bt(E["!ref"]),je=Array.isArray(E),te=[],Te=Math.min(ne.e.r,8191),Ce=ne.s.r;Ce<=Te;++Ce)for(var Pe=vn(Ce),Be=ne.s.c;Be<=ne.e.c;++Be){Ce===ne.s.r&&(te[Be]=En(Be));var oe=te[Be]+Pe,Ue=je?(E[Ce]||[])[Be]:E[oe];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")_e(q,23,H(Ce,Be,ve,Ue.v));else{var Q=Bs(Ue);_e(q,22,T(Ce,Be,ve,Q.slice(0,239)))}}++ve}}return _e(q,1),q.end()}function i(P){var ee=de(2);return ee.write_shift(2,P),ee}function o(P){var ee=de(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var Y=0,q=0,U=0,he=0;he<P.SheetNames.length;++he){var ve=P.SheetNames[he],E=P.Sheets[ve];if(!(!E||!E["!ref"])){++U;var ne=pr(E["!ref"]);Y<ne.e.r&&(Y=ne.e.r),q<ne.e.c&&(q=ne.e.c)}}return Y>8191&&(Y=8191),ee.write_shift(2,Y),ee.write_shift(1,U),ee.write_shift(1,q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function l(P,ee,Y){var q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&Y.qpro?(q.s.c=P.read_shift(1),P.l++,q.s.r=P.read_shift(2),q.e.c=P.read_shift(1),P.l++,q.e.r=P.read_shift(2),q):(q.s.c=P.read_shift(2),q.s.r=P.read_shift(2),ee==12&&Y.qpro&&(P.l+=2),q.e.c=P.read_shift(2),q.e.r=P.read_shift(2),ee==12&&Y.qpro&&(P.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(P){var ee=de(8);return ee.write_shift(2,P.s.c),ee.write_shift(2,P.s.r),ee.write_shift(2,P.e.c),ee.write_shift(2,P.e.r),ee}function u(P,ee,Y){var q=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(q[0].c=P.read_shift(1),q[3]=P.read_shift(1),q[0].r=P.read_shift(2),P.l+=2):(q[2]=P.read_shift(1),q[0].c=P.read_shift(2),q[0].r=P.read_shift(2)),q}function h(P,ee,Y){var q=P.l+ee,U=u(P,ee,Y);if(U[1].t="s",Y.vers==20768){P.l++;var he=P.read_shift(1);return U[1].v=P.read_shift(he,"utf8"),U}return Y.qpro&&P.l++,U[1].v=P.read_shift(q-P.l,"cstr"),U}function d(P,ee,Y){var q=de(7+Y.length);q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,P),q.write_shift(1,39);for(var U=0;U<q.length;++U){var he=Y.charCodeAt(U);q.write_shift(1,he>=128?95:he)}return q.write_shift(1,0),q}function f(P,ee,Y){var q=u(P,ee,Y);return q[1].v=P.read_shift(2,"i"),q}function m(P,ee,Y){var q=de(7);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,P),q.write_shift(2,Y,"i"),q}function x(P,ee,Y){var q=u(P,ee,Y);return q[1].v=P.read_shift(8,"f"),q}function p(P,ee,Y){var q=de(13);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,P),q.write_shift(8,Y,"f"),q}function w(P,ee,Y){var q=P.l+ee,U=u(P,ee,Y);if(U[1].v=P.read_shift(8,"f"),Y.qpro)P.l=q;else{var he=P.read_shift(2);b(P.slice(P.l,P.l+he),U),P.l+=he}return U}function v(P,ee,Y){var q=ee&32768;return ee&=-32769,ee=(q?P:0)+(ee>=8192?ee-16384:ee),(q?"":"$")+(Y?En(ee):vn(ee))}var g={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(P,ee){or(P,0);for(var Y=[],q=0,U="",he="",ve="",E="";P.l<P.length;){var ne=P[P.l++];switch(ne){case 0:Y.push(P.read_shift(8,"f"));break;case 1:he=v(ee[0].c,P.read_shift(2),!0),U=v(ee[0].r,P.read_shift(2),!1),Y.push(he+U);break;case 2:{var je=v(ee[0].c,P.read_shift(2),!0),te=v(ee[0].r,P.read_shift(2),!1);he=v(ee[0].c,P.read_shift(2),!0),U=v(ee[0].r,P.read_shift(2),!1),Y.push(je+te+":"+he+U)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(P.read_shift(2));break;case 6:{for(var Te="";ne=P[P.l++];)Te+=String.fromCharCode(ne);Y.push('"'+Te.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:E=Y.pop(),ve=Y.pop(),Y.push(["AND","OR"][ne-20]+"("+ve+","+E+")");break;default:if(ne<32&&y[ne])E=Y.pop(),ve=Y.pop(),Y.push(ve+y[ne]+E);else if(g[ne]){if(q=g[ne][1],q==69&&(q=P[P.l++]),q>Y.length){console.error("WK1 bad formula parse 0x"+ne.toString(16)+":|"+Y.join("|")+"|");return}var Ce=Y.slice(-q);Y.length-=q,Y.push(g[ne][0]+"("+Ce.join(",")+")")}else return ne<=7?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=24?console.error("WK1 unsupported op "+ne.toString(16)):ne<=30?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=115?console.error("WK1 unsupported function opcode "+ne.toString(16)):console.error("WK1 unrecognized opcode "+ne.toString(16))}}Y.length==1?ee[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function j(P){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=P.read_shift(2),ee[3]=P[P.l++],ee[0].c=P[P.l++],ee}function C(P,ee){var Y=j(P);return Y[1].t="s",Y[1].v=P.read_shift(ee-4,"cstr"),Y}function T(P,ee,Y,q){var U=de(6+q.length);U.write_shift(2,P),U.write_shift(1,Y),U.write_shift(1,ee),U.write_shift(1,39);for(var he=0;he<q.length;++he){var ve=q.charCodeAt(he);U.write_shift(1,ve>=128?95:ve)}return U.write_shift(1,0),U}function k(P,ee){var Y=j(P);Y[1].v=P.read_shift(2);var q=Y[1].v>>1;if(Y[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return Y[1].v=q,Y}function D(P,ee){var Y=j(P),q=P.read_shift(4),U=P.read_shift(4),he=P.read_shift(2);if(he==65535)return q===0&&U===3221225472?(Y[1].t="e",Y[1].v=15):q===0&&U===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var ve=he&32768;return he=(he&32767)-16446,Y[1].v=(1-ve*2)*(U*Math.pow(2,he+32)+q*Math.pow(2,he)),Y}function H(P,ee,Y,q){var U=de(14);if(U.write_shift(2,P),U.write_shift(1,Y),U.write_shift(1,ee),q==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var he=0,ve=0,E=0,ne=0;return q<0&&(he=1,q=-q),ve=Math.log2(q)|0,q/=Math.pow(2,ve-31),ne=q>>>0,ne&2147483648||(q/=2,++ve,ne=q>>>0),q-=ne,ne|=2147483648,ne>>>=0,q*=Math.pow(2,32),E=q>>>0,U.write_shift(4,E),U.write_shift(4,ne),ve+=16383+(he?32768:0),U.write_shift(2,ve),U}function O(P,ee){var Y=D(P);return P.l+=ee-14,Y}function B(P,ee){var Y=j(P),q=P.read_shift(4);return Y[1].v=q>>6,Y}function W(P,ee){var Y=j(P),q=P.read_shift(8,"f");return Y[1].v=q,Y}function ue(P,ee){var Y=W(P);return P.l+=ee-10,Y}function G(P,ee){return P[P.l+ee-1]==0?P.read_shift(ee,"cstr"):""}function I(P,ee){var Y=P[P.l++];Y>ee-1&&(Y=ee-1);for(var q="";q.length<Y;)q+=String.fromCharCode(P[P.l++]);return q}function K(P,ee,Y){if(!(!Y.qpro||ee<21)){var q=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var U=P.read_shift(ee-21,"cstr");return[q,U]}}function se(P,ee){for(var Y={},q=P.l+ee;P.l<q;){var U=P.read_shift(2);if(U==14e3){for(Y[U]=[0,""],Y[U][0]=P.read_shift(2);P[P.l];)Y[U][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return Y}function z(P,ee){var Y=de(5+P.length);Y.write_shift(2,14e3),Y.write_shift(2,ee);for(var q=0;q<P.length;++q){var U=P.charCodeAt(q);Y[Y.l++]=U>127?95:U}return Y[Y.l++]=0,Y}var J={0:{n:"BOF",f:Fb},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},pe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:ue},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}}(),qR=/^\s|\s$|[\t\n\r]/;function Vb(e,t){if(!t.bookSST)return"";var n=[zt];n[n.length]=Ee("sst",null,{xmlns:Io[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var a=e[r],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(qR)&&(i+=' xml:space="preserve"'),i+=">"+ht(a.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function GR(e){return[e.read_shift(4),e.read_shift(4)]}function QR(e,t){return t||(t=de(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var XR=HO;function JR(e){var t=Jn();xe(t,159,QR(e));for(var n=0;n<e.length;++n)xe(t,19,XR(e[n]));return xe(t,160),t.end()}function ZR(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Kb(e){var t=0,n,r=ZR(e),a=r.length+1,i,o,l,c,u;for(n=fi(a),n[0]=r.length,i=1;i!=a;++i)n[i]=r[i-1];for(i=a-1;i>=0;--i)o=n[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var eM=function(){function e(a,i){switch(i.type){case"base64":return t(Is(a),i);case"binary":return t(a,i);case"buffer":return t(rt&&Buffer.isBuffer(a)?a.toString("binary"):jc(a),i);case"array":return t(Bd(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,d){Array.isArray(l)&&(l[d]=[]);for(var f=/\\\w+\b/g,m=0,x,p=-1;x=f.exec(h);){switch(x[0]){case"\\cell":var w=h.slice(m,f.lastIndex-x[0].length);if(w[0]==" "&&(w=w.slice(1)),++p,w.length){var v={v:w,t:"s"};Array.isArray(l)?l[d][p]=v:l[ft({r:d,c:p})]=v}break}m=f.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=Yt(u),l}function n(a,i){return Ni(e(a,i),i)}function r(a){for(var i=["{\\rtf1\\ansi"],o=bt(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var d=ft({r:u,c:h});l=c?(a[u]||[])[h]:a[d],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Bs(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function bv(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var tM=6,Ds=tM;function Vh(e){return Math.floor((e+Math.round(128/Ds)/256)*Ds)}function Kh(e){return Math.floor((e-5)/Ds*100+.5)/100}function Nm(e){return Math.round((e*Ds+5)/Ds*256)/256}function rx(e){e.width?(e.wpx=Vh(e.width),e.wch=Kh(e.wpx),e.MDW=Ds):e.wpx?(e.wch=Kh(e.wpx),e.width=Nm(e.wch),e.MDW=Ds):typeof e.wch=="number"&&(e.width=Nm(e.wch),e.wpx=Vh(e.width),e.MDW=Ds),e.customWidth&&delete e.customWidth}var nM=96,Wb=nM;function Wh(e){return e*96/Wb}function Yb(e){return e*Wb/96}function rM(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=Ee("numFmt",null,{numFmtId:r,formatCode:ht(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ee("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function sM(e){var t=[];return t[t.length]=Ee("cellXfs",null),e.forEach(function(n){t[t.length]=Ee("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ee("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function zb(e,t){var n=[zt,Ee("styleSheet",null,{xmlns:Io[0],"xmlns:vt":Jt.vt})],r;return e.SSF&&(r=rM(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=sM(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function aM(e,t){var n=e.read_shift(2),r=_n(e);return[n,r]}function iM(e,t,n){n||(n=de(6+4*t.length)),n.write_shift(2,e),en(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function oM(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=qO(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var l=e.read_shift(1);l>0&&(r.family=l);var c=e.read_shift(1);switch(c>0&&(r.charset=c),e.l++,r.color=zO(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=_n(e),r}function lM(e,t){t||(t=de(25+4*32)),t.write_shift(2,e.sz*20),GO(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Hh(e.color,t);var r=0;return r=2,t.write_shift(1,r),en(e.name,t),t.length>t.l?t.slice(0,t.l):t}var cM=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Uf,uM=ms;function jv(e,t){t||(t=de(4*3+8*7+16*1)),Uf||(Uf=Wp(cM));var n=Uf[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(Hh({auto:1},t),Hh({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function hM(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}function qb(e,t,n){n||(n=de(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function rl(e,t){return t||(t=de(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var dM=ms;function fM(e,t){return t||(t=de(51)),t.write_shift(1,0),rl(null,t),rl(null,t),rl(null,t),rl(null,t),rl(null,t),t.length>t.l?t.slice(0,t.l):t}function mM(e,t){return t||(t=de(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),$h(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function pM(e,t,n){var r=de(2052);return r.write_shift(4,e),$h(t,r),$h(n,r),r.length>r.l?r.slice(0,r.l):r}function xM(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&++n}),n!=0&&(xe(e,615,Vr(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&xe(e,44,iM(a,t[a]))}),xe(e,616))}}function gM(e){var t=1;xe(e,611,Vr(t)),xe(e,43,lM({sz:12,color:{theme:1},name:"Calibri",family:2})),xe(e,612)}function yM(e){var t=2;xe(e,603,Vr(t)),xe(e,45,jv({patternType:"none"})),xe(e,45,jv({patternType:"gray125"})),xe(e,604)}function vM(e){var t=1;xe(e,613,Vr(t)),xe(e,46,fM()),xe(e,614)}function wM(e){var t=1;xe(e,626,Vr(t)),xe(e,47,qb({numFmtId:0},65535)),xe(e,627)}function NM(e,t){xe(e,617,Vr(t.length)),t.forEach(function(n){xe(e,47,qb(n,0))}),xe(e,618)}function bM(e){var t=1;xe(e,619,Vr(t)),xe(e,48,mM({xfId:0,name:"Normal"})),xe(e,620)}function jM(e){var t=0;xe(e,505,Vr(t)),xe(e,506)}function TM(e){var t=0;xe(e,508,pM(t,"TableStyleMedium9","PivotStyleMedium4")),xe(e,509)}function kM(e,t){var n=Jn();return xe(n,278),xM(n,e.SSF),gM(n),yM(n),vM(n),wM(n),NM(n,t.cellXfs),bM(n),jM(n),TM(n),xe(n,279),n.end()}function Gb(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[zt];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function SM(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_n(e)}}function CM(e){var t=de(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),en(e.name,t),t.slice(0,t.l)}function EM(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function _M(e){var t=de(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function DM(e,t){var n=de(8+2*t.length);return n.write_shift(4,e),en(t,n),n.slice(0,n.l)}function PM(e){return e.l+=4,e.read_shift(4)!=0}function AM(e,t){var n=de(8);return n.write_shift(4,e),n.write_shift(4,1),n}function OM(){var e=Jn();return xe(e,332),xe(e,334,Vr(1)),xe(e,335,CM({name:"XLDAPR",version:12e4,flags:3496657072})),xe(e,336),xe(e,339,DM(1,"XLDAPR")),xe(e,52),xe(e,35,Vr(514)),xe(e,4096,Vr(0)),xe(e,4097,wr(1)),xe(e,36),xe(e,53),xe(e,340),xe(e,337,AM(1)),xe(e,51,_M([[1,0]])),xe(e,338),xe(e,333),e.end()}function Qb(){var e=[zt];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function RM(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=ft(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var qi=1024;function Xb(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[Ee("xml",null,{"xmlns:v":lr.v,"xmlns:o":lr.o,"xmlns:x":lr.x,"xmlns:mv":lr.mv}).replace(/\/>/,">"),Ee("o:shapelayout",Ee("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ee("v:shapetype",[Ee("v:stroke",null,{joinstyle:"miter"}),Ee("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];qi<e*1e3;)qi+=1e3;return t.forEach(function(i){var o=Zt(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ee("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ee("v:fill",c,l),h={on:"t",obscured:"t"};++qi,a=a.concat(["<v:shape"+ic({id:"_x0000_s"+qi,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ee("v:shadow",null,h),Ee("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),fn("x:AutoFill","False"),fn("x:Row",String(o.r)),fn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Jb(e){var t=[zt,Ee("comments",null,{xmlns:Io[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(a){var i=ht(a.a);n.indexOf(i)==-1&&(n.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&n.indexOf("tc="+a.ID)==-1&&(n.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var a=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(a=n.indexOf(ht(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(fn("t",ht(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(fn("t",ht(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function MM(e,t,n){var r=[zt,Ee("ThreadedComments",null,{xmlns:Jt.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Ee("threadedComment",fn("text",o.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function LM(e){var t=[zt,Ee("personList",null,{xmlns:Jt.TCMNT,"xmlns:x":Io[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(Ee("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function FM(e){var t={};t.iauthor=e.read_shift(4);var n=ki(e);return t.rfx=n.s,t.ref=ft(n.s),e.l+=16,t}function IM(e,t){return t==null&&(t=de(36)),t.write_shift(4,e[1].iauthor),$o(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var BM=_n;function $M(e){return en(e.slice(0,54))}function HM(e){var t=Jn(),n=[];return xe(t,628),xe(t,630),e.forEach(function(r){r[1].forEach(function(a){n.indexOf(a.a)>-1||(n.push(a.a.slice(0,54)),xe(t,632,$M(a.a)))})}),xe(t,631),xe(t,633),e.forEach(function(r){r[1].forEach(function(a){a.iauthor=n.indexOf(a.a);var i={s:Zt(r[0]),e:Zt(r[0])};xe(t,635,IM([i,a])),a.t&&a.t.length>0&&xe(t,637,VO(a)),xe(t,636),delete a.iauthor})}),xe(t,634),xe(t,629),t.end()}function UM(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&mt.utils.cfb_add(e,a,t.FileIndex[r].content)}})}var Zb=["xlsb","xlsm","xlam","biff8","xla"],VM=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=t.c:--h,c?u+=t.r:--u,a+(l?"":"$")+En(h)+(c?"":"$")+vn(u)}return function(a,i){return t=i,a.replace(e,n)}}(),sx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ax=function(){return function(t,n){return t.replace(sx,function(r,a,i,o,l,c){var u=Jp(o)-(i?0:n.c),h=Xp(c)-(l?0:n.r),d=h==0?"":l?h+1:"["+h+"]",f=u==0?"":i?u+1:"["+u+"]";return a+"R"+d+"C"+f})}}();function KM(e,t){return e.replace(sx,function(n,r,a,i,o,l){return r+(a=="$"?a+i:En(Jp(i)+t.c))+(o=="$"?o+l:vn(Xp(l)+t.r))})}function WM(e){return e.length!=1}function Ut(e){e.l+=1}function Da(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function ej(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return tj(e);n.biff==12&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=Da(e),l=Da(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function tj(e){var t=Da(e),n=Da(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function YM(e,t,n){if(n.biff<8)return tj(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=Da(e),o=Da(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function nj(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return zM(e);var r=e.read_shift(n&&n.biff==12?4:2),a=Da(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function zM(e){var t=Da(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function qM(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function GM(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return QM(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function QM(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function XM(e,t,n){var r=(e[e.l++]&96)>>5,a=ej(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function JM(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=ej(e,i,n);return[r,a,o]}function ZM(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function eL(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,a]}function tL(e,t,n){var r=(e[e.l++]&96)>>5,a=YM(e,t-1,n);return[r,a]}function nL(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function Tv(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function rL(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function sL(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function aL(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function iL(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function oL(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function rj(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function lL(e){return e.read_shift(2),rj(e)}function cL(e){return e.read_shift(2),rj(e)}function uL(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=nj(e,0,n);return[r,a]}function hL(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=GM(e,0,n);return[r,a]}function dL(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=nj(e,0,n);return[r,a,i]}function fL(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[fF[a],ij[a],r]}function mL(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:pL(e);return[a,(i[0]===0?ij:dF)[i[1]]]}function pL(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function xL(e,t,n){e.l+=n&&n.biff==2?3:4}function gL(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function yL(e){return e.l++,Sc[e.read_shift(1)]}function vL(e){return e.l++,e.read_shift(2)}function wL(e){return e.l++,e.read_shift(1)!==0}function NL(e){return e.l++,Ho(e)}function bL(e,t,n){return e.l++,Bb(e,t-1,n)}function jL(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=dR(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=Sc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Ho(e);break;case 2:n[1]=xR(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function TL(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=r;++i)a.push((n.biff==12?ki:vR)(e));return a}function kL(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=jL(e,n.biff);return o}function SL(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function CL(e,t,n){if(n.biff==5)return EL(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[r,a,i]}function EL(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function _L(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function DL(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function PL(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function AL(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,a]}var OL=ms,RL=ms,ML=ms;function Cc(e,t,n){return e.l+=2,[qM(e)]}function ix(e){return e.l+=6,[]}var LL=Cc,FL=ix,IL=ix,BL=Cc;function sj(e){return e.l+=2,[Fb(e),e.read_shift(2)&1]}var $L=Cc,HL=sj,UL=ix,VL=Cc,KL=Cc,WL=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function YL(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=WL[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:i}}function zL(e){return e.l+=2,[e.read_shift(4)]}function qL(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function GL(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function QL(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function XL(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function JL(e){return e.l+=4,[0,0]}var kv={1:{n:"PtgExp",f:gL},2:{n:"PtgTbl",f:ML},3:{n:"PtgAdd",f:Ut},4:{n:"PtgSub",f:Ut},5:{n:"PtgMul",f:Ut},6:{n:"PtgDiv",f:Ut},7:{n:"PtgPower",f:Ut},8:{n:"PtgConcat",f:Ut},9:{n:"PtgLt",f:Ut},10:{n:"PtgLe",f:Ut},11:{n:"PtgEq",f:Ut},12:{n:"PtgGe",f:Ut},13:{n:"PtgGt",f:Ut},14:{n:"PtgNe",f:Ut},15:{n:"PtgIsect",f:Ut},16:{n:"PtgUnion",f:Ut},17:{n:"PtgRange",f:Ut},18:{n:"PtgUplus",f:Ut},19:{n:"PtgUminus",f:Ut},20:{n:"PtgPercent",f:Ut},21:{n:"PtgParen",f:Ut},22:{n:"PtgMissArg",f:Ut},23:{n:"PtgStr",f:bL},26:{n:"PtgSheet",f:qL},27:{n:"PtgEndSheet",f:GL},28:{n:"PtgErr",f:yL},29:{n:"PtgBool",f:wL},30:{n:"PtgInt",f:vL},31:{n:"PtgNum",f:NL},32:{n:"PtgArray",f:nL},33:{n:"PtgFunc",f:fL},34:{n:"PtgFuncVar",f:mL},35:{n:"PtgName",f:SL},36:{n:"PtgRef",f:uL},37:{n:"PtgArea",f:XM},38:{n:"PtgMemArea",f:_L},39:{n:"PtgMemErr",f:OL},40:{n:"PtgMemNoMem",f:RL},41:{n:"PtgMemFunc",f:DL},42:{n:"PtgRefErr",f:PL},43:{n:"PtgAreaErr",f:ZM},44:{n:"PtgRefN",f:hL},45:{n:"PtgAreaN",f:tL},46:{n:"PtgMemAreaN",f:QL},47:{n:"PtgMemNoMemN",f:XL},57:{n:"PtgNameX",f:CL},58:{n:"PtgRef3d",f:dL},59:{n:"PtgArea3d",f:JM},60:{n:"PtgRefErr3d",f:AL},61:{n:"PtgAreaErr3d",f:eL},255:{}},ZL={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},eF={1:{n:"PtgElfLel",f:sj},2:{n:"PtgElfRw",f:VL},3:{n:"PtgElfCol",f:LL},6:{n:"PtgElfRwV",f:KL},7:{n:"PtgElfColV",f:BL},10:{n:"PtgElfRadical",f:$L},11:{n:"PtgElfRadicalS",f:UL},13:{n:"PtgElfColS",f:FL},15:{n:"PtgElfColSV",f:IL},16:{n:"PtgElfRadicalLel",f:HL},25:{n:"PtgList",f:YL},29:{n:"PtgSxName",f:zL},255:{}},tF={0:{n:"PtgAttrNoop",f:JL},1:{n:"PtgAttrSemi",f:oL},2:{n:"PtgAttrIf",f:aL},4:{n:"PtgAttrChoose",f:rL},8:{n:"PtgAttrGoto",f:sL},16:{n:"PtgAttrSum",f:xL},32:{n:"PtgAttrBaxcel",f:Tv},33:{n:"PtgAttrBaxcel",f:Tv},64:{n:"PtgAttrSpace",f:lL},65:{n:"PtgAttrSpaceSemi",f:cL},128:{n:"PtgAttrIfError",f:iL},255:{}};function nF(e,t,n,r){if(r.biff<8)return ms(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=kL(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=TL(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(ms(e,t)),i}function rF(e,t,n){for(var r=e.l+t,a,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],a=kv[i]||kv[ZL[i]],(i===24||i===25)&&(a=(i===24?eF:tF)[e[e.l+1]]),!a||!a.f?ms(e,t):o.push([a.n,a.f(e,t,n)]);return o}function sF(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var aF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iF(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function aj(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Sv(e,t,n){var r=aj(e,t,n);return r=="#REF"?r:iF(r,n)}function _o(e,t,n,r,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,h,d=0,f=0,m,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,w="",v=0,g=e[0].length;v<g;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:w=Ot(" ",e[0][p][1][1]);break;case 1:w=Ot("\r",e[0][p][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+w,p=-1}l.push(u+aF[y[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Sl(y[1][1],o,a),l.push(Cl(h,i));break;case"PtgRefN":h=n?Sl(y[1][1],n,a):y[1][1],l.push(Cl(h,i));break;case"PtgRef3d":d=y[1][1],h=Sl(y[1][2],o,a),x=Sv(r,d,a),l.push(x+"!"+Cl(h,i));break;case"PtgFunc":case"PtgFuncVar":var b=y[1][0],j=y[1][1];b||(b=0),b&=127;var C=b==0?[]:l.slice(-b);l.length-=b,j==="User"&&(j=C.shift()),l.push(j+"("+C.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":m=uv(y[1][1],n?{s:n}:o,a),l.push($f(m,a));break;case"PtgArea":m=uv(y[1][1],o,a),l.push($f(m,a));break;case"PtgArea3d":d=y[1][1],m=y[1][2],x=Sv(r,d,a),l.push(x+"!"+$f(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=y[1][2];var T=(r.names||[])[f-1]||(r[0]||[])[f],k=T?T.Name:"SH33TJSNAME"+String(f);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var D=y[1][1];f=y[1][2];var H;if(a.biff<=5)D<0&&(D=-D),r[D]&&(H=r[D][f]);else{var O="";if(((r[D]||[])[0]||[])[0]==14849||(((r[D]||[])[0]||[])[0]==1025?r[D][f]&&r[D][f].itab>0&&(O=r.SheetNames[r[D][f].itab-1]+"!"):O=r.SheetNames[f-1]+"!"),r[D]&&r[D][f])O+=r[D][f].Name;else if(r[0]&&r[0][f])O+=r[0][f].Name;else{var B=(aj(r,D,a)||"").split(";;");B[f-1]?O=B[f-1]:O+="SH33TJSERRX"}l.push(O);break}H||(H={Name:"SH33TJSERRY"}),l.push(H.Name);break;case"PtgParen":var W="(",ue=")";if(p>=0){switch(w="",e[0][p][1][0]){case 2:W=Ot(" ",e[0][p][1][1])+W;break;case 3:W=Ot("\r",e[0][p][1][1])+W;break;case 4:ue=Ot(" ",e[0][p][1][1])+ue;break;case 5:ue=Ot("\r",e[0][p][1][1])+ue;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(W+l.pop()+ue);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:y[1][1],r:y[1][0]};var G={c:n.c,r:n.r};if(r.sharedf[ft(h)]){var I=r.sharedf[ft(h)];l.push(_o(I,o,G,r,a))}else{var K=!1;for(c=0;c!=r.arrayf.length;++c)if(u=r.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){l.push(_o(u[1],o,G,r,a)),K=!0;break}K||l.push(y[1])}break;case"PtgArray":l.push("{"+sF(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&se.indexOf(e[0][v][0])==-1){y=e[0][p];var z=!0;switch(y[1][0]){case 4:z=!1;case 0:w=Ot(" ",y[1][1]);break;case 5:z=!1;case 1:w=Ot("\r",y[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((z?w:"")+l.pop()+(z?"":w)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function oF(e){if(e==null){var t=de(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return mi(e);return mi(0)}function lF(e,t,n,r,a){var i=pi(t,n,a),o=oF(e.v),l=de(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=de(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var d=dn([i,o,l,u]);return d}function $d(e,t,n){var r=e.read_shift(4),a=rF(e,r,n),i=e.read_shift(4),o=i>0?nF(e,i,a,n):null;return[a,o]}var cF=$d,Hd=$d,uF=$d,hF=$d,dF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ij={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function mF(e){var t="of:="+e.replace(sx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function pF(e){return e.replace(/\./,"!")}var El=typeof Map<"u";function ox(e,t,n){var r=0,a=e.length;if(n){if(El?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var i=El?n.get(t):n[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t},e.Count++,e.Unique++,n&&(El?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function Ud(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Ds=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=Kh(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=Nm(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function oj(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Ia(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(r==null&&n.ssf){for(;a<392;++a)if(n.ssf[a]==null){nb(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===r)return a;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function xF(e,t,n){if(e&&e["!ref"]){var r=bt(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function gF(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Yt(e[n])+'"/>';return t+"</mergeCells>"}function yF(e,t,n,r,a){var i=!1,o={},l=null;if(r.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[n];try{t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}i=!0,o.codeName=ac(ht(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Ee("outlinePr",null,u)}!i&&!l||(a[a.length]=Ee("sheetPr",l,o))}var vF=["objects","scenarios","selectLockedCells","selectUnlockedCells"],wF=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function NF(e){var t={sheet:1};return vF.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),wF.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=Kb(e.password).toString(16).toUpperCase()),Ee("sheetProtection",null,t)}function bF(e){return oj(e),Ee("pageMargins",null,e)}function jF(e,t){for(var n=["<cols>"],r,a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=Ee("col",null,Ud(a,r)));return n[n.length]="</cols>",n.join("")}function TF(e,t,n,r){var a=typeof e.ref=="string"?e.ref:Yt(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=pr(a);o.s.r==o.e.r&&(o.e.r=pr(t["!ref"]).e.r,a=Yt(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Ee("autoFilter",null,{ref:a})}function kF(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ee("sheetViews",Ee("sheetView",null,a),{})}function SF(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Sc[e.v];break;case"d":r&&r.cellDates?a=$n(e.v,-1).toISOString():(e=er(e),e.t="n",a=""+(e.v=Zn($n(e.v)))),typeof e.z>"u"&&(e.z=Rt[14]);break;default:a=e.v;break}var l=fn("v",ht(a)),c={r:t},u=Ia(r.cellXfs,e,r);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){l=fn("v",""+ox(r.Strings,e.v,r.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Ee("f",ht(e.f),h)+(e.v!=null?l:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(c.cm=1),Ee("c",l,c)}function CF(e,t,n,r){var a=[],i=[],o=bt(e["!ref"]),l="",c,u="",h=[],d=0,f=0,m=e["!rows"],x=Array.isArray(e),p={r:u},w,v=-1;for(f=o.s.c;f<=o.e.c;++f)h[f]=En(f);for(d=o.s.r;d<=o.e.r;++d){for(i=[],u=vn(d),f=o.s.c;f<=o.e.c;++f){c=h[f]+u;var g=x?(e[d]||[])[f]:e[c];g!==void 0&&(l=SF(g,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[d])&&(p={r:u},m&&m[d]&&(w=m[d],w.hidden&&(p.hidden=1),v=-1,w.hpx?v=Wh(w.hpx):w.hpt&&(v=w.hpt),v>-1&&(p.ht=v,p.customHeight=1),w.level&&(p.outlineLevel=w.level)),a[a.length]=Ee("row",i.join(""),p))}if(m)for(;d<m.length;++d)m&&m[d]&&(p={r:d+1},w=m[d],w.hidden&&(p.hidden=1),v=-1,w.hpx?v=Wh(w.hpx):w.hpt&&(v=w.hpt),v>-1&&(p.ht=v,p.customHeight=1),w.level&&(p.outlineLevel=w.level),a[a.length]=Ee("row","",p));return a.join("")}function lj(e,t,n,r){var a=[zt,Ee("worksheet",null,{xmlns:Io[0],"xmlns:r":Jt.r})],i=n.SheetNames[e],o=0,l="",c=n.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",h=bt(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=Yt(h)}r||(r={}),c["!comments"]=[];var d=[];yF(c,n,e,t,a),a[a.length]=Ee("dimension",null,{ref:u}),a[a.length]=kF(c,t,e,n),t.sheetFormat&&(a[a.length]=Ee("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=jF(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=CF(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=NF(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=TF(c["!autofilter"],c,n,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=gF(c["!merges"]));var f=-1,m,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=ot(r,-1,ht(p[1].Target).replace(/#.*$/,""),tt.HLINK),m["r:id"]="rId"+x),(f=p[1].Target.indexOf("#"))>-1&&(m.location=ht(p[1].Target.slice(f+1))),p[1].Tooltip&&(m.tooltip=ht(p[1].Tooltip)),a[a.length]=Ee("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=bF(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=fn("ignoredErrors",Ee("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(x=ot(r,-1,"../drawings/drawing"+(e+1)+".xml",tt.DRAW),a[a.length]=Ee("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=d),c["!comments"].length>0&&(x=ot(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",tt.VML),a[a.length]=Ee("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function EF(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}function _F(e,t,n){var r=de(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;a.hpx?i=Wh(a.hpx)*20:a.hpt&&(i=a.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var l=0,c=r.l;r.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var d=-1,f=-1,m=h<<10;m<h+1<<10;++m){u.c=m;var x=Array.isArray(n)?(n[u.r]||[])[u.c]:n[ft(u)];x&&(d<0&&(d=m),f=m)}d<0||(++l,r.write_shift(4,d),r.write_shift(4,f))}var p=r.l;return r.l=c,r.write_shift(4,l),r.l=p,r.length>r.l?r.slice(0,r.l):r}function DF(e,t,n,r){var a=_F(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&xe(e,0,a)}var PF=ki,AF=$o;function OF(){}function RF(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=KO(e),n}function MF(e,t,n){n==null&&(n=de(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return Hh({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),jb(e,n),n.slice(0,n.l)}function LF(e){var t=Ar(e);return[t]}function FF(e,t,n){return n==null&&(n=de(8)),bi(t,n)}function IF(e){var t=ji(e);return[t]}function BF(e,t,n){return n==null&&(n=de(4)),Ti(t,n)}function $F(e){var t=Ar(e),n=e.read_shift(1);return[t,n,"b"]}function HF(e,t,n){return n==null&&(n=de(9)),bi(t,n),n.write_shift(1,e.v?1:0),n}function UF(e){var t=ji(e),n=e.read_shift(1);return[t,n,"b"]}function VF(e,t,n){return n==null&&(n=de(5)),Ti(t,n),n.write_shift(1,e.v?1:0),n}function KF(e){var t=Ar(e),n=e.read_shift(1);return[t,n,"e"]}function WF(e,t,n){return n==null&&(n=de(9)),bi(t,n),n.write_shift(1,e.v),n}function YF(e){var t=ji(e),n=e.read_shift(1);return[t,n,"e"]}function zF(e,t,n){return n==null&&(n=de(8)),Ti(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function qF(e){var t=Ar(e),n=e.read_shift(4);return[t,n,"s"]}function GF(e,t,n){return n==null&&(n=de(12)),bi(t,n),n.write_shift(4,t.v),n}function QF(e){var t=ji(e),n=e.read_shift(4);return[t,n,"s"]}function XF(e,t,n){return n==null&&(n=de(8)),Ti(t,n),n.write_shift(4,t.v),n}function JF(e){var t=Ar(e),n=Ho(e);return[t,n,"n"]}function ZF(e,t,n){return n==null&&(n=de(16)),bi(t,n),mi(e.v,n),n}function eI(e){var t=ji(e),n=Ho(e);return[t,n,"n"]}function tI(e,t,n){return n==null&&(n=de(12)),Ti(t,n),mi(e.v,n),n}function nI(e){var t=Ar(e),n=Tb(e);return[t,n,"n"]}function rI(e,t,n){return n==null&&(n=de(12)),bi(t,n),kb(e.v,n),n}function sI(e){var t=ji(e),n=Tb(e);return[t,n,"n"]}function aI(e,t,n){return n==null&&(n=de(8)),Ti(t,n),kb(e.v,n),n}function iI(e){var t=Ar(e),n=Zp(e);return[t,n,"is"]}function oI(e){var t=Ar(e),n=_n(e);return[t,n,"str"]}function lI(e,t,n){return n==null&&(n=de(12+4*e.v.length)),bi(t,n),en(e.v,n),n.length>n.l?n.slice(0,n.l):n}function cI(e){var t=ji(e),n=_n(e);return[t,n,"str"]}function uI(e,t,n){return n==null&&(n=de(8+4*e.v.length)),Ti(t,n),en(e.v,n),n.length>n.l?n.slice(0,n.l):n}function hI(e,t,n){var r=e.l+t,a=Ar(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var l=Hd(e,r-e.l,n);o[3]=_o(l,null,a,n.supbooks,n)}else e.l=r;return o}function dI(e,t,n){var r=e.l+t,a=Ar(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var l=Hd(e,r-e.l,n);o[3]=_o(l,null,a,n.supbooks,n)}else e.l=r;return o}function fI(e,t,n){var r=e.l+t,a=Ar(e);a.r=n["!row"];var i=Ho(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var l=Hd(e,r-e.l,n);o[3]=_o(l,null,a,n.supbooks,n)}else e.l=r;return o}function mI(e,t,n){var r=e.l+t,a=Ar(e);a.r=n["!row"];var i=_n(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var l=Hd(e,r-e.l,n);o[3]=_o(l,null,a,n.supbooks,n)}else e.l=r;return o}var pI=ki,xI=$o;function gI(e,t){return t==null&&(t=de(4)),t.write_shift(4,e),t}function yI(e,t){var n=e.l+t,r=ki(e),a=ex(e),i=_n(e),o=_n(e),l=_n(e);e.l=n;var c={rfx:r,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function vI(e,t){var n=de(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));$o({s:Zt(e[0]),e:Zt(e[0])},n),tx("rId"+t,n);var r=e[1].Target.indexOf("#"),a=r==-1?"":e[1].Target.slice(r+1);return en(a||"",n),en(e[1].Tooltip||"",n),en("",n),n.slice(0,n.l)}function wI(){}function NI(e,t,n){var r=e.l+t,a=Sb(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var l=cF(e,r-e.l,n);o[1]=l}else e.l=r;return o}function bI(e,t,n){var r=e.l+t,a=ki(e),i=[a];if(n.cellFormula){var o=hF(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}function jI(e,t,n){n==null&&(n=de(18));var r=Ud(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}var cj=["left","right","top","bottom","header","footer"];function TI(e){var t={};return cj.forEach(function(n){t[n]=Ho(e)}),t}function kI(e,t){return t==null&&(t=de(6*8)),oj(e),cj.forEach(function(n){mi(e[n],t)}),t}function SI(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function CI(e,t,n){n==null&&(n=de(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function EI(e){var t=de(24);return t.write_shift(4,4),t.write_shift(4,1),$o(e,t),t}function _I(e,t){return t==null&&(t=de(16*4+2)),t.write_shift(2,e.password?Kb(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function DI(){}function PI(){}function AI(e,t,n,r,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=er(t),t.z=t.z||Rt[14],t.v=Zn($n(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r:n,c:r};switch(c.s=Ia(a.cellXfs,t,a),t.l&&i["!links"].push([ft(c),t.l]),t.c&&i["!comments"].push([ft(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=ox(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?xe(e,18,XF(t,c)):xe(e,7,GF(t,c))):(c.t="str",o?xe(e,17,uI(t,c)):xe(e,6,lI(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?xe(e,13,aI(t,c)):xe(e,2,rI(t,c)):o?xe(e,16,tI(t,c)):xe(e,5,ZF(t,c)),!0;case"b":return c.t="b",o?xe(e,15,VF(t,c)):xe(e,4,HF(t,c)),!0;case"e":return c.t="e",o?xe(e,14,zF(t,c)):xe(e,3,WF(t,c)),!0}return o?xe(e,12,BF(t,c)):xe(e,1,FF(t,c)),!0}function OI(e,t,n,r){var a=bt(t["!ref"]||"A1"),i,o="",l=[];xe(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=u;++h){o=vn(h),DF(e,t,a,h);var d=!1;if(h<=a.e.r)for(var f=a.s.c;f<=a.e.c;++f){h===a.s.r&&(l[f]=En(f)),i=l[f]+o;var m=c?(t[h]||[])[f]:t[i];if(!m){d=!1;continue}d=AI(e,m,h,f,r,t,d)}}xe(e,146)}function RI(e,t){!t||!t["!merges"]||(xe(e,177,gI(t["!merges"].length)),t["!merges"].forEach(function(n){xe(e,176,xI(n))}),xe(e,178))}function MI(e,t){!t||!t["!cols"]||(xe(e,390),t["!cols"].forEach(function(n,r){n&&xe(e,60,jI(r,n))}),xe(e,391))}function LI(e,t){!t||!t["!ref"]||(xe(e,648),xe(e,649,EI(bt(t["!ref"]))),xe(e,650))}function FI(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var a=ot(n,-1,r[1].Target.replace(/#.*$/,""),tt.HLINK);xe(e,494,vI(r,a))}}),delete t["!links"]}function II(e,t,n,r){if(t["!comments"].length>0){var a=ot(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",tt.VML);xe(e,551,tx("rId"+a)),t["!legacy"]=a}}function BI(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Yt(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=pr(i);l.s.r==l.e.r&&(l.e.r=pr(t["!ref"]).e.r,i=Yt(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),xe(e,161,$o(bt(i))),xe(e,162)}}function $I(e,t,n){xe(e,133),xe(e,137,CI(t,n)),xe(e,138),xe(e,134)}function HI(e,t){t["!protect"]&&xe(e,535,_I(t["!protect"]))}function UI(e,t,n,r){var a=Jn(),i=n.SheetNames[e],o=n.Sheets[i]||{},l=i;try{n&&n.Workbook&&(l=n.Workbook.Sheets[e].CodeName||l)}catch{}var c=bt(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],xe(a,129),(n.vbaraw||o["!outline"])&&xe(a,147,MF(l,o["!outline"])),xe(a,148,AF(c)),$I(a,o,n.Workbook),MI(a,o),OI(a,o,e,t),HI(a,o),BI(a,o,n,e),RI(a,o),FI(a,o,r),o["!margins"]&&xe(a,476,kI(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&LI(a,o),II(a,o,e,r),xe(a,130),a.end()}function VI(e,t){e.l+=10;var n=_n(e);return{name:n}}var KI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function WI(e){return!e.Workbook||!e.Workbook.WBProps?"false":bO(e.Workbook.WBProps.date1904)?"true":"false"}var YI="][*?/\\".split("");function uj(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return YI.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function zI(e,t,n){e.forEach(function(r,a){uj(r);for(var i=0;i<a;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[a]&&t[a].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function qI(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];zI(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)xF(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function hj(e){var t=[zt];t[t.length]=Ee("workbook",null,{xmlns:Io[0],"xmlns:r":Jt.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(KI.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(r[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Ee("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:ht(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ee("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Ee("definedName",ht(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function GI(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=wm(e),n.name=_n(e),n}function QI(e,t){return t||(t=de(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),tx(e.strRelID,t),en(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function XI(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?_n(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function JI(e,t){t||(t=de(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),jb(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function ZI(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=WO(e),o=uF(e,0,n),l=ex(e);e.l=r;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function e8(e,t){xe(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,a={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};xe(e,156,QI(a))}xe(e,144)}function t8(e,t){t||(t=de(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return en("SheetJS",t),en(Oh.version,t),en(Oh.version,t),en("7262",t),t.length>t.l?t.slice(0,t.l):t}function n8(e,t){t||(t=de(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function r8(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,a=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&a==-1?a=r:n[r].Hidden==1&&i==-1&&(i=r);i>a||(xe(e,135),xe(e,158,n8(a)),xe(e,136))}}function s8(e,t){var n=Jn();return xe(n,131),xe(n,128,t8()),xe(n,153,JI(e.Workbook&&e.Workbook.WBProps||null)),r8(n,e),e8(n,e),xe(n,132),n.end()}function a8(e,t,n){return(t.slice(-4)===".bin"?s8:hj)(e)}function i8(e,t,n,r,a){return(t.slice(-4)===".bin"?UI:lj)(e,n,r,a)}function o8(e,t,n){return(t.slice(-4)===".bin"?kM:zb)(e,n)}function l8(e,t,n){return(t.slice(-4)===".bin"?JR:Vb)(e,n)}function c8(e,t,n){return(t.slice(-4)===".bin"?HM:Jb)(e)}function u8(e){return(e.slice(-4)===".bin"?OM:Qb)()}function h8(e,t){var n=[];return e.Props&&n.push(oR(e.Props,t)),e.Custprops&&n.push(lR(e.Props,e.Custprops)),n.join("")}function d8(){return""}function f8(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,a){var i=[];i.push(Ee("NumberFormat",null,{"ss:Format":ht(Rt[r.numFmtId])}));var o={"ss:ID":"s"+(21+a)};n.push(Ee("Style",i.join(""),o))}),Ee("Styles",n.join(""))}function dj(e){return Ee("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+ax(e.Ref,{r:0,c:0})})}function m8(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||n.push(dj(a)))}return Ee("Names",n.join(""))}function p8(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==n&&(l.Name.match(/^_xlfn\./)||i.push(dj(l)))}return i.join("")}function x8(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ee("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ee("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ee("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(Ee("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(fn("ProtectContents","True")),e["!protect"].objects&&a.push(fn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(fn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(fn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(fn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Ee("WorksheetOptions",a.join(""),{xmlns:lr.x})}function g8(e){return e.map(function(t){var n=NO(t.t||""),r=Ee("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ee("Comment",r,{"ss:Author":t.a})}).join("")}function y8(e,t,n,r,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+ht(ax(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Zt(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=ht(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=ht(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],h=0;h!=u.length;++h)u[h].s.c!=o.c||u[h].s.r!=o.r||(u[h].e.c>u[h].s.c&&(l["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(l["ss:MergeDown"]=u[h].e.r-u[h].s.r));var d="",f="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",f=String(e.v);break;case"b":d="Boolean",f=e.v?"1":"0";break;case"e":d="Error",f=Sc[e.v];break;case"d":d="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Rt[14]);break;case"s":d="String",f=wO(e.v||"");break}var m=Ia(r.cellXfs,e,r);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var x=e.v!=null?f:"",p=e.t=="z"?"":'<Data ss:Type="'+d+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=g8(e.c)),Ee("Cell",p,l)}function v8(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Yb(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function w8(e,t,n,r){if(!e["!ref"])return"";var a=bt(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(w,v){rx(w);var g=!!w.width,y=Ud(v,w),b={"ss:Index":v+1};g&&(b["ss:Width"]=Vh(y.width)),w.hidden&&(b["ss:Hidden"]="1"),l.push(Ee("Column",null,b))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var h=[v8(u,(e["!rows"]||[])[u])],d=a.s.c;d<=a.e.c;++d){var f=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>d)&&!(i[o].s.r>u)&&!(i[o].e.c<d)&&!(i[o].e.r<u)){(i[o].s.c!=d||i[o].s.r!=u)&&(f=!0);break}if(!f){var m={r:u,c:d},x=ft(m),p=c?(e[u]||[])[d]:e[x];h.push(y8(p,x,e,t,n,r,m))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function N8(e,t,n){var r=[],a=n.SheetNames[e],i=n.Sheets[a],o=i?p8(i,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?w8(i,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(x8(i,t,e,n)),r.join("")}function b8(e,t){t||(t={}),e.SSF||(e.SSF=er(Rt)),e.SSF&&(Fd(),Ld(e.SSF),t.revssf=Id(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ia(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(h8(e,t)),n.push(d8()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Ee("Worksheet",N8(r,t,e),{"ss:Name":ht(e.SheetNames[r])}));return n[2]=f8(e,t),n[3]=m8(e),zt+Ee("Workbook",n.join(""),{xmlns:lr.ss,"xmlns:o":lr.o,"xmlns:x":lr.x,"xmlns:ss":lr.ss,"xmlns:dt":lr.dt,"xmlns:html":lr.html})}var Vf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function j8(e,t){var n=[],r=[],a=[],i=0,o,l=Zy(dv,"n"),c=Zy(fv,"n");if(e.Props)for(o=Nn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?n:Object.prototype.hasOwnProperty.call(c,o[i])?r:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Nn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?n:Object.prototype.hasOwnProperty.call(c,o[i])?r:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)Lb.indexOf(a[i][0])>-1||Ob.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);r.length&&mt.utils.cfb_add(t,"/SummaryInformation",yv(r,Vf.SI,c,fv)),(n.length||u.length)&&mt.utils.cfb_add(t,"/DocumentSummaryInformation",yv(n,Vf.DSI,l,dv,u.length?u:null,Vf.UDI))}function T8(e,t){var n=t||{},r=mt.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return mt.utils.cfb_add(r,a,fj(e,n)),n.biff==8&&(e.Props||e.Custprops)&&j8(e,r),n.biff==8&&e.vbaraw&&UM(r,mt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var k8={0:{f:EF},1:{f:LF},2:{f:nI},3:{f:KF},4:{f:$F},5:{f:JF},6:{f:oI},7:{f:qF},8:{f:mI},9:{f:fI},10:{f:hI},11:{f:dI},12:{f:IF},13:{f:sI},14:{f:YF},15:{f:UF},16:{f:eI},17:{f:cI},18:{f:QF},19:{f:Zp},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ZI},40:{},42:{},43:{f:oM},44:{f:aM},45:{f:uM},46:{f:dM},47:{f:hM},48:{},49:{f:IO},50:{},51:{f:EM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:BR},62:{f:iI},63:{f:RM},64:{f:DI},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ms,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:SI},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:RF},148:{f:PF,p:16},151:{f:wI},152:{},153:{f:XI},154:{},155:{},156:{f:GI},157:{},158:{},159:{T:1,f:GR},160:{T:-1},161:{T:1,f:ki},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:pI},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:SM},336:{T:-1},337:{f:PM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:wm},357:{},358:{},359:{},360:{T:1},361:{},362:{f:OR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:NI},427:{f:bI},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:TI},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:OF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:yI},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:wm},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:BM},633:{T:1},634:{T:-1},635:{T:1,f:FM},636:{T:-1},637:{f:UO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:VI},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:PI},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function _e(e,t,n,r){var a=t;if(!isNaN(a)){var i=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Qp(n)&&e.push(n)}}function S8(e,t,n,r){var a=(n||[]).length||0;if(a<=8224)return _e(e,t,n,a);var i=t;if(!isNaN(i)){for(var o=n.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,u),e.push(n.slice(c,c+u)),c+=u;c<a;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;h.write_shift(2,u),e.push(n.slice(c,c+u)),c+=u}}}function Ec(e,t,n){return e||(e=de(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function C8(e,t,n,r){var a=de(9);return Ec(a,e,t),Ib(n,r||"b",a),a}function E8(e,t,n){var r=de(8+2*n.length);return Ec(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function _8(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Zn($n(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?_e(e,2,VR(n,r,a)):_e(e,3,UR(n,r,a));return;case"b":case"e":_e(e,5,C8(n,r,t.v,t.t));return;case"s":case"str":_e(e,4,E8(n,r,(t.v||"").slice(0,255)));return}_e(e,1,Ec(null,n,r))}function D8(e,t,n,r){var a=Array.isArray(t),i=bt(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Yt(i)}for(var u=i.s.r;u<=i.e.r;++u){l=vn(u);for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(c[h]=En(h)),o=c[h]+l;var d=a?(t[u]||[])[h]:t[o];d&&_8(e,d,u,h)}}}function P8(e,t){for(var n=t||{},r=Jn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(a=i);if(a==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return _e(r,n.biff==4?1033:n.biff==3?521:9,nx(e,16,n)),D8(r,e.Sheets[e.SheetNames[a]],a,n),_e(r,10),r.end()}function A8(e,t,n){_e(e,49,kR({sz:12,name:"Arial"},n))}function O8(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&_e(e,1054,ER(a,t[a],n))})}function R8(e,t){var n=de(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),_e(e,2151,n),n=de(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Hb(bt(t["!ref"]||"A1"),n),n.write_shift(4,4),_e(e,2152,n)}function M8(e,t){for(var n=0;n<16;++n)_e(e,224,wv({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){_e(e,224,wv(r,0,t))})}function L8(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];_e(e,440,LR(r)),r[1].Tooltip&&_e(e,2048,FR(r))}delete t["!links"]}function F8(e,t){if(t){var n=0;t.forEach(function(r,a){++n<=256&&r&&_e(e,125,$R(Ud(a,r),a))})}}function I8(e,t,n,r,a){var i=16+Ia(a.cellXfs,t,a);if(t.v==null&&!t.bf){_e(e,513,pi(n,r,i));return}if(t.bf)_e(e,6,lF(t,n,r,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Zn($n(t.v)):t.v;_e(e,515,AR(n,r,o,i));break;case"b":case"e":_e(e,517,PR(n,r,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=ox(a.Strings,t.v,a.revStrings);_e(e,253,SR(n,r,l,i))}else _e(e,516,CR(n,r,(t.v||"").slice(0,255),i,a));break;default:_e(e,513,pi(n,r,i))}}function B8(e,t,n){var r=Jn(),a=n.SheetNames[e],i=n.Sheets[a]||{},o=(n||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,h,d="",f=[],m=bt(i["!ref"]||"A1"),x=u?65536:16384;if(m.e.c>255||m.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}_e(r,2057,nx(n,16,t)),_e(r,13,wr(1)),_e(r,12,wr(100)),_e(r,15,Mn(!0)),_e(r,17,Mn(!1)),_e(r,16,mi(.001)),_e(r,95,Mn(!0)),_e(r,42,Mn(!1)),_e(r,43,Mn(!1)),_e(r,130,wr(1)),_e(r,128,DR()),_e(r,131,Mn(!1)),_e(r,132,Mn(!1)),u&&F8(r,i["!cols"]),_e(r,512,_R(m,t)),u&&(i["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){d=vn(p);for(var w=m.s.c;w<=m.e.c;++w){p===m.s.r&&(f[w]=En(w)),h=f[w]+d;var v=c?(i[p]||[])[w]:i[h];v&&(I8(r,v,p,w,t),u&&v.l&&i["!links"].push([h,v.l]))}}var g=l.CodeName||l.name||a;return u&&_e(r,574,TR((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&_e(r,229,MR(i["!merges"])),u&&L8(r,i),_e(r,442,$b(g)),u&&R8(r,i),_e(r,10),r.end()}function $8(e,t,n){var r=Jn(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=n.biff==8,c=n.biff==5;if(_e(r,2057,nx(e,5,n)),n.bookType=="xla"&&_e(r,135),_e(r,225,l?wr(1200):null),_e(r,193,hR(2)),c&&_e(r,191),c&&_e(r,192),_e(r,226),_e(r,92,wR("SheetJS",n)),_e(r,66,wr(l?1200:1252)),l&&_e(r,353,wr(0)),l&&_e(r,448),_e(r,317,HR(e.SheetNames.length)),l&&e.vbaraw&&_e(r,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";_e(r,442,$b(u))}_e(r,156,wr(17)),_e(r,25,Mn(!1)),_e(r,18,Mn(!1)),_e(r,19,wr(0)),l&&_e(r,431,Mn(!1)),l&&_e(r,444,wr(0)),_e(r,61,jR()),_e(r,64,Mn(!1)),_e(r,141,wr(0)),_e(r,34,Mn(WI(e)=="true")),_e(r,14,Mn(!0)),l&&_e(r,439,Mn(!1)),_e(r,218,wr(0)),A8(r,e,n),O8(r,e.SSF,n),M8(r,n),l&&_e(r,352,Mn(!1));var h=r.end(),d=Jn();l&&_e(d,140,IR()),l&&n.Strings&&S8(d,252,bR(n.Strings)),_e(d,10);var f=d.end(),m=Jn(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var w=h.length+x+f.length;for(p=0;p<e.SheetNames.length;++p){var v=i[p]||{};_e(m,133,NR({pos:w,hs:v.Hidden||0,dt:0,name:e.SheetNames[p]},n)),w+=t[p].length}var g=m.end();if(x!=g.length)throw new Error("BS8 "+x+" != "+g.length);var y=[];return h.length&&y.push(h),g.length&&y.push(g),f.length&&y.push(f),dn(y)}function H8(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=er(Rt)),e&&e.SSF&&(Fd(),Ld(e.SSF),n.revssf=Id(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,lx(n),n.cellXfs=[],Ia(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=B8(a,n,e);return r.unshift($8(e,r,n)),dn(r)}function fj(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var a=pr(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return H8(e,t);case 4:case 3:case 2:return P8(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function U8(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>n||a[u].s.c>o)&&!(a[u].e.r<n||a[u].e.c<o)){if(a[u].s.r<n||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var h=ft({r:n,c:o}),d=r.dense?(e[n]||[])[o]:e[h],f=d&&d.v!=null&&(d.h||vO(d.w||(Bs(d),d.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),r.editable?f='<span contenteditable="true">'+f+"</span>":d&&(m["data-t"]=d&&d.t||"z",d.v!=null&&(m["data-v"]=d.v),d.z!=null&&(m["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+d.l.Target+'">'+f+"</a>")),m.id=(r.id||"sjs")+"-"+h,i.push(Ee("td",f,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var V8='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',K8="</body></html>";function W8(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function mj(e,t){var n=t||{},r=n.header!=null?n.header:V8,a=n.footer!=null?n.footer:K8,i=[r],o=pr(e["!ref"]);n.dense=Array.isArray(e),i.push(W8(e,o,n));for(var l=o.s.r;l<=o.e.r;++l)i.push(U8(e,o,l,n));return i.push("</table>"+a),i.join("")}function pj(e,t,n){var r=n||{},a=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?Zt(r.origin):r.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=pr(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),a==-1&&(u.e.r=a=h.e.r+1)}var d=[],f=0,m=e["!rows"]||(e["!rows"]=[]),x=0,p=0,w=0,v=0,g=0,y=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var b=l[x];if(Cv(b)){if(r.display)continue;m[p]={hidden:!0}}var j=b.children;for(w=v=0;w<j.length;++w){var C=j[w];if(!(r.display&&Cv(C))){var T=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):jO(C.innerHTML),k=C.getAttribute("data-z")||C.getAttribute("z");for(f=0;f<d.length;++f){var D=d[f];D.s.c==v+i&&D.s.r<p+a&&p+a<=D.e.r&&(v=D.e.c+1-i,f=-1)}y=+C.getAttribute("colspan")||1,((g=+C.getAttribute("rowspan")||1)>1||y>1)&&d.push({s:{r:p+a,c:v+i},e:{r:p+a+(g||1)-1,c:v+i+(y||1)-1}});var H={t:"s",v:T},O=C.getAttribute("data-t")||C.getAttribute("t")||"";T!=null&&(T.length==0?H.t=O||"z":r.raw||T.trim().length==0||O=="s"||(T==="TRUE"?H={t:"b",v:!0}:T==="FALSE"?H={t:"b",v:!1}:isNaN(_s(T))?isNaN(sc(T).getDate())||(H={t:"d",v:$n(T)},r.cellDates||(H={t:"n",v:Zn(H.v)}),H.z=r.dateNF||Rt[14]):H={t:"n",v:_s(T)})),H.z===void 0&&k!=null&&(H.z=k);var B="",W=C.getElementsByTagName("A");if(W&&W.length)for(var ue=0;ue<W.length&&!(W[ue].hasAttribute("href")&&(B=W[ue].getAttribute("href"),B.charAt(0)!="#"));++ue);B&&B.charAt(0)!="#"&&(H.l={Target:B}),r.dense?(e[p+a]||(e[p+a]=[]),e[p+a][v+i]=H):e[ft({c:v+i,r:p+a})]=H,u.e.c<v+i&&(u.e.c=v+i),v+=y}}++p}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=Yt(u),p>=c&&(e["!fullref"]=Yt((u.e.r=l.length-x+p-1+a,u))),e}function xj(e,t){var n=t||{},r=n.dense?[]:{};return pj(r,e,t)}function Y8(e,t){return Ni(xj(e,t),t)}function Cv(e){var t="",n=z8(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function z8(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var q8=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ic({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zt+t}}(),Ev=function(){var e=function(i){return ht(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(i,o,l){var c=[];c.push('      <table:table table:name="'+ht(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,h=0,d=pr(i["!ref"]||"A1"),f=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(h=0;h<=d.e.c;++h)c.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var p="",w=i["!rows"]||[];for(u=0;u<d.s.r;++u)p=w[u]?' table:style-name="ro'+w[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=d.e.r;++u){for(p=w[u]?' table:style-name="ro'+w[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),h=0;h<d.s.c;++h)c.push(t);for(;h<=d.e.c;++h){var v=!1,g={},y="";for(m=0;m!=f.length;++m)if(!(f[m].s.c>h)&&!(f[m].s.r>u)&&!(f[m].e.c<h)&&!(f[m].e.r<u)){(f[m].s.c!=h||f[m].s.r!=u)&&(v=!0),g["table:number-columns-spanned"]=f[m].e.c-f[m].s.c+1,g["table:number-rows-spanned"]=f[m].e.r-f[m].s.r+1;break}if(v){c.push(n);continue}var b=ft({r:u,c:h}),j=x?(i[u]||[])[h]:i[b];if(j&&j.f&&(g["table:formula"]=ht(mF(j.f)),j.F&&j.F.slice(0,b.length)==b)){var C=pr(j.F);g["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,g["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":y=j.v?"TRUE":"FALSE",g["office:value-type"]="boolean",g["office:boolean-value"]=j.v?"true":"false";break;case"n":y=j.w||String(j.v||0),g["office:value-type"]="float",g["office:value"]=j.v||0;break;case"s":case"str":y=j.v==null?"":j.v,g["office:value-type"]="string";break;case"d":y=j.w||$n(j.v).toISOString(),g["office:value-type"]="date",g["office:date-value"]=$n(j.v).toISOString(),g["table:style-name"]="ce1";break;default:c.push(t);continue}var T=e(y);if(j.l&&j.l.Target){var k=j.l.Target;k=k.charAt(0)=="#"?"#"+pF(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),T=Ee("text:a",T,{"xlink:href":k.replace(/&/g,"&amp;")})}c.push("          "+Ee("table:table-cell",Ee("text:p",T,{}),g)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var d=u["!cols"][h];if(d.width==null&&d.wpx==null&&d.wch==null)continue;rx(d),d.ods=l;var f=u["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=c;var d=u["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[zt],u=ic({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=ic({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+h+`>
`),c.push(Pb().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var d=0;d!=o.SheetNames.length;++d)c.push(r(o.Sheets[o.SheetNames[d]],o,d));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function gj(e,t){if(t.bookType=="fods")return Ev(e,t);var n=Yp(),r="",a=[],i=[];return r="mimetype",qe(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",qe(n,r,Ev(e,t)),a.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",qe(n,r,q8(e,t)),a.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",qe(n,r,zt+Pb()),a.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",qe(n,r,iR(i)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",qe(n,r,sR(a)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Yh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function G8(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Br(ac(e))}function Q8(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function Pa(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function X8(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=n>=0?0:128}function oc(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function at(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function io(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function qt(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=oc(e,n),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=n[0];e[n[0]++]>=128;);l=e.slice(c,n[0])}break;case 5:o=4,l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=oc(e,n),l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(r))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function ln(e){var t=[];return e.forEach(function(n,r){n.forEach(function(a){a.data&&(t.push(at(r*8+a.type)),a.type==2&&t.push(at(a.data.length)),t.push(a.data))})}),Pa(t)}function Rr(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=oc(e,r),i=qt(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:io(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=qt(l.data),u=io(c[3][0].data);o.messages.push({meta:c,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=io(i[3][0].data)>>>0>0),n.push(o)}return n}function Pi(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:at(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:at(+!!n.merge),type:0}]);var a=[];n.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:at(o.data.length)}],r[2].push({data:ln(o.meta),type:2})});var i=ln(r);t.push(at(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Pa(t)}function J8(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=oc(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[n[0]],l>1&&(o|=t[n[0]+1]<<8),l>2&&(o|=t[n[0]+2]<<16),l>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=l}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[n[0]]>>2&7)+4,c=(t[n[0]++]&224)<<3,c|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,i==2?(c=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(c=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[Pa(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var h=Pa(a);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function Mr(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(J8(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Pa(t)}function Ai(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var i=at(r),o=i.length;t.push(i),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,n+=r}return Pa(t)}function Kf(e,t){var n=new Uint8Array(32),r=Yh(n),a=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,X8(n,a,e.v),i|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),n.slice(0,a)}function Wf(e,t){var n=new Uint8Array(32),r=Yh(n),a=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),n.slice(0,a)}function qs(e){var t=qt(e);return oc(t[1][0].data)}function Z8(e,t,n){var r,a,i,o;if(!((r=e[6])!=null&&r[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&io(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Yh(e[7][0].data),h=0,d=[],f=Yh(e[4][0].data),m=0,x=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),f.setUint16(p*2,65535);continue}u.setUint16(p*2,h,!0),f.setUint16(p*2,m,!0);var w,v;switch(typeof t[p]){case"string":w=Kf({t:"s",v:t[p]},n),v=Wf({t:"s",v:t[p]},n);break;case"number":w=Kf({t:"n",v:t[p]},n),v=Wf({t:"n",v:t[p]},n);break;case"boolean":w=Kf({t:"b",v:t[p]},n),v=Wf({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}d.push(w),h+=w.length,x.push(v),m+=v.length,++c}for(e[2][0].data=at(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),f.setUint16(p*2,65535,!0);return e[6][0].data=Pa(d),e[3][0].data=Pa(x),c}function e7(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=pr(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Yt(r)));var i=zh(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(ee){return ee.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var l={},c=[],u=mt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(ee,Y){return[ee,u.FullPaths[Y]]}).forEach(function(ee){var Y=ee[0],q=ee[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var U=Y.content,he=Mr(U),ve=Rr(he);ve.forEach(function(E){c.push(E.id),l[E.id]={deps:[],location:q,type:io(E.messages[0].meta[1][0].data)}})}}),c.sort(function(ee,Y){return ee-Y});var h=c.filter(function(ee){return ee>1}).map(function(ee){return[ee,at(ee)]});u.FileIndex.map(function(ee,Y){return[ee,u.FullPaths[Y]]}).forEach(function(ee){var Y=ee[0];if(ee[1],!!Y.name.match(/\.iwa/)){var q=Rr(Mr(Y.content));q.forEach(function(U){U.messages.forEach(function(he){h.forEach(function(ve){U.messages.some(function(E){return io(E.meta[1][0].data)!=11006&&Q8(E.data,ve[1])})&&l[ve[0]].deps.push(U.id)})})})}});for(var d=mt.find(u,l[1].location),f=Rr(Mr(d.content)),m,x=0;x<f.length;++x){var p=f[x];p.id==1&&(m=p)}var w=qs(qt(m.messages[0].data)[1][0].data);for(d=mt.find(u,l[w].location),f=Rr(Mr(d.content)),x=0;x<f.length;++x)p=f[x],p.id==w&&(m=p);for(w=qs(qt(m.messages[0].data)[2][0].data),d=mt.find(u,l[w].location),f=Rr(Mr(d.content)),x=0;x<f.length;++x)p=f[x],p.id==w&&(m=p);for(w=qs(qt(m.messages[0].data)[2][0].data),d=mt.find(u,l[w].location),f=Rr(Mr(d.content)),x=0;x<f.length;++x)p=f[x],p.id==w&&(m=p);var v=qt(m.messages[0].data);{v[6][0].data=at(r.e.r+1),v[7][0].data=at(r.e.c+1);var g=qs(v[46][0].data),y=mt.find(u,l[g].location),b=Rr(Mr(y.content));{for(var j=0;j<b.length&&b[j].id!=g;++j);if(b[j].id!=g)throw"Bad ColumnRowUIDMapArchive";var C=qt(b[j].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var T=0;T<=r.e.c;++T){var k=[];k[1]=k[2]=[{type:0,data:at(T+420690)}],C[1].push({type:2,data:ln(k)}),C[2].push({type:0,data:at(T)}),C[3].push({type:0,data:at(T)})}C[4]=[],C[5]=[],C[6]=[];for(var D=0;D<=r.e.r;++D)k=[],k[1]=k[2]=[{type:0,data:at(D+726270)}],C[4].push({type:2,data:ln(k)}),C[5].push({type:0,data:at(D)}),C[6].push({type:0,data:at(D)});b[j].messages[0].data=ln(C)}y.content=Ai(Pi(b)),y.size=y.content.length,delete v[46];var H=qt(v[4][0].data);{H[7][0].data=at(r.e.r+1);var O=qt(H[1][0].data),B=qs(O[2][0].data);y=mt.find(u,l[B].location),b=Rr(Mr(y.content));{if(b[0].id!=B)throw"Bad HeaderStorageBucket";var W=qt(b[0].messages[0].data);for(D=0;D<i.length;++D){var ue=qt(W[2][0].data);ue[1][0].data=at(D),ue[4][0].data=at(i[D].length),W[2][D]={type:W[2][0].type,data:ln(ue)}}b[0].messages[0].data=ln(W)}y.content=Ai(Pi(b)),y.size=y.content.length;var G=qs(H[2][0].data);y=mt.find(u,l[G].location),b=Rr(Mr(y.content));{if(b[0].id!=G)throw"Bad HeaderStorageBucket";for(W=qt(b[0].messages[0].data),T=0;T<=r.e.c;++T)ue=qt(W[2][0].data),ue[1][0].data=at(T),ue[4][0].data=at(r.e.r+1),W[2][T]={type:W[2][0].type,data:ln(ue)};b[0].messages[0].data=ln(W)}y.content=Ai(Pi(b)),y.size=y.content.length;var I=qs(H[4][0].data);(function(){for(var ee=mt.find(u,l[I].location),Y=Rr(Mr(ee.content)),q,U=0;U<Y.length;++U){var he=Y[U];he.id==I&&(q=he)}var ve=qt(q.messages[0].data);{ve[3]=[];var E=[];o.forEach(function(te,Te){E[1]=[{type:0,data:at(Te)}],E[2]=[{type:0,data:at(1)}],E[3]=[{type:2,data:G8(te)}],ve[3].push({type:2,data:ln(E)})})}q.messages[0].data=ln(ve);var ne=Pi(Y),je=Ai(ne);ee.content=je,ee.size=ee.content.length})();var K=qt(H[3][0].data);{var se=K[1][0];delete K[2];var z=qt(se.data);{var J=qs(z[2][0].data);(function(){for(var ee=mt.find(u,l[J].location),Y=Rr(Mr(ee.content)),q,U=0;U<Y.length;++U){var he=Y[U];he.id==J&&(q=he)}var ve=qt(q.messages[0].data);{delete ve[6],delete K[7];var E=new Uint8Array(ve[5][0].data);ve[5]=[];for(var ne=0,je=0;je<=r.e.r;++je){var te=qt(E);ne+=Z8(te,i[je],o),te[1][0].data=at(je),ve[5].push({data:ln(te),type:2})}ve[1]=[{type:0,data:at(r.e.c+1)}],ve[2]=[{type:0,data:at(r.e.r+1)}],ve[3]=[{type:0,data:at(ne)}],ve[4]=[{type:0,data:at(r.e.r+1)}]}q.messages[0].data=ln(ve);var Te=Pi(Y),Ce=Ai(Te);ee.content=Ce,ee.size=ee.content.length})()}se.data=ln(z)}H[3][0].data=ln(K)}v[4][0].data=ln(H)}m.messages[0].data=ln(v);var pe=Pi(f),P=Ai(pe);return d.content=P,d.size=d.content.length,u}function t7(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function lx(e){t7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function n7(e,t){return t.bookType=="ods"?gj(e,t):t.bookType=="numbers"?e7(e,t):t.bookType=="xlsb"?r7(e,t):s7(e,t)}function r7(e,t){qi=1024,e&&!e.SSF&&(e.SSF=er(Rt)),e&&e.SSF&&(Fd(),Ld(e.SSF),t.revssf=Id(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,El?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=Zb.indexOf(t.bookType)>-1,a=Eb();lx(t=t||{});var i=Yp(),o="",l=0;if(t.cellXfs=[],Ia(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",qe(i,o,Ab(e.Props,t)),a.coreprops.push(o),ot(t.rels,2,o,tt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,qe(i,o,Rb(e.Props)),a.extprops.push(o),ot(t.rels,3,o,tt.EXT_PROPS),e.Custprops!==e.Props&&Nn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",qe(i,o,Mb(e.Custprops)),a.custprops.push(o),ot(t.rels,4,o,tt.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},d=e.Sheets[e.SheetNames[l-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+n,qe(i,o,i8(l-1,o,t,e,h)),a.sheets.push(o),ot(t.wbrels,-1,"worksheets/sheet"+l+"."+n,tt.WS[0])}if(d){var m=d["!comments"],x=!1,p="";m&&m.length>0&&(p="xl/comments"+l+"."+n,qe(i,p,c8(m,p)),a.comments.push(p),ot(h,-1,"../comments"+l+"."+n,tt.CMNT),x=!0),d["!legacy"]&&x&&qe(i,"xl/drawings/vmlDrawing"+l+".vml",Xb(l,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&qe(i,Db(o),so(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,qe(i,o,l8(t.Strings,o,t)),a.strs.push(o),ot(t.wbrels,-1,"sharedStrings."+n,tt.SST)),o="xl/workbook."+n,qe(i,o,a8(e,o)),a.workbooks.push(o),ot(t.rels,1,o,tt.WB),o="xl/theme/theme1.xml",qe(i,o,Gb(e.Themes,t)),a.themes.push(o),ot(t.wbrels,-1,"theme/theme1.xml",tt.THEME),o="xl/styles."+n,qe(i,o,o8(e,o,t)),a.styles.push(o),ot(t.wbrels,-1,"styles."+n,tt.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",qe(i,o,e.vbaraw),a.vba.push(o),ot(t.wbrels,-1,"vbaProject.bin",tt.VBA)),o="xl/metadata."+n,qe(i,o,u8(o)),a.metadata.push(o),ot(t.wbrels,-1,"metadata."+n,tt.XLMETA),qe(i,"[Content_Types].xml",_b(a,t)),qe(i,"_rels/.rels",so(t.rels)),qe(i,"xl/_rels/workbook."+n+".rels",so(t.wbrels)),delete t.revssf,delete t.ssf,i}function s7(e,t){qi=1024,e&&!e.SSF&&(e.SSF=er(Rt)),e&&e.SSF&&(Fd(),Ld(e.SSF),t.revssf=Id(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,El?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=Zb.indexOf(t.bookType)>-1,a=Eb();lx(t=t||{});var i=Yp(),o="",l=0;if(t.cellXfs=[],Ia(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",qe(i,o,Ab(e.Props,t)),a.coreprops.push(o),ot(t.rels,2,o,tt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,qe(i,o,Rb(e.Props)),a.extprops.push(o),ot(t.rels,3,o,tt.EXT_PROPS),e.Custprops!==e.Props&&Nn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",qe(i,o,Mb(e.Custprops)),a.custprops.push(o),ot(t.rels,4,o,tt.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+n,qe(i,o,lj(l-1,t,e,d)),a.sheets.push(o),ot(t.wbrels,-1,"worksheets/sheet"+l+"."+n,tt.WS[0])}if(f){var x=f["!comments"],p=!1,w="";if(x&&x.length>0){var v=!1;x.forEach(function(g){g[1].forEach(function(y){y.T==!0&&(v=!0)})}),v&&(w="xl/threadedComments/threadedComment"+l+"."+n,qe(i,w,MM(x,h,t)),a.threadedcomments.push(w),ot(d,-1,"../threadedComments/threadedComment"+l+"."+n,tt.TCMNT)),w="xl/comments"+l+"."+n,qe(i,w,Jb(x)),a.comments.push(w),ot(d,-1,"../comments"+l+"."+n,tt.CMNT),p=!0}f["!legacy"]&&p&&qe(i,"xl/drawings/vmlDrawing"+l+".vml",Xb(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&qe(i,Db(o),so(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,qe(i,o,Vb(t.Strings,t)),a.strs.push(o),ot(t.wbrels,-1,"sharedStrings."+n,tt.SST)),o="xl/workbook."+n,qe(i,o,hj(e)),a.workbooks.push(o),ot(t.rels,1,o,tt.WB),o="xl/theme/theme1.xml",qe(i,o,Gb(e.Themes,t)),a.themes.push(o),ot(t.wbrels,-1,"theme/theme1.xml",tt.THEME),o="xl/styles."+n,qe(i,o,zb(e,t)),a.styles.push(o),ot(t.wbrels,-1,"styles."+n,tt.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",qe(i,o,e.vbaraw),a.vba.push(o),ot(t.wbrels,-1,"vbaProject.bin",tt.VBA)),o="xl/metadata."+n,qe(i,o,Qb()),a.metadata.push(o),ot(t.wbrels,-1,"metadata."+n,tt.XLMETA),h.length>1&&(o="xl/persons/person.xml",qe(i,o,LM(h)),a.people.push(o),ot(t.wbrels,-1,"persons/person.xml",tt.PEOPLE)),qe(i,"[Content_Types].xml",_b(a,t)),qe(i,"_rels/.rels",so(t.rels)),qe(i,"xl/_rels/workbook."+n+".rels",so(t.wbrels)),delete t.revssf,delete t.ssf,i}function a7(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Is(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function yj(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Tc(t.file,mt.write(e,{type:rt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return mt.write(e,t)}function i7(e,t){var n=er(t||{}),r=n7(e,n);return o7(r,n)}function o7(e,t){var n={},r=rt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?mt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Md(a))}return t.password&&typeof encrypt_agile<"u"?yj(encrypt_agile(a,t.password),t):t.type==="file"?Tc(t.file,a):t.type=="string"?Tl(a):a}function l7(e,t){var n=t||{},r=T8(e,n);return yj(r,n)}function Gr(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return rc(ac(r));case"binary":return ac(r);case"string":return e;case"file":return Tc(t.file,r,"utf8");case"buffer":return rt?Ks(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Gr(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function c7(e,t){switch(t.type){case"base64":return rc(e);case"binary":return e;case"string":return e;case"file":return Tc(t.file,e,"binary");case"buffer":return rt?Ks(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function hu(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?rc(n):t.type=="string"?Tl(n):n;case"file":return Tc(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function vj(e,t){FA(),qI(e);var n=er(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=vj(e,n);return n.type="array",Md(r)}var a=0;if(n.sheet&&(typeof n.sheet=="number"?a=n.sheet:a=e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Gr(b8(e,n),n);case"slk":case"sylk":return Gr(WR.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return Gr(mj(e.Sheets[e.SheetNames[a]],n),n);case"txt":return c7(wj(e.Sheets[e.SheetNames[a]],n),n);case"csv":return Gr(cx(e.Sheets[e.SheetNames[a]],n),n,"\uFEFF");case"dif":return Gr(YR.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return hu(KR.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return Gr(zR.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return Gr(eM.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return Gr(Ub.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return Gr(gj(e,n),n);case"wk1":return hu(Nv.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return hu(Nv.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),hu(fj(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),l7(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return i7(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function u7(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function h7(e,t,n){var r={};return r.type="file",r.file=t,u7(r),vj(e,r)}function d7(e,t,n,r,a,i,o,l){var c=vn(n),u=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),d=!0,f=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:n,enumerable:!1})}catch{f.__rowNum__=n}else f.__rowNum__=n;if(!o||e[n])for(var m=t.s.c;m<=t.e.c;++m){var x=o?e[n][m]:e[r[m]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[m]!=null&&(f[i[m]]=u);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(p==null)if(x.t=="e"&&p===null)f[i[m]]=null;else if(u!==void 0)f[i[m]]=u;else if(h&&p===null)f[i[m]]=null;else continue;else f[i[m]]=h&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:Bs(x,p,l);p!=null&&(d=!1)}}return{row:f,isempty:d}}function zh(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof h){case"string":c=bt(h);break;case"number":c=bt(e["!ref"]),c.s.r=h;break;default:c=h}r>0&&(a=0);var d=vn(c.s.r),f=[],m=[],x=0,p=0,w=Array.isArray(e),v=c.s.r,g=0,y={};w&&!e[v]&&(e[v]=[]);var b=u.skipHidden&&e["!cols"]||[],j=u.skipHidden&&e["!rows"]||[];for(g=c.s.c;g<=c.e.c;++g)if(!(b[g]||{}).hidden)switch(f[g]=En(g),n=w?e[v][g]:e[f[g]+d],r){case 1:i[g]=g-c.s.c;break;case 2:i[g]=f[g];break;case 3:i[g]=u.header[g-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=o=Bs(n,null,u),p=y[o]||0,!p)y[o]=1;else{do l=o+"_"+p++;while(y[l]);y[o]=p,y[l]=1}i[g]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(j[v]||{}).hidden){var C=d7(e,c,v,f,r,i,w,u);(C.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(m[x++]=C.row)}return m.length=x,m}var _v=/"/g;function f7(e,t,n,r,a,i,o,l){for(var c=!0,u=[],h="",d=vn(n),f=t.s.c;f<=t.e.c;++f)if(r[f]){var m=l.dense?(e[n]||[])[f]:e[r[f]+d];if(m==null)h="";else if(m.v!=null){c=!1,h=""+(l.rawNumbers&&m.t=="n"?m.v:Bs(m,null,l));for(var x=0,p=0;x!==h.length;++x)if((p=h.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){h='"'+h.replace(_v,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(c=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(_v,'""')+'"')):h="";u.push(h)}return l.blankrows===!1&&c?null:u.join(o)}function cx(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=bt(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),l=r.RS!==void 0?r.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",d=[];r.dense=Array.isArray(e);for(var f=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(f[x]||{}).hidden||(d[x]=En(x));for(var p=0,w=a.s.r;w<=a.e.r;++w)(m[w]||{}).hidden||(h=f7(e,a,w,d,o,c,i,r),h!=null&&(r.strip&&(h=h.replace(u,"")),(h||r.blankrows!==!1)&&n.push((p++?l:"")+h)));return delete r.dense,n.join("")}function wj(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=cx(e,t);return n}function m7(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=bt(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=En(l);for(var h=a.s.r;h<=a.e.r;++h)for(i=vn(h),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,n=u?(e[h]||[])[l]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=t+"="+r}return c}function Nj(e,t,n){var r=n||{},a=+!r.skipHeader,i=e||{},o=0,l=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Zt(r.origin):r.origin;o=c.r,l=c.c}var u,h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var d=bt(i["!ref"]);h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),o==-1&&(o=d.e.r+1,h.e.r=o+t.length-1+a)}else o==-1&&(o=0,h.e.r=t.length-1+a);var f=r.header||[],m=0;t.forEach(function(p,w){Nn(p).forEach(function(v){(m=f.indexOf(v))==-1&&(f[m=f.length]=v);var g=p[v],y="z",b="",j=ft({c:l+m,r:o+w+a});u=lc(i,j),g&&typeof g=="object"&&!(g instanceof Date)?i[j]=g:(typeof g=="number"?y="n":typeof g=="boolean"?y="b":typeof g=="string"?y="s":g instanceof Date?(y="d",r.cellDates||(y="n",g=Zn(g)),b=r.dateNF||Rt[14]):g===null&&r.nullError&&(y="e",g=0),u?(u.t=y,u.v=g,delete u.w,delete u.R,b&&(u.z=b)):i[j]=u={t:y,v:g},b&&(u.z=b))})}),h.e.c=Math.max(h.e.c,l+f.length-1);var x=vn(o);if(a)for(m=0;m<f.length;++m)i[En(m+l)+x]={t:"s",v:f[m]};return i["!ref"]=Yt(h),i}function p7(e,t){return Nj(null,e,t)}function lc(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Zt(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?lc(e,ft(t)):lc(e,ft({r:t,c:n||0}))}function x7(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function g7(){return{SheetNames:[],Sheets:{}}}function y7(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(uj(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function v7(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=x7(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function w7(e,t){return e.z=t,e}function bj(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function N7(e,t,n){return bj(e,"#"+t,n)}function b7(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function j7(e,t,n,r){for(var a=typeof t!="string"?t:bt(t),i=typeof t=="string"?t:Yt(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=lc(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=n,r&&(c.D=!0))}return e}var Oi={encode_col:En,encode_row:vn,encode_cell:ft,encode_range:Yt,decode_col:Jp,decode_row:Xp,split_cell:FO,decode_cell:Zt,decode_range:pr,format_cell:Bs,sheet_add_aoa:bb,sheet_add_json:Nj,sheet_add_dom:pj,aoa_to_sheet:Bo,json_to_sheet:p7,table_to_sheet:xj,table_to_book:Y8,sheet_to_csv:cx,sheet_to_txt:wj,sheet_to_json:zh,sheet_to_html:mj,sheet_to_formulae:m7,sheet_to_row_object_array:zh,sheet_get_cell:lc,book_new:g7,book_append_sheet:y7,book_set_sheet_visibility:v7,cell_set_number_format:w7,cell_set_hyperlink:bj,cell_set_internal_link:N7,cell_add_comment:b7,sheet_set_array_formula:j7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const T7=()=>{const e=()=>{const j=new Date,C=j.getFullYear(),T=j.getMonth(),k=new Date(C,T,1),D=new Date(C,T+1,0);return{startDate:k.toISOString().split("T")[0],endDate:D.toISOString().split("T")[0]}},[t,n]=N.useState(e());re.useEffect(()=>{const j=document.createElement("style");return j.textContent=`
      @media print {
        .no-print { display: none !important; }
        .print-only { display: block !important; }
        body { font-size: 12px; }
        .card { box-shadow: none; border: 1px solid #ddd; }
        table { font-size: 11px; }
        .page-break { page-break-before: always; }
      }
    `,document.head.appendChild(j),()=>document.head.removeChild(j)},[]);const[r,a]=N.useState("revenue"),[i,o]=N.useState(!1),[l,c]=N.useState(null),[u,h]=N.useState("ALL"),[d,f]=N.useState(1),[m,x]=N.useState(10);N.useEffect(()=>{p()},[t,r,u]);const p=async()=>{try{o(!0);const j={startDate:t.startDate,endDate:t.endDate,type:r};r==="booking"&&(j.status=u);const C=await V.get("/api/reports",{params:j});C.data.statusCode===200?c(C.data.data||{}):console.error("Error:",C.data.message)}catch(j){console.error("Error fetching report data:",j)}finally{o(!1)}},w=(j,C)=>{n(T=>({...T,[j]:C}))},v=async j=>{try{o(!0),r==="booking"?l&&l.details?j==="excel"&&g(l):alert("Không có dữ liệu để xuất. Vui lòng tải dữ liệu báo cáo trước."):alert("Chức năng xuất Excel chỉ khả dụng cho báo cáo đặt phòng")}catch(C){console.error("Error exporting report:",C),alert("Có lỗi xảy ra khi xuất báo cáo")}finally{o(!1)}},g=j=>{if(!j||!j.details||j.details.length===0){alert("Không có dữ liệu để xuất");return}const C=Oi.book_new(),T=[["BÁO CÁO CHI TIẾT ĐẶT PHÒNG"],[""],[`Thời gian: ${new Date(t.startDate).toLocaleDateString("vi-VN")} - ${new Date(t.endDate).toLocaleDateString("vi-VN")}`],[`Ngày xuất: ${new Date().toLocaleDateString("vi-VN")} ${new Date().toLocaleTimeString("vi-VN")}`],[`Trạng thái: ${u==="ALL"?"Tất cả":u}`],[`Tổng số bản ghi: ${j.details.length}`],[""],["STT","ID Phiếu","Ngày đặt","Check-in","Check-out","Số ngày","Trạng thái","Khách hàng","CCCD","SĐT","Email","Phòng","Loại phòng","Tiền cọc","Tổng tiền"]];j.details.forEach((W,ue)=>{T.push([ue+1,W.idPd||"",W.ngayDat?new Date(W.ngayDat).toLocaleDateString("vi-VN"):"",W.ngayBdThue?new Date(W.ngayBdThue).toLocaleDateString("vi-VN"):"",W.ngayDi?new Date(W.ngayDi).toLocaleDateString("vi-VN"):"",W.soNgayO||0,W.trangThaiGoc||"",W.hoTenKhach||"",W.cccdKhach||"",W.sdtKhach||"",W.emailKhach||"",`Phòng ${W.soPhongDat}`,W.chiTietPhong||"",W.soTienCoc||0,W.tongTienPhong||0])});const k=Oi.aoa_to_sheet(T),D=[{wch:5},{wch:10},{wch:12},{wch:12},{wch:12},{wch:8},{wch:15},{wch:20},{wch:15},{wch:12},{wch:25},{wch:12},{wch:18},{wch:15},{wch:18}];k["!cols"]=D,k["!merges"]=[{s:{r:0,c:0},e:{r:0,c:14}},{s:{r:2,c:0},e:{r:2,c:14}},{s:{r:3,c:0},e:{r:3,c:14}},{s:{r:4,c:0},e:{r:4,c:14}},{s:{r:5,c:0},e:{r:5,c:14}}],k.A1&&(k.A1.s={font:{bold:!0,sz:16,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"1E40AF"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"thick",color:{rgb:"000000"}},bottom:{style:"thick",color:{rgb:"000000"}},left:{style:"thick",color:{rgb:"000000"}},right:{style:"thick",color:{rgb:"000000"}}}});for(let W=3;W<=6;W++)k[`A${W}`]&&(k[`A${W}`].s={font:{bold:!0,sz:11},alignment:{horizontal:"center"},fill:{fgColor:{rgb:"F3F4F6"}}});const H=8;for(let W=0;W<15;W++){const ue=Oi.encode_cell({r:H-1,c:W});k[ue]&&(k[ue].s={font:{bold:!0,color:{rgb:"FFFFFF"},sz:11},fill:{fgColor:{rgb:"059669"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"medium",color:{rgb:"000000"}},bottom:{style:"medium",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}})}const O=Oi.decode_range(k["!ref"]);for(let W=H;W<=O.e.r;W++)for(let ue=0;ue<=14;ue++){const G=Oi.encode_cell({r:W,c:ue});if(k[G]){const I=(W-H)%2===0;if(k[G].s={alignment:{horizontal:ue===0?"center":ue>=13?"right":"left",vertical:"center"},fill:{fgColor:{rgb:I?"FFFFFF":"F9FAFB"}},border:{top:{style:"thin",color:{rgb:"E5E7EB"}},bottom:{style:"thin",color:{rgb:"E5E7EB"}},left:{style:"thin",color:{rgb:"E5E7EB"}},right:{style:"thin",color:{rgb:"E5E7EB"}}}},(ue===13||ue===14)&&k[G].v&&typeof k[G].v=="number"&&(k[G].z='#,##0" VNĐ"',k[G].s.font={color:{rgb:"059669"},bold:!0}),ue===6&&k[G].v){const K=k[G].v;K==="Xác nhận"?k[G].s.font={color:{rgb:"059669"},bold:!0}:K==="Chờ xác nhận"?k[G].s.font={color:{rgb:"D97706"},bold:!0}:K==="Đã hủy"&&(k[G].s.font={color:{rgb:"DC2626"},bold:!0})}}}k["!autofilter"]={ref:`A8:O${j.details.length+8}`},k["!rows"]=[{hpt:35},{hpt:15},{hpt:20},{hpt:20},{hpt:20},{hpt:20},{hpt:15},{hpt:30},...Array(j.details.length).fill({hpt:25})],Oi.book_append_sheet(C,k,"Chi tiết đặt phòng");const B=`ChiTiet_DatPhong_${t.startDate}_${t.endDate}.xlsx`;h7(C,B),alert("Báo cáo Excel đã được tải xuống thành công!")},y=j=>j>0?s.jsx(Du,{className:"w-4 h-4 text-green-600"}):j<0?s.jsx(q_,{className:"w-4 h-4 text-red-600"}):s.jsx(x_,{className:"w-4 h-4 text-gray-600"}),b=j=>j>0?"text-green-600":j<0?"text-red-600":"text-gray-600";return s.jsxs("div",{className:"space-y-6 max-w-full overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo & Thống kê"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Phân tích dữ liệu hoạt động kinh doanh"})]}),s.jsxs("div",{className:"flex space-x-3 no-print",children:[s.jsxs("button",{onClick:()=>p(),className:"btn-outline",disabled:i,children:[s.jsx(vc,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Làm mới"]}),s.jsxs("button",{onClick:()=>v("excel"),className:"btn-primary",disabled:i||!(r==="booking"&&l&&l.details&&l.details.length>0),children:[s.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Xuất Excel"]})]})]}),s.jsxs("div",{className:"card no-print",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Lo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bộ lọc báo cáo"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),s.jsxs("select",{value:r,onChange:j=>a(j.target.value),className:"input",children:[s.jsx("option",{value:"booking",children:"Đặt phòng"}),s.jsx("option",{value:"revenue",children:"Doanh thu"}),s.jsx("option",{value:"occupancy",children:"Tỷ lệ lấp đầy"}),s.jsx("option",{value:"customer",children:"Khách hàng"}),s.jsx("option",{value:"staff",children:"Nhân viên"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Từ ngày"}),s.jsx("input",{type:"date",value:t.startDate,onChange:j=>w("startDate",j.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đến ngày"}),s.jsx("input",{type:"date",value:t.endDate,onChange:j=>w("endDate",j.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"input",disabled:r!=="booking",children:[s.jsx("option",{value:"ALL",children:"Tất cả"}),s.jsx("option",{value:"Chờ xác nhận",children:"Chờ xác nhận"}),s.jsx("option",{value:"Xác nhận",children:"Xác nhận"}),s.jsx("option",{value:"Đã check-in",children:"Đã check-in"}),s.jsx("option",{value:"Đã hủy",children:"Đã hủy"})]})]})]})]}),r==="booking"&&l&&s.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[l.summary&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(vi,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng số phiếu"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.tongSoPhieu||0})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(No,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng tiền cọc"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.summary.tongTienCoc||"0"," VNĐ"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(mr,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng phòng đặt"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.tongSoPhongDat||0})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(pt,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Số ngày ở TB"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.summary.soNgayOTb||0," ngày"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(Du,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng tiền phòng"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.summary.tongTienPhong||"0"," VNĐ"]})]})]})})]}),l.details&&l.details.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 space-y-2 sm:space-y-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chi tiết đặt phòng"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Hiển thị:"}),s.jsxs("select",{value:m,onChange:j=>{x(Number(j.target.value)),f(1)},className:"text-sm border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:5,children:"5"}),s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:"mục/trang"})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Tổng: ",l.totalRecords," bản ghi"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày đặt"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-out"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Số ngày"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"SĐT"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Tiền cọc"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.details.slice((d-1)*m,d*m).map((j,C)=>{var T,k;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j.idPd}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.ngayDat).toLocaleDateString("vi-VN")}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.ngayBdThue).toLocaleDateString("vi-VN")}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.ngayDi).toLocaleDateString("vi-VN")}),s.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 hidden sm:table-cell",children:[j.soNgayO," ngày"]}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.trangThaiGoc==="Xác nhận"?"bg-green-100 text-green-800":j.trangThaiGoc==="Chờ xác nhận"?"bg-yellow-100 text-yellow-800":j.trangThaiGoc==="Đã hủy"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:j.trangThaiGoc})}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.hoTenKhach}),s.jsx("div",{className:"text-gray-500 text-xs",children:j.emailKhach})]})}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 hidden md:table-cell",children:j.sdtKhach}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["Phòng ",j.soPhongDat]}),s.jsx("div",{className:"text-gray-500 text-xs",children:j.chiTietPhong})]})}),s.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 hidden lg:table-cell",children:[(T=j.soTienCoc)==null?void 0:T.toLocaleString()," VNĐ"]}),s.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[(k=j.tongTienPhong)==null?void 0:k.toLocaleString()," VNĐ"]})]},C)})})]})}),l.details&&l.details.length>m&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex justify-between flex-1 sm:hidden",children:[s.jsx("button",{onClick:()=>f(Math.max(d-1,1)),disabled:d===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),s.jsx("button",{onClick:()=>f(Math.min(d+1,Math.ceil(l.details.length/m))),disabled:d===Math.ceil(l.details.length/m),className:"relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]}),s.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Hiển thị"," ",s.jsx("span",{className:"font-medium",children:(d-1)*m+1})," ","-"," ",s.jsx("span",{className:"font-medium",children:Math.min(d*m,l.details.length)})," ","trong"," ",s.jsx("span",{className:"font-medium",children:l.details.length})," ","kết quả"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>f(Math.max(d-1,1)),disabled:d===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Trang trước"}),"‹"]}),Array.from({length:Math.ceil(l.details.length/m)},(j,C)=>C+1).filter(j=>{const C=Math.ceil(l.details.length/m);return C<=7||j===1||j===C||j>=d-2&&j<=d+2}).map((j,C,T)=>{const k=C>0&&j-T[C-1]>1;return s.jsxs(re.Fragment,{children:[k&&s.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),s.jsx("button",{onClick:()=>f(j),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${d===j?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:j})]},j)}),s.jsxs("button",{onClick:()=>f(Math.min(d+1,Math.ceil(l.details.length/m))),disabled:d===Math.ceil(l.details.length/m),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Trang sau"}),"›"]})]})})]})]})]})]}),r==="revenue"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(No,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng doanh thu"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l!=null&&l.total?(l.total/1e6).toFixed(0):0,"M VNĐ"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[y((l==null?void 0:l.growth)||0),s.jsxs("span",{className:`text-sm ml-1 ${b((l==null?void 0:l.growth)||0)}`,children:[(l==null?void 0:l.growth)||0,"%"]})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(pt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu/ngày"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l!=null&&l.daily?(l.daily/1e6).toFixed(1):0,"M VNĐ"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(Du,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu/tháng"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l!=null&&l.monthly?(l.monthly/1e6).toFixed(0):0,"M VNĐ"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(I_,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nguồn chính"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Phòng"}),s.jsx("p",{className:"text-sm text-gray-500",children:"76.5%"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Doanh thu theo dịch vụ"}),s.jsxs("div",{className:"space-y-4",children:[((l==null?void 0:l.byService)||[]).map((j,C)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.name}),s.jsxs("span",{className:"text-sm text-gray-600",children:[j.percentage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${j.percentage}%`}})})]}),s.jsx("div",{className:"ml-4 text-right",children:s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[(j.value/1e6).toFixed(0),"M VNĐ"]})})]},C)),(!(l!=null&&l.byService)||l.byService.length===0)&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"Chưa có dữ liệu doanh thu theo dịch vụ"})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Biểu đồ doanh thu"}),s.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Biểu đồ doanh thu theo thời gian"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tích hợp Chart.js"})]})})]})]})]})]})},k7=()=>{var h;const[e,t]=N.useState(!1),[n,r]=N.useState(!1),{user:a,isAuthenticated:i,logout:o}=Pr(),l=tr(),c=()=>{o(),l("/")},u=()=>{if(!a)return"/login";switch(a.role){case"ADMIN":return"/admin";case"EMPLOYEE":return"/staff";case"CUSTOMER":return"/customer";default:return"/login"}};return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs($e,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Hotel Booking"})]}),s.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[s.jsx($e,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Trang chủ"}),s.jsx($e,{to:"/customer/booking",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Đặt phòng"}),i()&&(a==null?void 0:a.role)==="CUSTOMER"&&s.jsx($e,{to:"/customer/history",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Lịch sử đặt phòng"}),i()?s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors",children:[s.jsx(Ft,{className:"w-5 h-5"}),s.jsx("span",{children:(a==null?void 0:a.hoTen)||(a!=null&&a.ho&&(a!=null&&a.ten)?`${a.ho} ${a.ten}`.trim():"")||(a==null?void 0:a.tenNhanVien)||(a==null?void 0:a.tenKhachHang)||((h=a==null?void 0:a.email)==null?void 0:h.split("@")[0])||"Người dùng"})]}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[s.jsxs($e,{to:u(),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>r(!1),children:[s.jsx(jd,{className:"w-4 h-4 inline mr-2"}),"Dashboard"]}),(a==null?void 0:a.role)==="CUSTOMER"&&s.jsxs($e,{to:"/customer/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>r(!1),children:[s.jsx(Ft,{className:"w-4 h-4 inline mr-2"}),"Thông tin cá nhân"]}),s.jsxs("button",{onClick:c,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[s.jsx(XN,{className:"w-4 h-4 inline mr-2"}),"Đăng xuất"]})]})]}):s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Đăng nhập"}),s.jsx($e,{to:"/register",className:"btn-primary",children:"Đăng ký"})]})]}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-md text-gray-700 hover:text-primary-600 hover:bg-gray-100",children:e?s.jsx(pn,{className:"w-6 h-6"}):s.jsx(A_,{className:"w-6 h-6"})})]}),e&&s.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx($e,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Trang chủ"}),s.jsx($e,{to:"/customer/booking",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Đặt phòng"}),i()&&(a==null?void 0:a.role)==="CUSTOMER"&&s.jsx($e,{to:"/customer/history",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Lịch sử đặt phòng"}),i()?s.jsxs(s.Fragment,{children:[s.jsx($e,{to:u(),className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Dashboard"}),s.jsx("button",{onClick:c,className:"text-left text-gray-700 hover:text-primary-600 transition-colors",children:"Đăng xuất"})]}):s.jsxs(s.Fragment,{children:[s.jsx($e,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Đăng nhập"}),s.jsx($e,{to:"/register",className:"btn-primary inline-block text-center",onClick:()=>t(!1),children:"Đăng ký"})]})]})})]})})},S7=()=>s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(k7,{}),s.jsx("main",{className:"flex-1",children:s.jsx(md,{})}),s.jsx($2,{})]}),C7=()=>{const e=[{path:"/customer",icon:yc,label:"Dashboard",end:!0},{path:"/customer/booking",icon:pt,label:"Đặt phòng"},{path:"/customer/history",icon:__,label:"Lịch sử đặt phòng"},{path:"/customer/profile",icon:Ft,label:"Thông tin cá nhân"}];return s.jsx("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:s.jsx("nav",{className:"p-4",children:s.jsx("ul",{className:"space-y-2",children:e.map(t=>{const n=t.icon;return s.jsx("li",{children:s.jsxs(yp,{to:t.path,end:t.end,className:({isActive:r})=>`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-primary-50 text-primary-700 border-r-2 border-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(n,{className:"w-5 h-5"}),s.jsx("span",{children:t.label})]})},t.path)})})})})},E7=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Rd,{}),s.jsxs("div",{className:"flex",children:[s.jsx(C7,{}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(md,{})})]})]}),_7=()=>{const e=[{path:"/staff",icon:yc,label:"Dashboard",end:!0},{path:"/staff/reservations",icon:pt,label:"Quản lý đặt phòng"},{path:"/staff/rentals",icon:mn,label:"Quản lý thuê phòng"},{path:"/staff/checkin",icon:va,label:"Check-in"},{path:"/staff/checkout",icon:ei,label:"Check-out"},{path:"/staff/invoices",icon:vi,label:"Quản lý hóa đơn"},{path:"/staff/walkin",icon:ph,label:"Walk-in Check-in"},{path:"/staff/rooms",icon:mr,label:"Quản lý phòng"},{path:"/staff/room-changes",icon:vc,label:"Quản lý đổi phòng"},{path:"/staff/services",icon:jd,label:"Dịch vụ & Phụ thu"}];return s.jsx("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:s.jsx("nav",{className:"p-4",children:s.jsx("ul",{className:"space-y-2",children:e.map(t=>{const n=t.icon;return s.jsx("li",{children:s.jsxs(yp,{to:t.path,end:t.end,className:({isActive:r})=>`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-primary-50 text-primary-700 border-r-2 border-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(n,{className:"w-5 h-5"}),s.jsx("span",{children:t.label})]})},t.path)})})})})},D7=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Rd,{}),s.jsxs("div",{className:"flex",children:[s.jsx(_7,{}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(md,{})})]})]}),P7=()=>{const e=[{path:"/admin",icon:yc,label:"Dashboard",end:!0},{path:"/admin/rooms",icon:mr,label:"Quản lý phòng"},{path:"/admin/staff",icon:mn,label:"Quản lý nhân viên"},{path:"/admin/services",icon:wo,label:"Quản lý dịch vụ"},{path:"/admin/amenities",icon:mh,label:"Quản lý tiện nghi"},{path:"/admin/room-prices",icon:No,label:"Quản lý giá phòng"},{path:"/admin/surcharges",icon:Bn,label:"Quản lý phụ thu"},{path:"/admin/reports",icon:fh,label:"Báo cáo & Thống kê"}];return s.jsx("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:s.jsx("nav",{className:"p-4",children:s.jsx("ul",{className:"space-y-2",children:e.map(t=>{const n=t.icon;return s.jsx("li",{children:s.jsxs(yp,{to:t.path,end:t.end,className:({isActive:r})=>`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-primary-50 text-primary-700 border-r-2 border-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(n,{className:"w-5 h-5"}),s.jsx("span",{children:t.label})]})},t.path)})})})})},A7=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Rd,{}),s.jsxs("div",{className:"flex",children:[s.jsx(P7,{}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(md,{})})]})]});function O7(){return s.jsxs(d_,{children:[s.jsx("div",{className:"App",children:s.jsxs(ZS,{children:[s.jsxs(Qe,{path:"/",element:s.jsx(S7,{}),children:[s.jsx(Qe,{index:!0,element:s.jsx(G5,{})}),s.jsx(Qe,{path:"rooms",element:s.jsx(X5,{})}),s.jsx(Qe,{path:"rooms/:id",element:s.jsx(J5,{})}),s.jsx(Qe,{path:"booking",element:s.jsx(Z5,{})}),s.jsx(Qe,{path:"login",element:s.jsx(eA,{})}),s.jsx(Qe,{path:"register",element:s.jsx(tA,{})}),s.jsx(Qe,{path:"forgot-password",element:s.jsx(nA,{})}),s.jsx(Qe,{path:"reset-password/:token",element:s.jsx(rA,{})})]}),s.jsxs(Qe,{path:"/customer",element:s.jsx(Gc,{allowedRoles:["CUSTOMER"],children:s.jsx(E7,{})}),children:[s.jsx(Qe,{index:!0,element:s.jsx(aA,{})}),s.jsx(Qe,{path:"booking",element:s.jsx(iA,{})}),s.jsx(Qe,{path:"history",element:s.jsx(oA,{})}),s.jsx(Qe,{path:"profile",element:s.jsx(lA,{})})]}),s.jsxs(Qe,{path:"/staff",element:s.jsx(Gc,{allowedRoles:["EMPLOYEE","ADMIN"],children:s.jsx(D7,{})}),children:[s.jsx(Qe,{index:!0,element:s.jsx(uA,{})}),s.jsx(Qe,{path:"reservations",element:s.jsx(hA,{})}),s.jsx(Qe,{path:"checkin",element:s.jsx(fA,{})}),s.jsx(Qe,{path:"rentals",element:s.jsx(pA,{})}),s.jsx(Qe,{path:"checkout",element:s.jsx(bA,{})}),s.jsx(Qe,{path:"invoices",element:s.jsx(jA,{})}),s.jsx(Qe,{path:"walkin",element:s.jsx(TA,{})}),s.jsx(Qe,{path:"rooms",element:s.jsx(kA,{})}),s.jsx(Qe,{path:"room-changes",element:s.jsx(CA,{})}),s.jsx(Qe,{path:"services",element:s.jsx(SA,{})})]}),s.jsxs(Qe,{path:"/admin",element:s.jsx(Gc,{allowedRoles:["ADMIN"],children:s.jsx(A7,{})}),children:[s.jsx(Qe,{index:!0,element:s.jsx(EA,{})}),s.jsx(Qe,{path:"rooms",element:s.jsx(_A,{})}),s.jsx(Qe,{path:"staff",element:s.jsx(DA,{})}),s.jsx(Qe,{path:"services",element:s.jsx(PA,{})}),s.jsx(Qe,{path:"amenities",element:s.jsx(AA,{})}),s.jsx(Qe,{path:"room-prices",element:s.jsx(OA,{})}),s.jsx(Qe,{path:"surcharges",element:s.jsx(RA,{})}),s.jsx(Qe,{path:"reports",element:s.jsx(T7,{})})]}),s.jsx(Qe,{path:"/profile",element:s.jsx(Gc,{allowedRoles:["CUSTOMER","EMPLOYEE","ADMIN"],children:s.jsx(sA,{})})}),s.jsx(Qe,{path:"*",element:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("p",{className:"text-gray-600",children:"Trang không tồn tại"})]})})})]})}),s.jsx(pN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}const R7=new RC({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});Yf.createRoot(document.getElementById("root")).render(s.jsx(re.StrictMode,{children:s.jsx(BC,{client:R7,children:s.jsx(z4,{options:q4.options,children:s.jsxs(lC,{children:[s.jsx(O7,{}),s.jsx(pN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}));
//# sourceMappingURL=index-CrM_Oo62.js.map
